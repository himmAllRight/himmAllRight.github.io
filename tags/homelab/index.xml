<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Homelab on λ ryan. himmelwright. net</title>
    <link>http://ryan.himmelwright.net/tags/homelab/</link>
    <description>Recent content in Homelab on λ ryan. himmelwright. net</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 10 Sep 2020 00:00:00 +0000</lastBuildDate>
    
        <atom:link href="http://ryan.himmelwright.net/tags/homelab/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Running VMs with VirtIO 3D Acceleration</title>
      <link>http://ryan.himmelwright.net/post/virtio-3d-vms/</link>
      <pubDate>Thu, 10 Sep 2020 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/virtio-3d-vms/</guid>
      <description>&lt;p&gt;While on vacation the other week, the only laptop I brought along was &lt;a href=&#34;http://ryan.himmelwright.net/post/new-2019-16inch-mbp/&#34;&gt;my
macbook pro&lt;/a&gt;. That
being said, I still wanted the ability to jump into Linux while I was away.  I
needed to virtualize. I&amp;rsquo;ve used VirtualBox in the past, and while it&amp;rsquo;s &lt;em&gt;fine&lt;/em&gt;
for running headless installs, I find that it is not a great experience on
macOS when trying to run a full desktop environment. So I downloaded the free
trial of &lt;a href=&#34;https://www.parallels.com/blogs/just-released-parallels-desktop-for-mac/&#34;&gt;parallels desktop
15&lt;/a&gt;,
and honestly&amp;hellip; it was great. Afterwards, I was motivated to improve the
experience of VMs running on my (Linux) desktop.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;img/posts/virtio-3d-vms/parallels.png&#34;&gt;
&lt;img alt=&#34;Parallels Desktop on MacOS&#34; src=&#34;../../img/posts/virtio-3d-vms/parallels.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Parallels desktop on MacOS&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Parallels handled graphics on both my Windows and Linux guests wonderfully. I
would full-screen the VM and it felt like I was running that OS directly on my
macbook (for the most part). I was sad when the trial was over, but decided not
to buy the subscription. My main reason being&amp;hellip; my VM computer is &lt;em&gt;not&lt;/em&gt; my
macbook, it&amp;rsquo;s my Linux desktop.&lt;/p&gt;

&lt;p&gt;I love libvirt and virt-manager, but using parallels showed me that I really
needed to figure out how to improve the graphics situation of my VMs to catch
up. I wanted to be able to work in guest VMs, without a lagging
UI or &lt;em&gt;feeling&lt;/em&gt; like I was &lt;em&gt;in&lt;/em&gt; a VM.&lt;/p&gt;

&lt;h3 id=&#34;vfio-gpu-passthrough&#34;&gt;VFIO - GPU Passthrough&lt;/h3&gt;

&lt;p&gt;Prior to my trip, I had been experimenting &lt;em&gt;once again&lt;/em&gt; with VFIO&amp;hellip; and
actually got it working* for the first time. If you don&amp;rsquo;t know what this means,
basically in Linux it is possible to pass a full device, like a GPU, through to
a VM to be used directly. The technology was made more widely known a few years
ago from the &amp;ldquo;X Gamers, 1 CPU&amp;rdquo; serries of videos Linux Tech Tips made.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/LuJYMCbIbPk&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;div class=&#34;caption&#34;&gt;The first video of the serries, 2 Gaming PCs 1 Tower&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;I was able to temporarily run both Proxmox and Unraid on my desktop, and pass
my gpu directly to Fedora VMs.  While it was a neat experiment, I realized it
can also be quite a pain.&lt;/p&gt;

&lt;p&gt;I currently only have one GPU in my desktop, so to pass it to the VM I had to
disable it on the host. Not having a GPU for the host system meant that I had
to start the VMs from another device, which honestly isn&amp;rsquo;t &lt;em&gt;that&lt;/em&gt; bad. The much
worse issue however, was that the gpu would often get stuck while being passed
around, so I had to reboot my host whenever the VM restarted&amp;hellip; which defeated
the point of using a VM instead of multi-booting.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/6T_-HMkgxt0&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;div class=&#34;caption&#34;&gt;Gaming on Linux continues to get better over time&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;So to &lt;em&gt;properly&lt;/em&gt; utilize VFIO and have a more stable setup, I would want a
second GPU. In truth though, I realized this setup wasn&amp;rsquo;t what I was looking
for. KVM gpu passthrough is a great option if you run Linux as your main
computer, but want to be able to boot into a Windows VM to play games. But GPU
passthrough is slowly becoming overkill even for &lt;em&gt;that&lt;/em&gt;, as gaming support on
Linux keeps getting better.&lt;/p&gt;

&lt;p&gt;Aside from having an occasional Windows VM to play around with, I mostly want
to run Linux VMs on a Linux host. I needed to figure out how to let my VMs
utilize the &lt;em&gt;power&lt;/em&gt; of my GPU, without the complications of GPU passthrough&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;virgil&#34;&gt;Virgil&lt;/h3&gt;

&lt;p&gt;Introducing, &lt;a href=&#34;https://virgil3d.github.io&#34;&gt;virgil&lt;/a&gt;. According to the
project&amp;rsquo;s website:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Virgil is a research project to investigate the possibility of creating a virtual 3D GPU for use inside qemu virtual machines, that allows the guest operating system to use the capabilities of the host GPU to accelerate 3D rendering. The plan is to have a guest GPU that is fully independent of the host GPU.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;So, Virgil essentially allows libvirt to create &lt;em&gt;virtual 3D GPUs&lt;/em&gt;, that work
with the host GPU for 3D acceleratuon.  This means, that I &lt;em&gt;should&lt;/em&gt; be able to
get high performing VMs, including the graphics, on my Linux desktop.&lt;/p&gt;

&lt;h2 id=&#34;setup&#34;&gt;Setup&lt;/h2&gt;

&lt;p&gt;Enabling virgil for a VM using virt-manager actually ended up be much easier
that I had anticipated. Here is how to do it:&lt;/p&gt;

&lt;h3 id=&#34;create-a-vm&#34;&gt;Create a VM&lt;/h3&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;img/posts/virtio-3d-vms/new_fedora_vm.png&#34;&gt;
&lt;img alt=&#34;Newly Created Fedora VM&#34; src=&#34;../../img/posts/virtio-3d-vms/new_fedora_vm.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Newly created Fedora VM&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;First, create and install a new virtual machine using &lt;code&gt;virt-manager&lt;/code&gt;. I
recommend going through your normal install process and then boot into the
installed system once, just to ensure that everything works as expected. If
things look good, shutdown the VM and open up the settings window.&lt;/p&gt;

&lt;h3 id=&#34;enable-virtio-and-3d-acceleration&#34;&gt;Enable VirtIO and 3D Acceleration&lt;/h3&gt;

&lt;h4 id=&#34;spice-settings&#34;&gt;Spice Settings&lt;/h4&gt;

&lt;p&gt;In the settings menu, open up the &lt;em&gt;Display Spice&lt;/em&gt; section.&lt;/p&gt;

&lt;p&gt;&lt;center&gt; &lt;a href=&#34;img/posts/virtio-3d-vms/display_spice_config_post.png&#34;&gt;
&lt;img alt=&#34;Virt-manager&#39;s Spice settings for a VM&#34; src=&#34;../../img/posts/virtio-3d-vms/display_spice_config_post.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;In the VM&amp;rsquo;s &amp;lsquo;Display Spice&amp;rsquo; config, select &amp;lsquo;None&amp;rsquo; for
Listen type, and check the box for OpenGL&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Select &lt;code&gt;Spice server&lt;/code&gt; for &lt;code&gt;Type:&lt;/code&gt;, and &lt;code&gt;None&lt;/code&gt; for &lt;code&gt;Listen type:&lt;/code&gt; (virgil only
works on local VMs right now). Lastly, make sure that the &lt;code&gt;OpenGL&lt;/code&gt; checkbox
&lt;em&gt;is&lt;/em&gt; checked. Hit &lt;code&gt;Apply&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&#34;virtio-settings&#34;&gt;Virtio Settings&lt;/h4&gt;

&lt;p&gt;Next, select the &lt;em&gt;Video Virtio&lt;/em&gt; section.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;img/posts/virtio-3d-vms/video_config_post.png&#34;&gt;
&lt;img alt=&#34;Virt-manager&#39;s Video settings for a VM&#34; src=&#34;../../img/posts/virtio-3d-vms/video_config_post.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;In the VM&amp;rsquo;s video settings, switch to Virtio and select 3D
acceleration&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Switch to &lt;code&gt;Virtio&lt;/code&gt; for &lt;code&gt;Model:&lt;/code&gt;, and make sure to check the &lt;code&gt;3D acceleration&lt;/code&gt;
checkbox. That&amp;rsquo;s it! Hit apply, start up the VM, and verify that it is working.&lt;/p&gt;

&lt;h2 id=&#34;testing-and-comparisons&#34;&gt;Testing and Comparisons&lt;/h2&gt;

&lt;h3 id=&#34;youtube-video-playback&#34;&gt;Youtube Video Playback&lt;/h3&gt;

&lt;p&gt;While configuring this for the first time, there were a few benchmarks I used
to tell if and how well it was working. The first one, was simply opening up
Firefox and trying to play a fullscreen Youtube Video (at 1440p).&lt;/p&gt;

&lt;p&gt;Now to be fair, the video playback was still &lt;em&gt;okay&lt;/em&gt; before I made this change.
This wasn&amp;rsquo;t a good measure, but rather an initial test.&lt;/p&gt;

&lt;h3 id=&#34;unigine-heaven-benchmark&#34;&gt;Unigine Heaven Benchmark&lt;/h3&gt;

&lt;p&gt;My next step was to give the VM a &lt;em&gt;real&lt;/em&gt; GPU test, so I downloaded the &lt;a href=&#34;https://benchmark.unigine.com/heaven&#34;&gt;Unigine
Heaven Benchmark&lt;/a&gt;. First I got my
baseline by running the benchmark directly on my host system. &lt;em&gt;It should be
noted that I did have other applications running during all of these benchmarks&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;img/posts/virtio-3d-vms/unigine_heaven_score_host_export.png&#34;&gt;
&lt;img alt=&#34;Unigine Heaven Benchmark - Host&#34; src=&#34;../../img/posts/virtio-3d-vms/unigine_heaven_score_host_export.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Unigine Heaven Benchmark running directly on the host (my
desktop)&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;So not bad, and roughly what I expected. Next, I tried running it in the VM&amp;hellip;&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;img/posts/virtio-3d-vms/unigine_heaven_score_vm_export.png&#34;&gt;
&lt;img alt=&#34;Unigine Heaven Benchmark - VM&#34; src=&#34;../../img/posts/virtio-3d-vms/unigine_heaven_score_vm.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Unigine Heaven Benchmark running inside the VM with
&lt;em&gt;shared&lt;/em&gt; graphics&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;While not as good as on the host, it is a &lt;em&gt;very&lt;/em&gt; respectable result. Especially
after remembering that the VM had less cores and RAM assigned to it compared to
the host.&lt;/p&gt;

&lt;p&gt;Additionally, my default VM &lt;em&gt;wouldn&amp;rsquo;t even run&lt;/em&gt; the benchmark. I was
able to open it, but the load screen ran frame-by-frame. Turning on the
3D acceleration settings definitely made a difference.&lt;/p&gt;

&lt;h3 id=&#34;portal-2&#34;&gt;Portal 2&lt;/h3&gt;

&lt;p&gt;With the Unigine Heaven benchmark working in my VM, I decided to attempt the
next test&amp;hellip; playing a video game. Now, I have &lt;em&gt;zero&lt;/em&gt; intentions of running games in
my VMs, but this is the most common use case for having a GPU-passthrough
setup, so I wanted to see how this system compared.&lt;/p&gt;

&lt;p&gt;I decided to try running a classic game: Portal 2. It&amp;rsquo;s not a very resource
intensive game, but one that certainly does &lt;em&gt;not&lt;/em&gt; normally run well in my VMs.
I installed the game, started a level&amp;hellip;  and was immediately forced to stare
at the ground.&lt;/p&gt;

&lt;p&gt;Staring at my character&amp;rsquo;s feet, I was reminded that I was playing in a VM, and
that the game didn&amp;rsquo;t actually have my proper mouse capture. It only had the
input clicks from my host to the VM spice window, which wasn&amp;rsquo;t enough to
actually play the game.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;img/posts/virtio-3d-vms/portal2_window.png&#34;&gt;
&lt;img alt=&#34;Playing Portal 2 in a Fedora VM&#34; src=&#34;../../img/posts/virtio-3d-vms/portal2_window.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Playing Portal2 at 2560x1440 resolution, inside my Fedora
VM.(I had it full screen but windowed it to show it was indeed in the VM)&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Anyway, after one VM shutdown and usb mouse pasthrough later&amp;hellip; I was playing
Portal 2! It was a little glitchy for the first few seconds, but afterwards ran
well.  I think the initial lag was likely due to the system heavily hitting the
&lt;em&gt;virtualized&lt;/em&gt; disk while loading the level. Regardless, I was thrilled.&lt;/p&gt;

&lt;h2 id=&#34;drawbacks-limitations&#34;&gt;Drawbacks/Limitations&lt;/h2&gt;

&lt;p&gt;While I&amp;rsquo;m very happy with the performance of my virtio VM, there are a few
drawbacks or limitations to keep in mind:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Need to pass through hardware devices&lt;/strong&gt;: &amp;hellip; like a mouse when gaming XD. This
could also be a webcam, microphone, flash drive, or even a full ssd if you need
better IO in the VM.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Linux Guests Only:&lt;/strong&gt; While researching, I saw &lt;a href=&#34;https://www.youtube.com/watch?v=aBgYNDLXuyg&#34;&gt;conference talks about getting
virgl working on Windows&lt;/a&gt; , but I
&lt;em&gt;think&lt;/em&gt; it currently only works with Linux guests.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;img/posts/virtio-3d-vms/other_working_distros.png&#34;&gt;
&lt;img alt=&#34;Both Manjaro and Pop_OS! worked fine&#34; src=&#34;../../img/posts/virtio-3d-vms/other_working_distros.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Both my Manjaro and Pop_OS! VMs worked just fine with
virgl&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Even on Linux, some Distros might freak out a bit&lt;/strong&gt;: I had weird issues
when trying it on some of my RHEL 8 VMs. The mouse pointer wouldn&amp;rsquo;t show
and the screen would glitch and flicker when running high graphics tasks. I&amp;rsquo;m
Not sure why it&amp;rsquo;s happening, but I&amp;rsquo;m guessing it might be related to older
software packages/kernel. I have tried it with Pop_OS! and Manjaro VMs and they
seem to work just fine.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;img/posts/virtio-3d-vms/glitch_t470_fedora.png&#34;&gt;
&lt;img alt=&#34;My Fedora VMs didn&#39;t work on my T470 Thinkpad&#34; src=&#34;../../img/posts/virtio-3d-vms/glitchy_t470_fedora.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;My Fedora VMs on my T470 Thinkpad (intel graphics only)
didn&amp;rsquo;t seem to like virgl&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Not entirely sure about hardware support&lt;/strong&gt;: So far my working VMs have all
been on my desktop, which has an AMD RX580 GPU. I tried using a Fedora guest
on my T470 Thinkpad which has integrated Intel graphics, but the screen was
all crazy at login. I don&amp;rsquo;t know what hardware is supported and
what isn&amp;rsquo;t. It is possible that different hardware might just need different
settings selected, but I have not played around enough yet to know for sure.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Overall, I love this setup. It allows me to utilie my desktop to it&amp;rsquo;s full
potential, by running VMs I can jump into and forget that I am in a
virtalized system. This works well when testing fedora packages, or maintaining
a &lt;a href=&#34;https://fedoraproject.org/wiki/Releases/Rawhide&#34;&gt;Rawhide&lt;/a&gt; machine. Virgl is
an awesome projects and I hope it continues to progress over time. If you
haven&amp;rsquo;t tried it yet, give it a shot!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Rx-580 Upgrade</title>
      <link>http://ryan.himmelwright.net/post/rx580-upgrade/</link>
      <pubDate>Thu, 28 May 2020 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/rx580-upgrade/</guid>
      <description>&lt;p&gt;Earlier this year, I noticed that my desktop seemingly did not connect to my
monitor. I used the computer mostly as a server, remoting in via &lt;code&gt;ssh&lt;/code&gt;, and
didn&amp;rsquo;t think much of it.  I assumed it was either a mis-plugged cable or a
configuration issue. A few months later, I started to game a bit more and
wanted to use my desktop as a gaming machine again. That is when I realized&amp;hellip;
it was an &lt;em&gt;actual&lt;/em&gt; issue. Long story short, my desktop now has an rx580 instead
of it&amp;rsquo;s old rx560.&lt;/p&gt;

&lt;h2 id=&#34;my-old-card-the-rx560&#34;&gt;My Old Card - The rx560&lt;/h2&gt;

&lt;p&gt;Before diving into the issues, lets recap. Why did I select the rx560 in the
first place? What did I like about it?&lt;/p&gt;

&lt;h4 id=&#34;i-wanted-an-amd-gpu&#34;&gt;I wanted an AMD GPU&lt;/h4&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/rx580-upgrade/amd_radeon_logo.png&#34;&gt;
&lt;img alt=&#34;rx580 price history&#34; src=&#34;../../img/posts/rx580-upgrade/amd_radeon_logo.png&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;When I &lt;a href=&#34;../../post/charmeleon-desktop-design/&#34;&gt;designed and built my desktop&lt;/a&gt;, I
knew I wanted to get an AMD GPU because their open source drivers were great,
and would allow me to skip all the headaches I&amp;rsquo;ve had over the years messing
around with the proprietary Nvidia drivers. I remain &lt;em&gt;very&lt;/em&gt; pleased with that
decision, and have had zero issues getting games up and running. No hassle,
period.&lt;/p&gt;

&lt;h4 id=&#34;i-needed-a-card-to-handle-modest-gaming&#34;&gt;I needed a card to handle &lt;em&gt;modest&lt;/em&gt; gaming&lt;/h4&gt;

&lt;p&gt;In the post about my desktop, I stated that while I wasn&amp;rsquo;t a big pc gamer, I
did enjoy the &lt;em&gt;occasional&lt;/em&gt; game. I play many games on consoles, especially the
ones I play with my wife, but desktop gaming is still my favorite. That said, I
don&amp;rsquo;t need all my graphics settings tuned to ultra, and I tend to not play the
&lt;em&gt;newest&lt;/em&gt; games.&lt;/p&gt;

&lt;p&gt;The rx560 was a perfect little card that give me &lt;em&gt;enough&lt;/em&gt; performance to play
most games, without costing too much. GPUs were still coming down from steep
prices due to crypto mining at the time, and saving some money on the GPU
allowed me to buy more RAM (which I needed more), while remaining under budget.&lt;/p&gt;

&lt;h4 id=&#34;i-planned-to-eventually-upgrade&#34;&gt;I planned to eventually upgrade&lt;/h4&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/rx580-upgrade/side-by-side-photo.jpeg&#34;&gt;
&lt;img alt=&#34;The rx560 and 580 side-by-side&#34; src=&#34;../../img/posts/rx580-upgrade/side-by-side-photo.jpeg&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The rx560 (bottom) next to my new rx580 (top)&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;One of the reasons I wanted to build a desktop computer again was for the
ability to upgrade it down the road. The build I designed had enough power
to fit all of my needs, but I configured it so that if any part lacked enough
performance over time, I could easily upgrade it.&lt;/p&gt;

&lt;p&gt;I knew one of the components I might eventually want to upgrade would be the
GPU. I figured that the rx560 should last me awhile, but if I started playing
more games, I could easily get a better one, and hopefully prices would be
lower. I could always upgrade to an rx580, or an even newer card if needed.&lt;/p&gt;

&lt;h3 id=&#34;issues&#34;&gt;Issues&lt;/h3&gt;

&lt;h4 id=&#34;debugging&#34;&gt;Debugging&lt;/h4&gt;

&lt;p&gt;Okay, back to the problem. As I said before, my desktop wouldn&amp;rsquo;t connect to my
monitor. When I &lt;code&gt;ssh&lt;/code&gt;&amp;lsquo;ed into it, everything worked as normal, and all of my
VMs and containers spun up without issue, as if there was nothing wrong.  I ran
commands like &lt;code&gt;lspci | grep &#39;VGA&#39;&lt;/code&gt; and &lt;code&gt;neofetch&lt;/code&gt;, and they still correctly
detected and listed the rx560, confirming the system &lt;em&gt;knew&lt;/em&gt; the card was there.
I did some more testing and confirmed that I couldn&amp;rsquo;t get a signal on &lt;em&gt;any&lt;/em&gt;
monitor in the house, using a large assortment of cables.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/rx580-upgrade/no_display.jpeg&#34;&gt;
&lt;img alt=&#34;Displays would not connect&#34; src=&#34;../../img/posts/rx580-upgrade/no_display.jpeg&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;No display would &amp;lsquo;connect&amp;rsquo;, even when plugged in&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;I attempted to boot into live cds and other os installs, but the system
wouldn&amp;rsquo;t even display the BIOS when starting.  Investigating further, I saw in
the logs that the &lt;code&gt;$DISPLAY&lt;/code&gt; was trying to connect via all the various inputs
(DVI, HDMI, etc) during bootup, but would eventually fail stating that there
was &lt;code&gt;No Display Attached&lt;/code&gt;, even when it was plugged in. I opened up the case,
ensured everything was connected properly, and even tried different cables.
Nothing.&lt;/p&gt;

&lt;h4 id=&#34;the-possible-solution&#34;&gt;The Possible &amp;lsquo;Solution&amp;rsquo;&lt;/h4&gt;

&lt;p&gt;I eventually narrowed down that the problem was being caused by issues with the
GPU, despite it showing up fine in my pci devices. If it wasn&amp;rsquo;t the GPU, it was
likely the motherboard&amp;hellip;. So I figured the next best (and easier) step was to
swap in another card and see if it worked. Not having a spare graphics card on
hand, and not being able to borrow one due to COVID-19 lockdown, my only option
was to order one.&lt;/p&gt;

&lt;p&gt;Fixing the display issues on my workstation was not an &lt;em&gt;urgent&lt;/em&gt; issue.
However, without the ability to connect to a display I couldn&amp;rsquo;t easily
re-install or debug my system if something went wrong. This was compounded by
the fact that I was running &lt;a href=&#34;https://silverblue.fedoraproject.org&#34;&gt;Fedora
Silverblue&lt;/a&gt;, and needed to reboot every
time I wanted to update my packages, never quite sure if I would be able to
&lt;code&gt;ssh&lt;/code&gt; back in when it was done. Lastly, I didn&amp;rsquo;t know what availability or
shipping times would be, given the pandemic. So, I decided it was best to just
order a new card now, rather than wait until the problem &lt;em&gt;did&lt;/em&gt; become urgent.&lt;/p&gt;

&lt;h2 id=&#34;my-new-card-the-rx-580&#34;&gt;My New Card: The RX-580&lt;/h2&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/rx580-upgrade/rx580_box.jpeg&#34;&gt;
&lt;img alt=&#34;The rx560 box arrived a few days later&#34; src=&#34;../../img/posts/rx580-upgrade/rx580_box.jpeg&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The rx580 box arrived a few days after ordering&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;After some brief researching, I decided on the rx580. I also considered the 570
and 590, as well as glanced at some of the newer AMD cards. The truth is, my
rx560 worked fine for what I needed. &lt;em&gt;If&lt;/em&gt; I was getting a new card
though, a small spec bump would be nice. The 580 seemed to provide more than
enough performance.&lt;/p&gt;

&lt;p&gt;So far, my experience confirms this. I am able to play my games (mostly
Divinity Original Sin II, Minecraft, and City Skylines, right now) generally
above 60 fps, and at mostly high or better settings. Additionally, because the
card isn&amp;rsquo;t being &lt;em&gt;too&lt;/em&gt; taxed during gameplay, it doesn&amp;rsquo;t seem to be heating up
too badly&amp;hellip;  which I also appreciate.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/rx580-upgrade/rx580-price-history.png&#34;&gt;
&lt;img alt=&#34;rx580 price history&#34; src=&#34;../../img/posts/rx580-upgrade/rx580-price-history.png&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;rx580 price history&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Lastly, the card dropped in price since I built my desktop. I purchased the
rx580 for only a little bit more than I originally paid for the rx560, and over
$100 cheaper than what it cost when I built the desktop. For what I need, the
price and performance are perfect.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;So far, I&amp;rsquo;m loving it. The rx580 does everything that I need it to and honestly
doesn&amp;rsquo;t give me any problems. Once again, I was able to plug in the card, boot
up the computer, open Steam, and start playing my games. No additional drivers,
no weird configuration, no bloatware. All on Linux. I am &lt;em&gt;very&lt;/em&gt; happy with the
purchase, and it has once again reminded me why I truly do love having a
desktop/workstation under my desk, even if it is used as a server &lt;em&gt;most&lt;/em&gt; of the
time.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Setup Mosh</title>
      <link>http://ryan.himmelwright.net/post/setup-mosh-shell/</link>
      <pubDate>Wed, 04 Dec 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/setup-mosh-shell/</guid>
      <description>&lt;p&gt;Since &lt;a href=&#34;../../post/charmeleon-desktop-design/&#34;&gt;builing my desktop&lt;/a&gt;, whenever I work
on another machine, I usually end up ssh&amp;rsquo;ing back to it to work remotely. It
has my files, more power, and much of my work flow is done from a terminal
window anyway, so why not?  The only issue I have with &lt;code&gt;ssh&lt;/code&gt; is that if I have
a spotty internet connection, or if I sleep/suspend my laptop while moving
around, the &lt;code&gt;ssh&lt;/code&gt; session will occasionally time out.  &lt;a href=&#34;../../post/scripting-tmux-workspaces/&#34;&gt;Tmux&lt;/a&gt;
and &lt;a href=&#34;../../post/setting-up-tmuxinator/&#34;&gt;tmuxinator&lt;/a&gt; make this less of an issue,
since I can re-attach my session, but I still wish my remote sessions were a
bit more seamless. They can be&amp;hellip; using &lt;code&gt;mosh&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&#34;mosh&#34;&gt;Mosh&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/setup-mosh/ponyta-mosh.png&#34;&gt;
&lt;img alt=&#34;Using mosh to conenct to a server&#34; src=&#34;../../img/posts/setup-mosh/ponyta-mosh.png&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Using &lt;code&gt;mosh&lt;/code&gt; to connect to one of my servers&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://mosh.org&#34;&gt;Mosh&lt;/a&gt; is a more robust replacement for interactive ssh
terminals. It automatically roams and continues to work even as the computer
switches networks or is put to sleep. It also responds to typing, even on a bad
connection, which cuts down on lag. Lastly, it&amp;rsquo;s free and open source software,
licenced under the GPLv3.&lt;/p&gt;

&lt;h4 id=&#34;mosh-install&#34;&gt;Mosh Install&lt;/h4&gt;

&lt;p&gt;Mosh should be in most Linux repos, and is also available on BSD, Mac, Windows,
and basically everything else.  For more information on how to install it on
your platform, head over to the &lt;a href=&#34;https://mosh.org/#getting&#34;&gt;getting mosh&lt;/a&gt;
page.  For me, it was a simple &lt;code&gt;dnf&lt;/code&gt;/&lt;code&gt;yum&lt;/code&gt; install to get it on both my laptop
and
server:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo dnf install mosh&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;*Note: My centos server required me to first enable the epel repos to get
access to &lt;code&gt;mosh&lt;/code&gt;. Fedora might also, but I already had it enabled on my
laptop.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo yum install -y epel-release
sudo yum install -y mosh&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;open-firewall-ports&#34;&gt;Open Firewall Ports&lt;/h4&gt;

&lt;p&gt;After installing &lt;code&gt;mosh&lt;/code&gt;&amp;hellip; it might not immediately work. If so, it is likely
due to not having the required ports open. Mosh uses UDP ports 60000-61000 for
it&amp;rsquo;s connections. Enable these ports and optionally restart the firewall,
before trying mosh again.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: If you want to connect from outside the network, remember to also
forward these ports on the network.&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&#34;connect&#34;&gt;Connect&lt;/h4&gt;

&lt;p&gt;We should now be able to connect to the server using mosh. Typical connections
look very similar to &lt;code&gt;ssh&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mosh ryan@centos-server&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If a specific mosh UDP port needs to be specified (for port-forwarding, for example)
use the &lt;code&gt;-p&lt;/code&gt; flag:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mosh -p 1234 ryan@centos-server&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ssh-options&#34;&gt;SSH Options&lt;/h4&gt;

&lt;p&gt;Mosh uses ssh for the initial connection. Occasionally, particular ssh options
might be required in order for mosh to initialize a connection.  For
example, I typically &lt;code&gt;ssh&lt;/code&gt; home on a particular port, so that my router knows
which VM to transfer me to.  Options like this can be passed to &lt;code&gt;mosh&lt;/code&gt; using
the &lt;code&gt;--ssh&lt;/code&gt; flag:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mosh --ssh=&amp;#34;ssh -p 1234&amp;#34; ryan@centos-network&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h4&gt;

&lt;p&gt;That&amp;rsquo;s really it. There is a bunch of cool &lt;a href=&#34;https://mosh.org/#techinfo&#34;&gt;technical
stuff&lt;/a&gt; going on under the hood of mosh, but on the
surface&amp;hellip; it is simply useful. For an even &lt;em&gt;better&lt;/em&gt; experience with mosh, be
sure to check out tmux. Enjoy!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>My Experience with the Large Display Paradox</title>
      <link>http://ryan.himmelwright.net/post/large-display-paradox/</link>
      <pubDate>Mon, 21 Oct 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/large-display-paradox/</guid>
      <description>&lt;p&gt;About a year ago, I &lt;a href=&#34;../../post/new-lgud4379b/&#34;&gt;switched to the LG ud4379b&lt;/a&gt;, a 42.5&amp;rdquo;
4k IPS monitor. My initial motivation for &lt;em&gt;upgrading&lt;/em&gt; was to convert to an IPS
panel. However, my &lt;em&gt;selection of monitor&lt;/em&gt; was an attempt to simplify my
hardware, by pairing down my dual 1080p setup. While I wanted a single monitor,
I didn&amp;rsquo;t want to drop my total resolution because &lt;a href=&#34;https://www.pcmag.com/feature/336710/13-eye-popping-home-office-setups/10&#34;&gt;everyone
knows&lt;/a&gt;
&lt;a href=&#34;https://www.techradar.com/news/5-reasons-you-need-dual-monitors-in-2017&#34;&gt;that multiple
monitors&lt;/a&gt;
&lt;a href=&#34;https://www.lifewire.com/boost-productivity-with-a-second-monitor-2377817&#34;&gt;are
required&lt;/a&gt;
&lt;a href=&#34;https://www.business.com/articles/increasing-productivity-how-dual-monitors-can-save-you-time-and-money/&#34;&gt;to get any real
work&lt;/a&gt;
&lt;a href=&#34;https://www.howtogeek.com/174452/beginner-geek-how-to-use-multiple-monitors-to-be-more-productive/&#34;&gt;done,&lt;/a&gt;
&lt;a href=&#34;https://www.entrepreneur.com/article/322640&#34;&gt;especially programming&lt;/a&gt;.
Although, after a year of using my massive display, I started to tire from the
&lt;em&gt;large display paradox&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id=&#34;background&#34;&gt;Background&lt;/h3&gt;

&lt;p&gt;Before I dive into what exactly the &lt;em&gt;large display paradox&lt;/em&gt; is, lets quickly
refresh on what I have said in the past. In my &lt;a href=&#34;../../post/new-lgud4379b/&#34;&gt;post about choosing the 43&amp;rdquo;
monitor&lt;/a&gt;, I went into depth about my history of using dual
monitors, and &lt;em&gt;why&lt;/em&gt; I wanted to switch to a single monitor:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;While I like having the screen real estate of two monitors, I was never able to optimally use them because of the bezels between the monitors. While working, I would naturally shift over and use one monitor as a primary display, and the other as a secondary display.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I wanted to be able to view my monitor straight on, without any
bezels getting in the way. I also knew that a single 1080p monitor was just a
bit too cramped.&lt;/p&gt;

&lt;p&gt;In that same paragraph, I provided an additional reason for the switch. If I
had been paying closer attention, I might have noticed it
foreshadowing issues I would face with a large display:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;This was okay for some tasks, but it usually meant that I just used the primary monitor, and half of the secondary one, &lt;strong&gt;because it was too hard to see the far end of the screen.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/large-display-paradox/4-monitors.jpg&#34;&gt;
&lt;img alt=&#34;Wayland logo&#34; src=&#34;../../img/posts/large-display-paradox/4-monitors.jpg&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;I was excited to use a single monitor as a 4x 21&amp;rdquo; 1080p bezel-less
grid.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;I was aware that a large screen may not be optimal, but the alure of having
four monitors in one was too strong. This is emphasized in the section where I
compare the LG 43&amp;rdquo; with a Dell ultrawide:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Being so large, I could still have auxiliary windows opened on either side. One advantage the ud4379 had over the ultra-wide however, was that being a massive 16:9 screen, it could easily be divided into 4 1080p screens.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Despite the nagging voice in the back of my head saying the ultrawide might be
more &lt;em&gt;reasonable&lt;/em&gt;, or reminding me that a &lt;em&gt;single&lt;/em&gt; 27&amp;rdquo; 1440p monitor was also an
option&amp;hellip; I ignored it and picked up the 43&amp;rdquo; LG (which nonetheless, &lt;em&gt;is&lt;/em&gt; a great
monitor!).&lt;/p&gt;

&lt;h3 id=&#34;the-large-display-paradox&#34;&gt;The Large Display Paradox&lt;/h3&gt;

&lt;p&gt;So then. What &lt;em&gt;is&lt;/em&gt; the &lt;em&gt;&amp;ldquo;Large Display Paradox&amp;rdquo;&lt;/em&gt;? As far as I can find, the
term was coined by Jeff Atwood in a &lt;a href=&#34;https://blog.codinghorror.com/the-large-display-paradox/&#34;&gt;blog
post&lt;/a&gt; titled with the
same name. In the post, Atwood refers to &lt;a href=&#34;http://www.dansdata.com/3007wfp-hc.htm&#34;&gt;another
post&lt;/a&gt; in which Dan Rutter states the
following while reviewing his new Dell UltraSharp 3007WFP-HC monitor:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Users of 30-inch monitors face the terrible, terrible problem of how to
effectively use all of that space. You don&amp;rsquo;t often want to maximise a folder or
document window on a screen this big; either you&amp;rsquo;ll end up with a lot of white
space and important program buttons separated by a vast expanse of nothing, or
you&amp;rsquo;ll get lines of text 300 or more characters long, which are difficult to
read.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Atwood summarizes that this is a perfect example of what he deems to be the
&lt;em&gt;Large Display Paradox&lt;/em&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;That&amp;rsquo;s the large display paradox. Having all that space can make you less
productive due to all the window manipulation excise you have to deal with to
make effective use of it.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;He further explains how once a display grows beyond the point of being able to
efficiently maximize windows without too much whitespace (above 1600x1200, by
his estimates), it becomes &lt;em&gt;less productive&lt;/em&gt; due to the user having to
continuously manage the windows.&lt;/p&gt;

&lt;p&gt;While these posts are on the older side (2007!), I think most people are more
likely to experience this issue &lt;em&gt;today&lt;/em&gt;, due to cheaper large monitor options.&lt;/p&gt;

&lt;h3 id=&#34;my-experience&#34;&gt;My Experience&lt;/h3&gt;

&lt;p&gt;With the &lt;em&gt;Large Display Paradox&lt;/em&gt; finally defined&amp;hellip; did I experience it using
my 43&amp;rdquo; monitor? Yes.&lt;/p&gt;

&lt;p&gt;At first, it was great. I loved throwing everything I wanted up on a single
screen, without any applications overlapping.&lt;/p&gt;

&lt;p&gt;In particular, during the first few months using the monitor, I still worked
remotely at my previous job and needed to use a Windows machine. I appreciated
that I could RDP to my work computer using an ultrawide resolution (3440x1440),
but &lt;em&gt;still&lt;/em&gt; have extra pixels to keep my notes and chat windows below it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/large-display-paradox/work-widescreen.jpg&#34;&gt;
&lt;img alt=&#34;Widescreen work RDP session&#34; src=&#34;../../img/posts/large-display-paradox/work-widescreen.jpg&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Remoting into my Windows work computer using an ultrawide
resolution, and still having space for my notes and chat applications below.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Then, I switched jobs and used Linux 100% for home &lt;em&gt;and&lt;/em&gt; work. Instead of
having to RDP into a second machine&amp;hellip; I could just &lt;code&gt;ssh&lt;/code&gt; using a small
terminal window. I no longer &lt;em&gt;had&lt;/em&gt; to view multiple machine desktops to get work
done.&lt;/p&gt;

&lt;h3 id=&#34;issues&#34;&gt;Issues&lt;/h3&gt;

&lt;p&gt;At first, I didn&amp;rsquo;t notice any issues, especially when using it on my personal
computer which I mostly used for leisure anyway. It didn&amp;rsquo;t matter much if I had
a video and chat window next to a personal project I was working on.&lt;/p&gt;

&lt;p&gt;Regardless, over time I started to notice that when  I tried to actually &lt;em&gt;focus&lt;/em&gt; on a
task, the &amp;ldquo;usefulness&amp;rdquo; of the large screen really started to fall apart. Below
are a few issues I started to run up against when trying to be productive with
what was seemingly one of &amp;ldquo;the best productivity monitors on the market&amp;rdquo;.&lt;/p&gt;

&lt;h4 id=&#34;always-wanting-to-fill-the-space&#34;&gt;Always wanting to fill the space.&lt;/h4&gt;

&lt;p&gt;The tricky thing about having all that space&amp;hellip; is you want to fill it, even if
you don&amp;rsquo;t &lt;em&gt;need&lt;/em&gt; to for the task at hand. So for example, if I wanted to work
on writing a blog post, all I &lt;em&gt;need&lt;/em&gt; is a text editor. In addition, I like to
have a preview of the post open in a browser so I can see how it renders.  I
sometimes like to also have a photo editor and picture folders open, but I find
it best if I can have them in a separate &lt;a href=&#34;https://en.wikipedia.org/wiki/Virtual_workplace&#34;&gt;virtual
workspace&lt;/a&gt;. With the large
display, I would open up &lt;em&gt;all&lt;/em&gt; those windows on the same screen. In reality,
having anything beyond my text editor and post preview in front of me, really
starts to detract from my ability to focus on &lt;em&gt;writing&lt;/em&gt; the post.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/large-display-paradox/filling-space.jpg&#34;&gt;
&lt;img alt=&#34;Filling up the monitor&#39;s space&#34; src=&#34;../../img/posts/large-display-paradox/filling-space.jpg&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;With so much space, I felt obligated to fill it with
windows unrelated to the task at hand.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;People like filling space. How often do you find that a
surface in the house seems to &lt;em&gt;always&lt;/em&gt; collect random crap? Large
monitors are the same. Even when I &lt;em&gt;knew&lt;/em&gt; I only needed a one small terminal
in from of me&amp;hellip; the vast space surrounding it made me feel uneasy. So, I
would fill the space by either extending the editor window to a comical size,
or litter the surround space with random applications, unrelated to the work I
was trying to focus on.&lt;/p&gt;

&lt;h4 id=&#34;i-didn-t-use-the-entire-space-just-focused-on-what-was-in-my-field-of-view-in-front-of-me&#34;&gt;I didn&amp;rsquo;t use the entire space, just focused on what was in my field of view in front of me.&lt;/h4&gt;

&lt;p&gt;Even though I felt obligated to fill all the space, &lt;em&gt;I still didn&amp;rsquo;t use all of
it&lt;/em&gt;. When I had two monitors, I would center myself on one to prevent looking at
bezels, and then usually only utilize &lt;em&gt;half&lt;/em&gt; of the secondary monitor, because
the far end of it was out of my sight. This didn&amp;rsquo;t change with a single large
monitor. I usually found my self using an &amp;ldquo;appropriately sized&amp;rdquo; window, smack
in the middle of the screen. If I needed to switch to working in a different
application, I would move &lt;em&gt;that&lt;/em&gt; application to the center and focus on it. The
outer spaces of the monitor were never fully used.&lt;/p&gt;

&lt;h4 id=&#34;i-couldn-t-fullscreen-or-even-split-screen-my-windows&#34;&gt;I couldn&amp;rsquo;t fullscreen (or even split-screen) my windows&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/large-display-paradox/split-screen.png&#34;&gt;
&lt;img alt=&#34;Using Split Screen Windows&#34; src=&#34;../../img/posts/large-display-paradox/split-screen.png&#34; style=&#34;max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Fullscreen, and even split screen windows were unwieldy.
Most of the time I just wanted to work from a normal sized window.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Speaking of focusing on a single application&amp;hellip; fullscreen&amp;hellip; it isn&amp;rsquo;t really
an option on such a big monitor. While a maximized window might look awesome at
first, it wasn&amp;rsquo;t very practical for day-to-day use. This issue was compounded
by the &amp;ldquo;shadow&amp;rdquo; that prevented me from seeing the first few characters near the
edge of the screen. The size of the screen combined with how far I sat from it,
meant that all but the center was out of my field of view. As such, I didn&amp;rsquo;t
maximize my windows, and usually just wanted a normal-sized one in the center.&lt;/p&gt;

&lt;h4 id=&#34;bad-keyboard-window-management-experience&#34;&gt;Bad Keyboard Window Management Experience&lt;/h4&gt;

&lt;p&gt;Without being able to view windows in full or split screen configurations, all
of the quick window-snapping key bindings I&amp;rsquo;ve become accustomed to were
useless.  I was forced to switch over to my mouse more than I would like to.
While &lt;a href=&#34;https://www.youtube.com/watch?v=DuIK-NuN3aY&#34;&gt;some might point to using window management
software&lt;/a&gt;, or a &lt;a href=&#34;https://jonblack.me/large-display-paradox-resolved/&#34;&gt;tiling window
manager&lt;/a&gt;, I don&amp;rsquo;t think
this would solve &lt;em&gt;my&lt;/em&gt; issues. You &lt;em&gt;might&lt;/em&gt; be able to get away with using a
window manager like &lt;a href=&#34;https://github.com/Airblader/i3&#34;&gt;i3-gaps&lt;/a&gt; (or
&lt;a href=&#34;https://github.com/swaywm/sway&#34;&gt;sway&lt;/a&gt;) on a 1440p ultrawide monitor, but a
full unscaled 4k space is just too much. Unless you &lt;em&gt;always&lt;/em&gt; have 5+ tiled
windows open at a time, they&amp;rsquo;re just too big.&lt;/p&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;I think the large display paradox could be a real modern tech issue. Well, more
accurately, a major &lt;a href=&#34;https://en.wikipedia.org/wiki/First_World_problem&#34;&gt;first world
problem&lt;/a&gt;. Given the
increased affordability of large displays, what might &lt;em&gt;seem&lt;/em&gt; like an great setup,
might not actually be optimal for one&amp;rsquo;s workload. At it&amp;rsquo;s core, technology
is a tool. When choosing tech hardware, we should always focus on what
the best tool &lt;em&gt;for the job&lt;/em&gt; is, and not just what is the best tool.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Switching to Bitwarden</title>
      <link>http://ryan.himmelwright.net/post/switching-to-bitwarden/</link>
      <pubDate>Fri, 13 Sep 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/switching-to-bitwarden/</guid>
      <description>&lt;p&gt;After years of using &lt;a href=&#34;https://www.passwordstore.org/&#34;&gt;pass&lt;/a&gt; as my password
manager, I am mixing things up. Over vacation, I started importing all of my
passwords into &lt;a href=&#34;https://bitwarden.com/&#34;&gt;Bitwarden&lt;/a&gt;. With all my passwords
finally transferred, I have now switched to using Bitwarden full-time. Here
are my thoughts so far.&lt;/p&gt;

&lt;h3 id=&#34;why-switch&#34;&gt;Why Switch?&lt;/h3&gt;

&lt;p&gt;Before I start, I want to point out that I had already started my switch &lt;em&gt;before&lt;/em&gt;
the large Bitwarden segment on the &lt;a href=&#34;https://linuxunplugged.com/316&#34;&gt;recent episode of Linux
Unplugged&lt;/a&gt;. That was just a re-assuring
coincidence &lt;code&gt;:)&lt;/code&gt; .&lt;/p&gt;

&lt;p&gt;So, why did I decide to switch?&lt;/p&gt;

&lt;h4 id=&#34;easier-setup&#34;&gt;Easier Setup&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/switching-to-bitwarden/bigtwarden-flathub.png&#34;&gt;
&lt;img alt=&#34;Bitwarden on Flathub Page&#34; src=&#34;../../img/posts/switching-to-bitwarden/bitwarden-flathub.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Bitwarden on Flathub&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The main reason is that when configuring a new system, Bitwarden is simply
easier to setup. All I need to do is install a Bitwarden client and login. In
fact, using the hosted service I don&amp;rsquo;t even need to do that. I can just login
using the &lt;a href=&#34;https://vault.bitwarden.com/&#34;&gt;web vault&lt;/a&gt;. Installing is made even
easier by the fact that Bitwarden is packaged as a &lt;a href=&#34;https://flathub.org/apps/details/com.bitwarden.desktop&#34;&gt;Flatpak on
flathub&lt;/a&gt;. So on my
&lt;a href=&#34;https://silverblue.fedoraproject.org/&#34;&gt;Fedora Silverblue&lt;/a&gt; computers, it works
out of the box and already fits in with the design philosophy behind Silverblue
(running all user apps in containers). Perfect.&lt;/p&gt;

&lt;h4 id=&#34;mobile-support&#34;&gt;Mobile Support&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/switching-to-bitwarden/bitwarden-ipad.jpg&#34;&gt;
&lt;img alt=&#34;Bitwarden on Flathub Page&#34; src=&#34;../../img/posts/switching-to-bitwarden/bitwarden-ipad.jpg&#34; style=&#34;float: right;width: 250px; max-width: 100%; padding: 5px 5px 10px 10px&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Over the past few months I have been &lt;a href=&#34;../../post/switched-to-joplin-notes/&#34;&gt;switching up the tools I
use&lt;/a&gt;, at least the ones I use &lt;a href=&#34;../../post/back-on-org-mode-for-work/&#34;&gt;outside of
work&lt;/a&gt;. The big driving force behind many of
these switches is better mobile support. While I still prefer to keep as much
data off of my phone as possible, there are some things I need to have on the
go. My password manager is unfortunately one of them.&lt;/p&gt;

&lt;p&gt;Additionally, as I start to test out different workloads on alternative devices
like my ipad, having a mobil-friendly work flow is a godsend. In fact, trying to
&lt;a href=&#34;../../post/setting-up-pass/&#34;&gt;setup pass&lt;/a&gt; on my iPad is what eventually frustrated
me enough to give Bitwarden a chance.&lt;/p&gt;

&lt;p&gt;Setup on both my phone and ipad was dead-simple. Install the app, and login.
Done.&lt;/p&gt;

&lt;h4 id=&#34;wayland-friendly&#34;&gt;Wayland Friendly&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/switching-to-bitwarden/wayland-logo.png&#34;&gt;
&lt;img alt=&#34;Wayland logo&#34; src=&#34;../../img/posts/switching-to-bitwarden/wayland-logo.png&#34; style=&#34;float: left; width: 250px; max-width: 100%; padding: 5px 15px 10px 10px&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One of the best features of my pass system was how well it was integrated with
my desktop environment. &lt;em&gt;However&lt;/em&gt;, I want to switch to wayland now more than
ever, but my pass desktop integration is the biggest blocker preventing me from
using it on my machines. I access pass using launcher applications like &lt;code&gt;dmenu&lt;/code&gt;
and &lt;code&gt;rofi&lt;/code&gt;&amp;hellip; but they do not function correctly in wayland. This forced me to
use &lt;code&gt;pass&lt;/code&gt; from a terminal window while in a wayland session. Bitwarden, at
least the limited GUI interactions I&amp;rsquo;ve used thus far, appears to work just
fine in wayland.&lt;/p&gt;

&lt;h4 id=&#34;easier-to-share-expand&#34;&gt;Easier to share/expand&lt;/h4&gt;

&lt;p&gt;Lastly, if my wife eventually wants to switch to Bitwarden, I &lt;em&gt;think&lt;/em&gt; we can
share our joint passwords with each other, even being on just the free personal
plan. If not, we can upgrade to the &amp;ldquo;family plan&amp;rdquo; which is currently $1/mo and
allows unlimited collections across 5 accounts &lt;em&gt;and&lt;/em&gt; optional self hosting. For
shared family password management&amp;hellip; that&amp;rsquo;s a great deal.&lt;/p&gt;

&lt;h3 id=&#34;what-i-am-still-learning&#34;&gt;What I am still learning&lt;/h3&gt;

&lt;p&gt;Normally, this is where I list the few things that I &amp;ldquo;don&amp;rsquo;t like&amp;rdquo;. However,
this still is all new and I &lt;em&gt;think&lt;/em&gt; the majority of my current issues are
solvable, but I just haven&amp;rsquo;t figured it out yet. So it&amp;rsquo;s a &amp;ldquo;What I&amp;rsquo;m still
learning&amp;rdquo; section this time (•‿•) .&lt;/p&gt;

&lt;h4 id=&#34;better-keyboard-de-integration&#34;&gt;Better keyboard/DE integration&lt;/h4&gt;

&lt;p&gt;The &lt;em&gt;main feature&lt;/em&gt; I still seem to be missing is better keyboard
support/integration with the desktop environment. The GUI app is nice, and
Bitwarden has &lt;em&gt;much&lt;/em&gt; better support for browser extensions and tools. Yet, I
haven&amp;rsquo;t found a good way to open up Bitwarden (give my master password),
search for an item, and copy the password&amp;hellip; all from the keyboard.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;video style=&#34;max-width:100%;&#34; controls&gt;
  &lt;source src=&#34;../../img/posts/setting-up-pass/passmenu_demo.mp4&#34; type=&#34;video/mp4&#34;&gt;
  &lt;source src=&#34;movie.ogg&#34; type=&#34;video/ogg&#34;&gt;
Your browser does not support the video tag.
&lt;/video&gt;
&lt;div id=&#34;caption&#34;&gt;&lt;code&gt;passmenu&lt;/code&gt; lets you easily search and select a pass item.&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;By comparison, &lt;code&gt;pass&lt;/code&gt; let me integrate with launchers like &lt;code&gt;dmenu&lt;/code&gt; and &lt;code&gt;rofi&lt;/code&gt;
to efficiently grab my passwords which was &lt;em&gt;awesome&lt;/em&gt;. As mentioned a few
sections above, &lt;code&gt;passmenu&lt;/code&gt; unfortunately falls apart for me these days now that I am
mostly on wayland&amp;hellip; but I don&amp;rsquo;t need a full launcher. Honestly, all I
&lt;em&gt;need&lt;/em&gt; is the ability to copy a password (and maybe other fields) using my
keyboard once I have selected an item. I can already search using &lt;code&gt;ctrl-f&lt;/code&gt; +
&lt;code&gt;tab&lt;/code&gt;, and then &lt;code&gt;arrow&lt;/code&gt; my way down the list, but once there I cannot copy
unless I continue to tab through all the options. This is not efficient and
defeats the purpose of remaining on the keyboard in the first place.&lt;/p&gt;

&lt;p&gt;This is a highly requested feature, and I&amp;rsquo;m sure someone has hacked &lt;em&gt;some
solution&lt;/em&gt; together&amp;hellip; I just have yet to find it&amp;hellip; or implement it myself.&lt;/p&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;That is it. &lt;strong&gt;TLDR;&lt;/strong&gt; I&amp;rsquo;ve switched to Bitwarden and have been using it as my
main password manager for almost a month and I love it. It works on &lt;em&gt;all&lt;/em&gt;
my devices and doesn&amp;rsquo;t give me too many headaches. My only real complaint is
that I wish it had better keyboard support, but I&amp;rsquo;m sure I&amp;rsquo;ll be able to figure
out a work-around eventually.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Setup a Runner VM for Gitlab</title>
      <link>http://ryan.himmelwright.net/post/create-gitlab-runner/</link>
      <pubDate>Wed, 04 Sep 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/create-gitlab-runner/</guid>
      <description>&lt;p&gt;I play around with CI/CD pipelines quite a bit, both at home and at work. I have
mostly used Jenkins, but I wanted to see how Gitlab&amp;rsquo;s CI/CD tooling has
progressed over the last year. So, I decided to try to use Gitlab to manage the
automated build and deployments of a personal project I&amp;rsquo;ve been working on.
The first step of the process was to setup a runner my Gitlab instance could
use for the builds.&lt;/p&gt;

&lt;h2 id=&#34;setup-a-machine-vm&#34;&gt;Setup a Machine/VM&lt;/h2&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/create-gitlab-runner/fedora-vm-install.png&#34;&gt;
&lt;img alt=&#34;Installing a new Fedora30 VM in Virt-Manager&#34; src=&#34;../../img/posts/create-gitlab-runner/fedora-vm-install.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Installing a new Fedora 30 VM in Virt-Manager for my runner&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;This will be a BYOG post (bring your own Gitlab). I already
&amp;ldquo;&lt;em&gt;had one laying around&lt;/em&gt;&amp;rdquo;, so I won&amp;rsquo;t cover setting that up.&lt;/p&gt;

&lt;p&gt;Your runner needs may differ, but in this post I am installing runner on a
Fedora 30 VM. I will also be using both &lt;a href=&#34;https://buildah.io/&#34;&gt;buildah&lt;/a&gt; and
&lt;a href=&#34;https://podman.io/&#34;&gt;podman&lt;/a&gt; for this project.&lt;/p&gt;

&lt;h4 id=&#34;some-things-to-note-consider-during-vm-setup&#34;&gt;Some things to note/consider during VM setup:&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;Install packages required for pipeline tasks (ex: &lt;code&gt;podman&lt;/code&gt; and &lt;code&gt;buildah&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;If &lt;code&gt;sudo&lt;/code&gt; is required, manage the &lt;code&gt;gitlab-runner&lt;/code&gt; user/group using &lt;code&gt;visudo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;If using docker runners, &lt;code&gt;docker-machine&lt;/code&gt; needs to be installed&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;install-runner&#34;&gt;Install runner&lt;/h2&gt;

&lt;p&gt;First, install the &lt;code&gt;gitlab-runner&lt;/code&gt; package. This can be done using the
instructions found
&lt;a href=&#34;https://docs.gitlab.com/runner/install/linux-repository.html&#34;&gt;here&lt;/a&gt;.
&lt;em&gt;However&lt;/em&gt;, I encountered issues installing it on my Fedora VMs, as this install
method isn&amp;rsquo;t supported for 30 yet.  (Check out &lt;a href=&#34;https://gitlab.com/gitlab-org/gitlab-runner/issues/4401&#34;&gt;this
issue&lt;/a&gt; for more info).&lt;/p&gt;

&lt;h4 id=&#34;add-gitlab-s-repo&#34;&gt;Add GitLab&amp;rsquo;s Repo&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh | sudo bash&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;install-gitlab-runner&#34;&gt;Install gitlab runner&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;sudo dnf install gitlab-runner&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;alternative-copr-install&#34;&gt;(Alternative) Copr install&lt;/h2&gt;

&lt;p&gt;For now, I have been using the copr install posted in the comments
of that issue (linked above). I recommend checking if the issue is resolved first, as it
might change from the time of writing this post. To install:&lt;/p&gt;

&lt;p&gt;First enable the copr repo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo dnf copr enable snecker/gitlab-runner -y&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, install:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo dnf install gitlab-runner -y&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;register-the-runner&#34;&gt;Register the Runner&lt;/h4&gt;

&lt;p&gt;Once installed, register the runner. Instructions on how to register a runner
can be found &lt;a href=&#34;https://docs.gitlab.com/runner/register/index.html&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo gitlab-runner register&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Enter the coordinator URL (ex: &lt;code&gt;https://gitlab.com&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;Next, a &lt;em&gt;gitlab-ci&lt;/em&gt; token must be shared with the runner.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/create-gitlab-runner/gitlab-runner-settings.png&#34;&gt;
&lt;img alt=&#34;Gitlab Runner Settings&#34; src=&#34;../../img/posts/create-gitlab-runner/gitlab-runner-settings.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Gitlab Runner&lt;strong&gt;s&lt;/strong&gt; Settings Page&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;To obtain a gitlab-ci token, got to &lt;strong&gt;Admin Area&lt;/strong&gt; -&amp;gt; &lt;strong&gt;Overview&lt;/strong&gt; -&amp;gt;
&lt;strong&gt;Runners&lt;/strong&gt;. On the right, there should be a token to use during setup.&lt;/p&gt;

&lt;p&gt;When the runner registrations asks for the token, use the &amp;ldquo;registration token&amp;rdquo;
listed in the &amp;ldquo;Set up a shared Runner manually&amp;rdquo; section.&lt;/p&gt;

&lt;p&gt;Next, provide a short description, and add a tag or two (when prompted).&lt;/p&gt;

&lt;p&gt;Lastly, enter the executor (the system on the runner that executes commands). For
now, I&amp;rsquo;ve been using &lt;code&gt;&amp;quot;shell&amp;quot;&lt;/code&gt; for my needs, as these VMs are fully
dedicated to be used as the runners for a single project.&lt;/p&gt;

&lt;p&gt;Congrats, the runner should be registered! Now to set it up&amp;hellip;&lt;/p&gt;

&lt;h2 id=&#34;link-to-ci-cd-builds&#34;&gt;Link to CI/CD Builds&lt;/h2&gt;

&lt;p&gt;It is time to link up the runner to a CI/CD job. This can be done with
tagging, but I currently just have one pipeline using my runners, so haven&amp;rsquo;t
used the tags as much. Edit the runner by clicking its  &lt;code&gt;edit&lt;/code&gt; icon.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/create-gitlab-runner/runner-edit.png&#34;&gt;
&lt;img alt=&#34;Gitlab Runner Settings&#34; src=&#34;../../img/posts/create-gitlab-runner/runner-edit.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Gitlab Runner Edit Page&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;In the runner edit menu, ensure that the &amp;ldquo;&lt;code&gt;Active&lt;/code&gt;&amp;rdquo; checkbox is checked. I&amp;rsquo;ve
also checked the &amp;ldquo;&lt;code&gt;Run untagged jobs&lt;/code&gt;&amp;rdquo; box for this runner, which will allow it
to pick up any job that does &lt;em&gt;not&lt;/em&gt; have a tag. If the runner is to be assigned
to a &lt;em&gt;specific&lt;/em&gt; project, that can be enabled/assigned below in the &amp;ldquo;&lt;code&gt;Restrict
projects for this Runner&lt;/code&gt;&amp;rdquo; section.&lt;/p&gt;

&lt;h2 id=&#34;test-run&#34;&gt;Test Run&lt;/h2&gt;

&lt;p&gt;To test out the runner, start a new build in a project! (Note, if there are
several runners already setup, 1. why are you reading this, and 2. it might be a good idea
to pause the others to ensure the new one will run with the test).&lt;/p&gt;

&lt;p&gt;I won&amp;rsquo;t detail how to write a &lt;code&gt;gitlab-ci.yml&lt;/code&gt; now, but for my test I made an empty
demo repo with the following pipeline:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;before_script:
  - whoami
  - pwd
  - sudo dnf update -y

build-base:
  stage: build
  script:
    - echo &amp;#34;Hello world!&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After committing it, a build kicked off with the new runner and finished
successfully!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Notice that the job indeed ran on &lt;code&gt;post-runner&lt;/code&gt;, the runner I setup
specifically for this post&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/create-gitlab-runner/pipeline-run.png&#34;&gt;
&lt;img alt=&#34;Gitlab Runner Settings&#34; src=&#34;../../img/posts/create-gitlab-runner/pipeline-run.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Gitlab Demo Job Run Results&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;If the job is more complicated, more runs might have to be manually started
after tweaking the runner settings again. Pipelines can be started by going to
the project&amp;rsquo;s &lt;code&gt;CI/CD-&amp;gt;Pipelines&lt;/code&gt; page via the side menu, and hitting the &lt;code&gt;Run
Pipeline&lt;/code&gt; button.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;That&amp;rsquo;s it. We should now have a connected runner! So far, the runners have been working
&lt;em&gt;(mostly)&lt;/em&gt; fine. When they &lt;em&gt;do&lt;/em&gt; break, it is usually because I&amp;rsquo;ve let the disk
fill up or allowed some other system-related negligence to build up
&lt;code&gt;¯\_(ツ)_/¯&lt;/code&gt;. I might add some &amp;lsquo;runner maintenance&amp;rsquo; steps to my pipeline&amp;hellip; but
some other time. Enjoy!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>New LG-32QK500-w Monitor</title>
      <link>http://ryan.himmelwright.net/post/new-lg32qk500w/</link>
      <pubDate>Wed, 24 Jul 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/new-lg32qk500w/</guid>
      <description>&lt;p&gt;At the beginning of summer, I was entertaining the idea of improving my wife&amp;rsquo;s
computer setup by adding a new external monitor. She agreed. As a result, we
have purchased, recieved, and even &lt;em&gt;mounted&lt;/em&gt;, the &lt;a href=&#34;https://www.lg.com/us/monitors/lg-32QK500-W-led-monitor&#34;&gt;LG
32QK500w&lt;/a&gt; monitor.
Here are my thoughts.&lt;/p&gt;

&lt;h3 id=&#34;reasoning&#34;&gt;Reasoning&lt;/h3&gt;

&lt;p&gt;Recently, my wife has had to spend more time prepping at night for her next workday, which
she does on her laptop. This made it a good time to finally setup her
office space in the guest bedroom. She has an old 21.5&amp;rdquo; 1080p monitor from
college, but we decided it might not be the best fit for the
space.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lg32qk500w/dpi-32.png&#34;&gt;
&lt;img alt=&#34;Netflix logo&#34; src=&#34;../../img/posts/new-lg32qk500w/netflix.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We thought that it would be nice to have a larger screen in that room, guests
could watch video content. Additionally, my wife and I have a habit of falling
asleep on the couch watching TV most weekend nights&amp;hellip; but we want to keep our
bedroom TV free. Having a spot where we can lay down on a bed and prep for the
inevitable while watching a movie, is probably a good idea (and our backs agree).&lt;/p&gt;

&lt;p&gt;I started looking for slightly larger monitors and quickly noticed something&amp;hellip; the
2560x1440 32&amp;rdquo; monitors were cheaper than their 27&amp;rdquo; counterparts. This
made sense, as the dpi is lower. However, after doing the math, 2560x1440 pixels @ 32&amp;rdquo; is
the same dpi of as a 24&amp;rdquo; 1920x1080 monitor (109 dots per inch). While this
isn&amp;rsquo;t the &lt;em&gt;sharpest&lt;/em&gt; configuration, it is very common and reasonable for productivity setups.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lg32qk500w/dpi-32.png&#34;&gt;
&lt;img alt=&#34;2560 by 1440 pixels at 32 inches has a dpi of 91.&#34; src=&#34;../../img/posts/new-lg32qk500w/dpi-32.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;2560x1440 pixels at 32&amp;rdquo; has a dpi of 91&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lg32qk500w/dpi-24.png&#34;&gt;
&lt;img alt=&#34;1920 by 1080 pixels at 24 inches also has a dpi of 91.&#34; src=&#34;../../img/posts/new-lg32qk500w/dpi-24.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;1920x1080 pixels at 24&amp;rdquo; also has a dpi of 91&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;In fact, my wife doesn&amp;rsquo;t have the best vision (especially at night when she
tends to work), and tends to actually &lt;em&gt;prefer&lt;/em&gt; the larger scale of 109 dpi. We
even purposefully picked a 1600x900 resolution screen over a FHD one when
buying her Thinkpad for the same reason.&lt;/p&gt;

&lt;p&gt;Lastly, while it is scaled up a bit on a physically larger display, these
monitors still provide a 2560x1440 resolution. Recently, I have decided that
this particular resolution, may be the best for productivity , at least in the
type of workflows I use. I even figured out how to &lt;a href=&#34;../../post/sub-monitor-workflows-with-xrandr/&#34;&gt;configure a 2560x1440
&amp;ldquo;sub-monitor&amp;rdquo; on my 43&amp;rdquo; QHD monitor&lt;/a&gt;
when I need to &lt;em&gt;focus&lt;/em&gt;. Having an &lt;em&gt;actual&lt;/em&gt; 2560x1440 monitor in the house would
be wonderful for both my wife&amp;rsquo;s and my own productivity.&lt;/p&gt;

&lt;h3 id=&#34;selection&#34;&gt;Selection&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lg32qk500w/box.jpg&#34;&gt;
&lt;img alt=&#34;New monitor box&#34; src=&#34;../../img/posts/new-lg32qk500w/box.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The new monitor in it&amp;rsquo;s box&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;So I wanted a 32&amp;rdquo;, 2560x1440 IPS monitor&amp;hellip; at a decent price. After browsing
around amazon, I came across the &lt;a href=&#34;https://www.amazon.com/gp/product/B07LD6XJ8X/ref=ppx_yo_dt_b_asin_title_o03_s01?ie=UTF8&amp;amp;psc=1&#34;&gt;LG
32QK500W&lt;/a&gt;.
It was listed at a very reasonable price (on sale), had a few bonus features
(75 Hz refresh + freesync options), and was an LG IPS panel, which I felt
comfortable purchasing considering how much I enjoyed &lt;a href=&#34;../../post/new-lgud4379b/&#34;&gt;my LG
monitor&amp;rsquo;s&lt;/a&gt; panel.&lt;/p&gt;

&lt;p&gt;In summary, the LG 32QK500-W has the following specs/features:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;32 inch, 2560 x 1440 pixel resolution&lt;/li&gt;
&lt;li&gt;IPS Panel&lt;/li&gt;
&lt;li&gt;mDP and 2 HDMI imports&lt;/li&gt;
&lt;li&gt;VESA mount compatible&lt;/li&gt;
&lt;li&gt;Decently thin bezels&lt;/li&gt;
&lt;li&gt;60 &lt;em&gt;and&lt;/em&gt; 75 Hertz refresh rates&lt;/li&gt;
&lt;li&gt;Freesync&lt;/li&gt;
&lt;li&gt;On sale for less than $250 (USD)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We also purchased a cheap &lt;a href=&#34;https://www.amazon.com/gp/product/B01BCUM766/ref=ppx_yo_dt_b_asin_title_o03_s00?ie=UTF8&amp;amp;psc=1&#34;&gt;Amazon basics
mount&lt;/a&gt;
to wall mount it, but in hindsight it might of been worth paying a little
extra for a better one.&lt;/p&gt;

&lt;h3 id=&#34;what-i-like&#34;&gt;What I Like&lt;/h3&gt;

&lt;h4 id=&#34;resolution&#34;&gt;Resolution&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lg32qk500w/screenshot.png&#34;&gt;
&lt;img alt=&#34;Screenshot of working on monitor&#34; src=&#34;../../img/posts/new-lg32qk500w/screenshot.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The resolution is perfect for productivity work.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The &amp;ldquo;2k&amp;rdquo; resolution is perfect. It gives just enough space to get work done,
but not &lt;em&gt;so&lt;/em&gt; much space that it is distracting. I can perfectly fit two &lt;em&gt;full&lt;/em&gt;
windows next to each other on the screen. At the same time, it is still a small
enough resolution that a single focused full screen window doesn&amp;rsquo;t look odd.&lt;/p&gt;

&lt;h4 id=&#34;colors&#34;&gt;Colors&lt;/h4&gt;

&lt;p&gt;The colors look great. They are vivid, and the blacks are &lt;em&gt;dark&lt;/em&gt;.
I think I may even enjoy them better than on my own monitor&amp;hellip;&lt;/p&gt;

&lt;h4 id=&#34;75-hz-refresh-rate-and-freesync&#34;&gt;75 Hz refresh rate (and Freesync!)&lt;/h4&gt;

&lt;p&gt;Lastly, the 75 Hz refresh rate and Freesync was a nice little bonus. While the
only computer we have in the house that can &lt;em&gt;really&lt;/em&gt; take advantage of these
features is &lt;a href=&#34;../../post/charmeleon-desktop-design/&#34;&gt;my desktop&lt;/a&gt; (which is in another
room)&amp;hellip;  it&amp;rsquo;s nice to know we have the option if I want to test it out.&lt;/p&gt;

&lt;h3 id=&#34;what-i-don-t-like&#34;&gt;What I Don&amp;rsquo;t Like&lt;/h3&gt;

&lt;h4 id=&#34;no-speakers-and-audio-jack-is-noisy&#34;&gt;No speakers&amp;hellip; and audio jack is noisy&lt;/h4&gt;

&lt;p&gt;Normally, I could care less if a monitor has speakers or not. They usually
sound terrible, and I end up plugging external headphones/speakers to the
computer directly anyway. However, as we intend to also use this monitor as a
&amp;ldquo;TV&amp;rdquo; via an &lt;a href=&#34;https://www.amazon.com/Fire-TV-Stick-4K-with-Alexa-Voice-Remote/dp/B079QHML21/ref=sr_1_1?keywords=amazon+fire+stick&amp;amp;qid=1563791000&amp;amp;s=gateway&amp;amp;sr=8-1&#34;&gt;Amazon
Firestick&lt;/a&gt;,
it would be nice to have even &lt;em&gt;basic&lt;/em&gt; speakers to pump audio through by
default. It &lt;em&gt;does&lt;/em&gt; have a 3.5mm headphone jack, but there seemed to be a bit of
noise when I tried it.&lt;/p&gt;

&lt;h4 id=&#34;while-dpi-is-perfect-for-it-s-use-it-isn-t-the-best&#34;&gt;While dpi is perfect for it&amp;rsquo;s use, it isn&amp;rsquo;t the best&lt;/h4&gt;

&lt;p&gt;As mentioned earlier, the dpi isn&amp;rsquo;t the best, and the image isn&amp;rsquo;t quite as
&amp;ldquo;crisp&amp;rdquo; as you might find on a high resolution display. Also, at such a large
screen size, it is almost required to sit back from the screen a little bit
further than normal. However, as I already described in the sections above&amp;hellip;
for our use case, this was actually preferred.&lt;/p&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lg32qk500w/desk.jpg&#34;&gt;
&lt;img alt=&#34;Screenshot of working on monitor&#34; src=&#34;../../img/posts/new-lg32qk500w/desk.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The monitor all set up mounted above my wife&amp;rsquo;s new
desk. (Next step&amp;hellip; hide the wires!)&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;There isn&amp;rsquo;t much left to say. At this price point, and for what we wanted this
monitor for, I think it was a perfect match. While it might not be the absolute
&lt;em&gt;best&lt;/em&gt; monitor out there, it is a great value. If you&amp;rsquo;re looking for a large
1440p monitor to get some work done on, that could also be a TV replacement at
a good price (I&amp;rsquo;m looking at you college students), I highly recommend it.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Creating &#34;Sub&#34;-Monitor Workflows Using xrandr</title>
      <link>http://ryan.himmelwright.net/post/sub-monitor-workflows-with-xrandr/</link>
      <pubDate>Mon, 29 Apr 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/sub-monitor-workflows-with-xrandr/</guid>
      <description>&lt;p&gt;A couple months ago I swapped out my dual monitor setup for a single (but
massive), &lt;a href=&#34;../../post/new-lgud4379b/&#34;&gt;42.5&amp;rdquo; UHD IPS display&lt;/a&gt;. I love it, but admit
that sometimes, it has &lt;em&gt;too much&lt;/em&gt; workspace. While I still think that the
larger display was better choice, I sometimes wish that
I had the more limited, but &lt;em&gt;focused&lt;/em&gt; workspace of an ultrawide or 1440p
monitor. &lt;em&gt;Maybe I still can&amp;hellip;&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;reasoning&#34;&gt;Reasoning&lt;/h3&gt;

&lt;p&gt;Okay. I understand that this post might seem ridiculous to most people.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;But Ryan, if you have a great display with such a large resolution, why
would you want to &lt;strong&gt;intentionally&lt;/strong&gt; scale it down smaller?!?!?!&amp;ldquo;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The truth is, there are a number of occasions when having a single, smaller
display is helpful.&lt;/p&gt;

&lt;h4 id=&#34;focused-work&#34;&gt;Focused Work&lt;/h4&gt;

&lt;p&gt;First, when trying to focus deeply on a single task, I like to have the windows
that I &lt;em&gt;need&lt;/em&gt; for the activity opened, and nothing else. Furthermore, I like
to have these windows opened at a &lt;em&gt;reasonable size&lt;/em&gt; (Note: a full screen
3840x2160 single terminal looks stupid). With such a big screen, it is just too
tempting to drag chat windows, monitoring apps, and videos to the sides of the workspace.
While 1080p is a little cramped, I think a single 1440p resolution is &lt;a href=&#34;https://hackernoon.com/why-i-stopped-using-multiple-monitors-bfd87efa2e5b&#34;&gt;more
ideal for &lt;em&gt;focused
work&lt;/em&gt;&lt;/a&gt;
(especially because I tend to take advantage of &lt;a href=&#34;https://en.wikipedia.org/wiki/Virtual_desktop&#34;&gt;virtual
desktops&lt;/a&gt;).&lt;/p&gt;

&lt;h4 id=&#34;tiling-window-managers&#34;&gt;Tiling Window Managers&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sub-monitor-workflows-with-xrandr/i3-writing.png&#34;&gt;&lt;img alt=&#34;writing this post with i3&#34; src=&#34;../../img/posts/sub-monitor-workflows-with-xrandr/i3-writing.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;I actually wrote most of the draft for this post in i3&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Second, when working (especially programming), I often like to use tiling
window managers ( &lt;a href=&#34;../../post/started-using-i3blocks/&#34;&gt;i3 for example&lt;/a&gt; ). This lets me
&lt;em&gt;work&lt;/em&gt; without having to manually move around the windows, or even leave my
keyboard. In tiling window managers, applications tend to open up full screen by
default, which again&amp;hellip; is just obnoxious on such a large display.
Scaling down the display allows me to still use tiling window managers without
compromise.&lt;/p&gt;

&lt;h4 id=&#34;gaming&#34;&gt;Gaming&lt;/h4&gt;

&lt;p&gt;Lastly, a half-reason is gaming. I&amp;rsquo;m not a huge gamer so I didn&amp;rsquo;t opt for a
crazy graphics card when I &lt;a href=&#34;http://localhost:1313/post/charmeleon-desktop-design/&#34;&gt;designed and built my
desktop&lt;/a&gt;. When I &lt;em&gt;do&lt;/em&gt;
game, I usually play in windowed-mode (which
is usually a better experience anyway&amp;hellip; again for field of view reasons).
However, sometimes a game won&amp;rsquo;t support windowed mode, or I want to
play full screen at a lower resolution so that my GPU can handle it.&lt;/p&gt;

&lt;h2 id=&#34;how&#34;&gt;How&lt;/h2&gt;

&lt;p&gt;Now that it is (hopefully) understood &lt;em&gt;why&lt;/em&gt; I want to setup a &amp;ldquo;sub-display&amp;rdquo;
inside my monitor, lets switch to &lt;em&gt;how&lt;/em&gt; I did it.&lt;/p&gt;

&lt;h3 id=&#34;problem-1-scaling&#34;&gt;Problem 1: Scaling&lt;/h3&gt;

&lt;p&gt;To get &amp;ldquo;sub&amp;rdquo;-resolutions working, I had to fix two problems. The first was that
even if I select a smaller resolution on my computer, most monitors will
display that resolution, but scaled to the size of the display. For example, if
I set my computer&amp;rsquo;s display settings to 1920x1080 on my 3840x2160 monitor, by
default it will double up the pixels to get the smaller resolution
to &lt;em&gt;fit&lt;/em&gt; full-size on the monitor. This makes everything appear gigantic&amp;hellip; which
is the exact opposite of what I wanted.&lt;/p&gt;

&lt;p&gt;After playing around in my monitor&amp;rsquo;s input settings, I noticed that there is an
&amp;ldquo;Aspect Ratio&amp;rdquo; field, with a &lt;code&gt;1:1&lt;/code&gt; option. When selected, the monitor displays
an image at its pixel density. So a 1920x1080 pixel display shows as a smaller
image in the middle of the screen, but with a &lt;code&gt;1:1&lt;/code&gt; pixel density. Problem #1 solved!&lt;/p&gt;

&lt;h3 id=&#34;problem-2-new-resolution-sets&#34;&gt;Problem 2: New Resolution Sets&lt;/h3&gt;

&lt;p&gt;The second problem was that by default, many of the resolutions I wanted to use
out do not show up in the display settings. This makes sense, as &lt;em&gt;most&lt;/em&gt; people
won&amp;rsquo;t be selecting &lt;code&gt;21:9&lt;/code&gt; resolutions on a &lt;code&gt;16:9&lt;/code&gt; panel. I needed to add
new options using &lt;code&gt;xrandr&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;After spending sometime in a terminal with &lt;code&gt;xrandr&lt;/code&gt;, (and with some help from &lt;a href=&#34;http://www.arunviswanathan.com/node/53&#34;&gt;this post&lt;/a&gt;), I was able to create new &lt;code&gt;xrandr&lt;/code&gt; modes, and set my monitor to use them.&lt;/p&gt;

&lt;h4 id=&#34;creating-a-new-xrandr-mode&#34;&gt;Creating a new xrandr mode&lt;/h4&gt;

&lt;p&gt;To create a new xrandr mode, I first needed to calculate a new modeline. This
can be done by using the &lt;code&gt;gtf&lt;/code&gt; tool. To calculate a modeline for a
3440x1440 resolution at 59.9 hertz for example, use the following:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;➜  ~ gtf &lt;span style=&#34;color:#ae81ff&#34;&gt;3440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1440&lt;/span&gt; 59.9

  &lt;span style=&#34;color:#75715e&#34;&gt;# 3440x1440 @ 59.90 Hz (GTF) hsync: 89.25 kHz; pclk: 418.41 MHz&lt;/span&gt;
  Modeline &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3440x1440_59.90&amp;#34;&lt;/span&gt;  418.41  &lt;span style=&#34;color:#ae81ff&#34;&gt;3440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3688&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4064&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4688&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1441&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1444&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1490&lt;/span&gt;  -HSync +Vsync

➜  ~&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The line that starts with &lt;em&gt;Modeline&lt;/em&gt; (but &lt;em&gt;not including&lt;/em&gt; &amp;ldquo;Modeline&amp;rdquo;) is what
we want. Copy that and give it to &lt;code&gt;xrandr&lt;/code&gt; with the &lt;code&gt;--newmode&lt;/code&gt; flag to create
a new mode:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;xrandr --newmode &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3440x1440_59.90&amp;#34;&lt;/span&gt;  418.41  &lt;span style=&#34;color:#ae81ff&#34;&gt;3440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3688&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4064&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4688&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1441&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1444&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1490&lt;/span&gt;  -HSync +Vsync&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lastly, to add that mode to a display, use that same line but with the
&lt;code&gt;--addmode&lt;/code&gt; flag, and the monitor to switch (&lt;code&gt;DP-1&lt;/code&gt; in my case):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;xrandr --addmode DP-1 &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3440x1440_59.90&amp;#34;&lt;/span&gt;  418.41  &lt;span style=&#34;color:#ae81ff&#34;&gt;3440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3688&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4064&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4688&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1441&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1444&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1490&lt;/span&gt;  -HSync +Vsync&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Note: To find the available monitor names, enter a plain &lt;code&gt;xrandr&lt;/code&gt; command, and
it will spit out all the available outputs.&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&#34;switching-to-the-new-mode&#34;&gt;Switching to the new mode&lt;/h4&gt;

&lt;h5 id=&#34;arandr&#34;&gt;arandr&lt;/h5&gt;

&lt;p&gt;To switch to the new mode, I like to use a GUI tool named &lt;code&gt;arandr&lt;/code&gt;.  Simply right
click on the display&amp;rsquo;s rectangle, and select the new mode name from the
&amp;ldquo;Resolution&amp;rdquo; list (Or &lt;em&gt;Outputs&lt;/em&gt; -&amp;gt; &lt;em&gt;Monitor Name&lt;/em&gt; -&amp;gt; &lt;em&gt;Resolution&lt;/em&gt; -&amp;gt; &lt;em&gt;New MODE
NAME&lt;/em&gt; in the menu bar).&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sub-monitor-workflows-with-xrandr/arandr-select-newmode.png&#34;&gt;&lt;img alt=&#34;Using arandr to select new mode&#34; src=&#34;../../img/posts/sub-monitor-workflows-with-xrandr/arandr-select-newmode.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Using &lt;code&gt;arandr&lt;/code&gt; to select new mode (SO many resolutions XD )&lt;/div&gt;&lt;/p&gt;

&lt;h5 id=&#34;xrandr&#34;&gt;xrandr&lt;/h5&gt;

&lt;p&gt;If you are too &lt;a href=&#34;https://en.wikipedia.org/wiki/Leet&#34;&gt;1337&lt;/a&gt; to use a GUI app,
never fear! The display can be switched to the new mode using &lt;code&gt;xrandr&lt;/code&gt; with the
&lt;code&gt;--output&lt;/code&gt; and &lt;code&gt;--mode&lt;/code&gt; flags:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;xrandr --output DP-1 --mode &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;3440x1440_59.90&amp;#34;&lt;/span&gt;  418.41  &lt;span style=&#34;color:#ae81ff&#34;&gt;3440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;3688&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4064&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;4688&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1441&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1444&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1490&lt;/span&gt;  -HSync +Vsync&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;but-wait-there-s-more-scripting-it&#34;&gt;But Wait, There&amp;rsquo;s More! Scripting it:&lt;/h3&gt;

&lt;p&gt;After running these commands twice&amp;hellip; I realized it would be easy enough to
automate. So I did with this script:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# A function to prompt the user if they want to switch to the new mode now.&lt;/span&gt;
switch_to_new_mode &lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	echo -n &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Switch to mode &lt;/span&gt;$modename&lt;span style=&#34;color:#e6db74&#34;&gt; now? [y/n]: &amp;#34;&lt;/span&gt;
	read change
	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$change&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;y&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
	&lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
		echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;switching monitor...&amp;#34;&lt;/span&gt;
		xrandr --output $MONITOR --mode $modename
	&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
		echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Okay, no switch. Enjoy!&amp;#34;&lt;/span&gt;
	&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;# Create a new mode for the display&lt;/span&gt;
create_new_mode &lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Adding new mode: &lt;/span&gt;$gtf_output&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
	xrandr --newmode $gtf_output
	echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Adding new mode &lt;/span&gt;$modename&lt;span style=&#34;color:#e6db74&#34;&gt; to display &lt;/span&gt;$MONITOR&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;
	xrandr --addmode $MONITOR $modename
	echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Done!&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;# Message if the mode appears to already exist&lt;/span&gt;
mode_already_exists &lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Hmmm... I think the mode &lt;/span&gt;$modename&lt;span style=&#34;color:#e6db74&#34;&gt; already exists.&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;## Main Function to set vars and code&lt;/span&gt;
main &lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	&lt;span style=&#34;color:#75715e&#34;&gt;# Input Vars&lt;/span&gt;
	WIDTH&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$1
	HEIGHT&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$2
	MONITOR&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;$3
	ESLEEP&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
	&lt;span style=&#34;color:#75715e&#34;&gt;# Fancier Vars :P&lt;/span&gt;
	gtf_output&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;gtf $WIDTH $HEIGHT 59.9 | grep -i &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;modeline&amp;#34;&lt;/span&gt; | sed -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;s/\&amp;lt;Modeline\&amp;gt;//g&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;
	modename&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;echo $gtf_output | grep -o  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\(\&amp;#34;.*\&amp;#34;\)&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;
	modeexists&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;xrandr | grep -i $modename&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;

	&lt;span style=&#34;color:#75715e&#34;&gt;# Run&lt;/span&gt;
	&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$modeexists&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
	&lt;span style=&#34;color:#66d9ef&#34;&gt;then&lt;/span&gt;
		create_new_mode
	    switch_to_new_mode
	&lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt;
		mode_already_exists
	    switch_to_new_mode
	&lt;span style=&#34;color:#66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;## Execute Main&lt;/span&gt;
main &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$@&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&#34;caption&#34;&gt;add-xrandr.sh&lt;/div&gt;

&lt;p&gt;Basically, the script is run by providing it the desired width, height, and
&lt;code&gt;xrandr&lt;/code&gt; display to apply the new mode to. For example, to create a new
&lt;code&gt;3440x1440&lt;/code&gt; mode for my &lt;code&gt;DP-1&lt;/code&gt; display, I would run the following command:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;./add-xrandr.sh &lt;span style=&#34;color:#ae81ff&#34;&gt;3440&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1440&lt;/span&gt; DP-1.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The script will generate a new mode based on the parameters fed it it, and then
check to see if the mode already exists. If it doesn&amp;rsquo;t, it will create it, add
it to the display name passed in, and will ask the user if they would like to
switch to the new mode. If the mode &lt;em&gt;was&lt;/em&gt; already detected, the script will just
ask the user if they wish to switch to it.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: The script is hard-coded to always create modes at &lt;code&gt;59.9&lt;/code&gt; Hertz,
because I don&amp;rsquo;t have any fancy fast monitors. If you want that option, just add
another parameter and swap out the &lt;code&gt;59.9&lt;/code&gt; with it.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;pros-cons&#34;&gt;Pros/Cons&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sub-monitor-workflows-with-xrandr/ultrawide-mode.jpg&#34;&gt;&lt;img alt=&#34;Monitor in &#39;ultrawide mode&#39;&#34; src=&#34;../../img/posts/sub-monitor-workflows-with-xrandr/ultrawide-mode.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Monitor in &amp;lsquo;ultrawide mode&amp;rsquo;. It is set to 3440x1440px and
measures ~36&amp;rdquo; diagonally.&lt;/div&gt;&lt;/p&gt;

&lt;h4 id=&#34;what-this-solves&#34;&gt;What this solves&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;When I have the monitor set to a sub-resolution, I don&amp;rsquo;t experience any of
the &amp;ldquo;edge shadowing&amp;rdquo; issues I mentioned in the review post.&lt;/li&gt;
&lt;li&gt;I can test out any resolution setup less than 2840x2160. (Including Ultrawide
setups)&lt;/li&gt;
&lt;li&gt;Using a smaller resolution is friendlier to my tiling wm setups&lt;/li&gt;
&lt;li&gt;I can use a better &amp;ldquo;single focus&amp;rdquo; monitor setup. For example, the equivalent of a 28&amp;rdquo;
1440p display.&lt;/li&gt;
&lt;li&gt;I can set my monitor to a smaller resolution to better play full screen games (so that
the resolution better fits my GPU performance &lt;em&gt;and&lt;/em&gt; the game is in my
field of view)&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;what-it-doesn-t-fix&#34;&gt;What it doesn&amp;rsquo;t fix&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;The &lt;em&gt;physical&lt;/em&gt; size of my monitor stays the same. (MASSIVE Bezels :P )&lt;/li&gt;
&lt;li&gt;I can&amp;rsquo;t really do multiple displays setups. Even though my monitor supports
multiple inputs and picture-by-picture, I still can&amp;rsquo;t do a &lt;em&gt;good&lt;/em&gt; horizontal +
vertical 1080p setup, because it will center each one.&lt;/li&gt;
&lt;li&gt;The DPI is slightly bigger than if I got the &lt;em&gt;common&lt;/em&gt; size/pixel monitors.&lt;/li&gt;
&lt;li&gt;Any &lt;em&gt;curving&lt;/em&gt; or other physical attributes another monitor form factor has.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;In conclusion, I love this setup. With this work-around, I was able to take a few
use cases where my monitor didn&amp;rsquo;t fully fit my needs, and fix it. I am even
happier with my monitor selection now, as I can enjoy a massive IPS display when I want it,
but also have the ability to tone it down when I want to focus in more. So far,
it&amp;rsquo;s working great!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Switching to a Mesh Network</title>
      <link>http://ryan.himmelwright.net/post/switching-to-mesh-network/</link>
      <pubDate>Mon, 01 Apr 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/switching-to-mesh-network/</guid>
      <description>&lt;p&gt;Not too long ago, I updated our home networking equipment to an Ubiqui
setup. However, we recently moved into a new house and I switched to a
mesh wifi network. No, the switch was not &lt;em&gt;just&lt;/em&gt; to increase wifi
coverage throughout the entire house. The real motivator
(ironically)&amp;hellip; was that I needed a better ethernet connection&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;history&#34;&gt;History&lt;/h3&gt;

&lt;p&gt;About two years ago, I &lt;a href=&#34;../../post/upgrading-network-to-ubiquiti/&#34;&gt;replaced my Linksys wifi
router(s)&lt;/a&gt;
with the tiny-but-mighty &lt;a href=&#34;https://store.ui.com/products/edgerouter-x&#34;&gt;Ubiquity Edge Router
X&lt;/a&gt;, paired with an &lt;a href=&#34;https://www.ui.com/unifi/unifi-ap-ac-lite/&#34;&gt;Ubiqui AP AC
lite&lt;/a&gt; wifi access point. I loved
it. It handled our web traffic flawlessly, and unlike the previous Linksys
routers, I never had to randomly restart it. It just worked for months on end.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/switching-to-mesh-network/google-fiber-box.png&#34;&gt;&lt;img alt=&#34;The Google Fiber network box&#34; src=&#34;../../img/posts/switching-to-mesh-network/google-fiber-box.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The Google Fiber &amp;ldquo;network box&amp;rdquo;.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;I enjoyed the setup &lt;em&gt;so&lt;/em&gt; much in fact, that while I was thrilled to
have a Google Fiber internet connection when we moved to Durham NC
last year, I was a little sad that setting up the edgerouter on the
fiber modem required a little bit of tweaking. I looked into it
but ultimately decided that figuring it out wasn&amp;rsquo;t worth the hassle
for the short period of time which we&amp;rsquo;d likely live in the
apartment. So, I reluctantly used the Google provided box which worked &lt;em&gt;okay&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id=&#34;we-moved&#34;&gt;We Moved&lt;/h3&gt;

&lt;p&gt;The Google fiber was indeed short lived, as my wife and I just moved
into a house this past month. When working with Spectrum to setup our
internet (&lt;em&gt;yea&amp;hellip; I know&lt;/em&gt;), we discovered that while there were coax
plugs in both the living room and master bedroom, we couldn&amp;rsquo;t
actually find any hook-ups to connect the house to the external cable/internet
service line.&lt;/p&gt;

&lt;h4 id=&#34;cable-line-in-bedroom&#34;&gt;Cable-line in Bedroom&lt;/h4&gt;

&lt;p&gt;After searching with multiple techs, we decided just to have them
drill a line into the master bedroom (which is at the back of the
house and allows the connection box to be with the other utility
meters). Our house isn&amp;rsquo;t massive, and having the router in the bedroom
works well enough, except for &lt;em&gt;one&lt;/em&gt; issue.&lt;/p&gt;

&lt;p&gt;I have several servers and desktop computers that &lt;em&gt;require&lt;/em&gt; an
ethernet connection, either because they don&amp;rsquo;t have wifi cards, and/or
because I use Wake-On-Lan with them. This means that I need an
ethernet connection in my office&amp;hellip; at the front of the house. Now
that the only ethernet router/switch was in the bedroom, and the rest
of the house relied on wifi&amp;hellip;  I needed to figure something out.&lt;/p&gt;

&lt;h4 id=&#34;power-line-issues&#34;&gt;Power-line Issues&lt;/h4&gt;

&lt;p&gt;In past apartments, I had used power-line ethernet adapters to extend
ethernet from a router in a different room to my computers. The speeds
weren&amp;rsquo;t great, but then again, neither was our connection so it wasn&amp;rsquo;t
a huge problem. This time though, I ran some tests&amp;hellip;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/switching-to-mesh-network/internet-speed-comparison.png&#34;&gt;
&lt;img alt=&#34;Diagram comparing internet speeds: 1) Plugged directly into Router: 27 ms ping, 231.44 Mbps Download, 11.79 Mbps upload 2) Wifi in Office: 17 ms ping, 178.74 Mbps Download, 11.72 Mbps Upload 3) Powerline Ethernet in Office: 15 ms ping, 17.66 MBps Download, 11.86 Mbps Upload.&#34; src=&#34;../../img/posts/switching-to-mesh-network/internet-speed-comparison.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;div class=&#34;caption&#34;&gt;Different internet Speed test results after hooking up
internet to the house.&lt;/div&gt;

&lt;p&gt;So, while it &lt;em&gt;worked&lt;/em&gt;, this setup wasn&amp;rsquo;t ideal. More importantly, I
found out a few days later there was a massive problem that
&lt;em&gt;completely prevents&lt;/em&gt; me from being able to use the power-line
adapters. The house&amp;rsquo;s electrical panel is between the master bedroom
and the office, which is the worst case scenario. One day, we turned
on the washing machine and our internet went down. It wasn&amp;rsquo;t just the
power-line connections that were effected&amp;hellip; the entire network, wifi
and router was essentially being
&lt;a href=&#34;https://en.wikipedia.org/wiki/Denial-of-service_attack&#34;&gt;dos&amp;rsquo;d&lt;/a&gt; by the
washer. When I unplugged the power-line adapters, it worked
again. Power-line was not an option anymore.&lt;/p&gt;

&lt;h4 id=&#34;mesh-network&#34;&gt;Mesh Network&lt;/h4&gt;

&lt;p&gt;I wondered if there was another way to connect ethernet in my office,
beyond having to drop cat6 cable across the house. I looked into wifi
bridges, but most of the devices were designed for large distances,
and ones for home use were not much better than a power-line adapters
when it came to performance/reliability. While looking at wifi
bridges, a thought occurred to me&amp;hellip; would a mesh network system work?
If the satellite devices had ethernet ports&amp;hellip; maybe.&lt;/p&gt;

&lt;h4 id=&#34;netgear-orbi&#34;&gt;Netgear Orbi&lt;/h4&gt;

&lt;p&gt;When I started researching wifi mesh networks, the orbi systems were consistently
rated the highest, and people generally reported that they experienced &lt;em&gt;great&lt;/em&gt;
performance. When I dug further into it, I learned that this high level of performance was
likely due to the orbi&amp;rsquo;s &lt;a href=&#34;https://www.netgear.com/landings/mesh-network/&#34;&gt;&amp;ldquo;tri-band wifi
technology&amp;rdquo;&lt;/a&gt;.
Basically, in addition to the normal 2.4 and 5 Ghz network bands, the orbi
system has &lt;em&gt;a second 5 Ghz band&lt;/em&gt; dedicated to connecting the orbi router and
satilites together. In other words&amp;hellip; a dedicated wifi bridge :D.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/switching-to-mesh-network/rbk50.png&#34;&gt;&lt;img alt=&#34;The RBK50 system comes with 1 router, and 1 satilite
device. Both have 4 etherent ports.&#34; src=&#34;../../img/posts/switching-to-mesh-network/rbk50.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The RBK50 system comes with 1 router, and 1 satilite
device. Both have 4 etherent ports.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;I started looking at the orbi hardware and saw that there were several
types of
&lt;a href=&#34;https://www.netgear.com/orbi/products.aspx#filter=.satellites-indoor%2C.satellites%2C.satellites-outdoor%2C.satellites&#34;&gt;satellites&lt;/a&gt;.
Some were just wall plugs, but a few had 2-4 ethernet
ports. Perfect. Realizing this, I ended up ordering the
&lt;a href=&#34;https://www.netgear.com/orbi/rbk50.aspx&#34;&gt;RBK50&lt;/a&gt; system, which
contained a 4-port orbi router, and a 4-port satellite. My hope was that
I could set up the router in the master bedroom with our modem, and
then put the satellite in my office on the other end of the house.
I could then connect my hardwired devices, or even a network switch, into the
ethernet ports on the satellite. Problem sovled.&lt;/p&gt;

&lt;h4 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h4&gt;

&lt;p&gt;I have ordered and setup my orbi system, and will write a review post
about it sometime in the future. This post&amp;rsquo;s intention was mostly to
just explain &lt;em&gt;why&lt;/em&gt; I ended up getting an orbi system.&lt;/p&gt;

&lt;p&gt;Many people have started to use home wifi &amp;ldquo;mesh&amp;rdquo; systems because they
provide a simple solution to cover an entire house with a strong wifi
connection. While this is a great &lt;em&gt;bonus&lt;/em&gt; I get from having the mesh
system, as this post demonstrates, my &lt;em&gt;main&lt;/em&gt; purpose for purchasing
the orbi was to be a solid &amp;ldquo;ethernet over wifi&amp;rdquo; system in the new
house. So far&amp;hellip; it&amp;rsquo;s working great.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Extending a VM Virtual Disk</title>
      <link>http://ryan.himmelwright.net/post/extending-vm-hd/</link>
      <pubDate>Thu, 07 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/extending-vm-hd/</guid>
      <description>&lt;p&gt;Last week, I extended the virtual disk of the VM hosting my
&lt;a href=&#34;https://jenkins.io&#34;&gt;jenkins&lt;/a&gt; server. Shortly after, I increased the maximum
disk size of one of the job&amp;rsquo;s docker containers, maxing out the disk. This
meant that I needed to extend the drive&lt;em&gt;&amp;hellip; again&lt;/em&gt;. If you ever do something
twice, it is &lt;em&gt;best&lt;/em&gt; to have it documented for the potential third time. So,
here we are.&lt;/p&gt;

&lt;h4 id=&#34;assumptions&#34;&gt;Assumptions&lt;/h4&gt;

&lt;p&gt;Before getting started, I want to point out that this method is specific to the
environment I currently have for &lt;em&gt;my VMs&lt;/em&gt;. Specifically, I am using kvm/qemu
and virt-manager, with qcow2 images for the virtual disks. Additionally, the
specific VM I was extending was installed with LVM and it&amp;rsquo;s main partition was
formatted with a xfs file system. Just note that some steps &lt;em&gt;may&lt;/em&gt; differ
elsewhere. This is what worked for &lt;em&gt;me&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&#34;clone-vm&#34;&gt;Clone VM&lt;/h2&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/extending-vm-hd/clone-vm.png&#34;&gt;&lt;img alt=&#34;Clone VM window in Virt Manager&#34; src= &#34;/img/posts/extending-vm-hd/clone-vm.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Cloning the VM in Virt Manager&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;While not &lt;em&gt;required&lt;/em&gt;, it isn&amp;rsquo;t a &lt;em&gt;bad&lt;/em&gt; idea to first clone the VM (just
in case anything becomes damaged). If using &lt;code&gt;virt-manager&lt;/code&gt;, cloning a
VM is as simple as right clicking a &lt;em&gt;powered down&lt;/em&gt; VM, and selecting
&amp;ldquo;&lt;em&gt;Clone&amp;hellip;&lt;/em&gt;&amp;rdquo;. A window will pop up with options for cloning the
VM. Make the desired name changes and hit &lt;em&gt;Clone&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&#34;extend-qcow2-file&#34;&gt;Extend qcow2 file&lt;/h2&gt;

&lt;p&gt;The first step in resizing the virtual drive is to first expand
the &lt;code&gt;qcow2&lt;/code&gt; image. By default, the images tend to be stored at
&lt;code&gt;/var/lib/libvirt/images/&lt;/code&gt; and will require &lt;code&gt;root&lt;/code&gt; privileges to
access. Virt-Manager can be used to double check which image the VM is
using for its disk. To resize the qcow2 image, use the &lt;code&gt;qemu-img
resize&lt;/code&gt; command, providing it the image file path/name and then the size
to expand it. For example, I used &lt;code&gt;+40G&lt;/code&gt; in my command (&lt;code&gt;qemu-img
resize Jenkins.qcow2 +40G&lt;/code&gt;) to extend the image by 40GB.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;root@ninetales:/var/lib/libvirt/images# qemu-img info Jenkins.qcow2
image: Jenkins.qcow2
file format: qcow2
virtual size: 20G &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21474836480&lt;/span&gt; bytes&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
disk size: 20G
cluster_size: &lt;span style=&#34;color:#ae81ff&#34;&gt;65536&lt;/span&gt;
Format specific information:
    compat: 1.1
    lazy refcounts: true
    refcount bits: &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;
    corrupt: false

root@ninetales:/var/lib/libvirt/images# qemu-img resize Jenkins.qcow2 +40G
Image resized.

root@ninetales:/var/lib/libvirt/images# qemu-img info Jenkins.qcow2
image: Jenkins.qcow2
file format: qcow2
virtual size: 60G &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;64424509440&lt;/span&gt; bytes&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
disk size: 20G
cluster_size: &lt;span style=&#34;color:#ae81ff&#34;&gt;65536&lt;/span&gt;
Format specific information:
    compat: 1.1
    lazy refcounts: true
    refcount bits: &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;
    corrupt: false

root@ninetales:/var/lib/libvirt/images#&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The command &lt;code&gt;qemu-image info&lt;/code&gt; can be helpful in verifying that the resize
worked, by checking the size of the image.&lt;/p&gt;

&lt;h2 id=&#34;gparted-live-iso&#34;&gt;Gparted Live ISO&lt;/h2&gt;

&lt;p&gt;For the next few steps, it is a good idea to boot the system from a live CD.
This will run the OS in RAM, allowing the disk to be fully unmounted.  With
access to the VM&amp;rsquo;s display, an ISO such as the &lt;a href=&#34;https://gparted.org/livecd.php&#34;&gt;gparted live
CD&lt;/a&gt; can be used to resize the partitions,
as it contains the amazing graphical tool, &lt;code&gt;gparted&lt;/code&gt; (duh).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If you boot up the VM and don&amp;rsquo;t see the new unallocated space available in the
volume&amp;hellip; make sure you didn&amp;rsquo;t accidentally boot the &lt;em&gt;backup VM&lt;/em&gt;&amp;hellip; Not that
&lt;strong&gt;I made such a mistake&amp;hellip;&lt;/strong&gt; :P&lt;/p&gt;

&lt;h4 id=&#34;lvm-resize&#34;&gt;LVM Resize&lt;/h4&gt;

&lt;p&gt;My VM is installed using LVM volumes, so I had to resize them
before I could resize the file system. Gparted will do this
automatically when resizing a partition.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/extending-vm-hd/gparted-live-iso.png&#34;&gt;&lt;img alt=&#34;Booting into the Gparted live ISO&#34; src= &#34;/img/posts/extending-vm-hd/gparted-live-iso.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Booting into the Gparted live ISO&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;To resize the partition, first verify that the correct virtual disk
is selected in the top right drop-down the window. Next, select the
partition to expand, and click the &amp;ldquo;&lt;em&gt;Resize/Move&lt;/em&gt;&amp;rdquo; icon at the top.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/extending-vm-hd/gparted-resize.png&#34;&gt;&lt;img alt=&#34;Resizing the partition in Gparted&#34; src= &#34;/img/posts/extending-vm-hd/gparted-resize.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Resizing the partition in Gparted&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;In the resize window, I changed the &lt;code&gt;Free space following (MiB)&lt;/code&gt;
value to &lt;code&gt;0&lt;/code&gt;, to expand the partition to use &lt;em&gt;all&lt;/em&gt; of the unallocated space.
Lastly, I hit the &lt;em&gt;Resize&lt;/em&gt; button and let Gparted do it&amp;rsquo;s magic.&lt;/p&gt;

&lt;h4 id=&#34;grow-xfs&#34;&gt;Grow XFS&lt;/h4&gt;

&lt;p&gt;Finally, with the lvm volume expanded, I just had to grow my file system to use
the new space. I booted up the VM and logged in. This VM uses an xfs file
system, so I was able to use the &lt;code&gt;xfs_growfs&lt;/code&gt; command to expand the partition:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;ryan@mr-mime ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;$ sudo xfs_growfs /dev/centos/root
&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;... Ryan removed output &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; the post...&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
data blocks changed from &lt;span style=&#34;color:#ae81ff&#34;&gt;4851712&lt;/span&gt; to &lt;span style=&#34;color:#ae81ff&#34;&gt;15322112&lt;/span&gt;

&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;ryan@mr-mime ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;$ df -h
Filesystem               Size  Used Avail Use% Mounted on
/dev/mapper/centos-root   59G   19G   40G  32% /
devtmpfs                 1.9G     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  1.9G   0% /dev
tmpfs                    1.9G  8.0K  1.9G   1% /dev/shm
tmpfs                    1.9G  8.7M  1.9G   1% /run
tmpfs                    1.9G     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  1.9G   0% /sys/fs/cgroup
/dev/vda1                497M  231M  267M  47% /boot
tmpfs                    379M     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  379M   0% /run/user/1000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Note: My VM&amp;rsquo;s disk space was COMPLETELY full. This meant that I couldn&amp;rsquo;t use auto
tab complete in my shell because it spit out there&amp;rsquo;s no disk space. Typing the
command out fully by hand, still worked.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;With the xfs partition resized, I rebooted the VM for good measure, and
everything was up and running again.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s about it. Remember, the steps I took might need to be altered for other
environments, but this post should still be a good &lt;em&gt;starting&lt;/em&gt; point. I know it
will help me when I acidently overfill this VM &lt;em&gt;again&lt;/em&gt;&amp;hellip; Enjoy!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Replacing a Drive in My ZFS Mirror</title>
      <link>http://ryan.himmelwright.net/post/replace-zfs-mirror-drive/</link>
      <pubDate>Tue, 15 Jan 2019 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/replace-zfs-mirror-drive/</guid>
      <description>&lt;p&gt;Right before Thanksgiving, one of the hard drives in my server started get
noisy&amp;hellip; very noisy. Fearing the worst, I &lt;a href=&#34;../../post/zfs-backups-to-luks-external&#34;&gt;did a
backup&lt;/a&gt;, and shutdown the server until I had
time to investigate further&amp;hellip; and likely replace the drive. That
time came this past week.&lt;/p&gt;

&lt;h3 id=&#34;verifying-the-drive-failed&#34;&gt;Verifying the Drive Failed&lt;/h3&gt;

&lt;p&gt;Before throwing money at the problem, I wanted to see if ZFS was detecting any
issues. When I ran a &lt;code&gt;zpool status&lt;/code&gt; on my &lt;code&gt;Data&lt;/code&gt; pool, it warned me that one of
the devices had experienced an error, but that I had not (&lt;em&gt;yet&lt;/em&gt;) encountered
any data errors. Time to buy a new drive.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;λ ninetales ~ → zpool status Data
  pool: Data
 state: ONLINE
status: One or more devices has experienced an unrecoverable error.  An
	attempt was made to correct the error.  Applications are unaffected.
action: Determine &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; the device needs to be replaced, and clear the errors
	using &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;zpool clear&amp;#39;&lt;/span&gt; or replace the device with &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;zpool replace&amp;#39;&lt;/span&gt;.
   see: http://zfsonlinux.org/msg/ZFS-8000-9P
  scan: resilvered 1.14M in 0h0m with &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; errors on Sat Jan &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt; 10:49:31 &lt;span style=&#34;color:#ae81ff&#34;&gt;2019&lt;/span&gt;
config:

	NAME                                  STATE     READ WRITE CKSUM
	Data                                  ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
	  mirror-0                            ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
	    ata-TOSHIBA_DT01ACA300_365XDT3KS  ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
	    ata-TOSHIBA_DT01ACA300_365XDR5KS  ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;

errors: No known data errors&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;ordering-a-new-drive&#34;&gt;Ordering a New Drive&lt;/h3&gt;

&lt;p&gt;When I started shopping for hard drives, I decided to replace my broken 7200 RPM
one a 5400 RPM one. I&amp;rsquo;d rather have the drives last longer and run quieter,
than whatever marginal speed difference the faster spinning disks &lt;em&gt;may&lt;/em&gt;
provide. I decided to finally go with a &lt;a href=&#34;https://www.amazon.com/dp/B008JJLW4M/ref=twister_B07GXT9HNH?_encoding=UTF8&amp;amp;psc=1&#34;&gt;3TB Western Digital RED
drive&lt;/a&gt;
this time, even tough it&amp;rsquo;s a bit more expensive&amp;hellip; mostly to try out.&lt;/p&gt;

&lt;h3 id=&#34;replacing-the-drive&#34;&gt;Replacing the Drive&lt;/h3&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/replace-zfs-mirror-drive/hdd-swap.jpg&#34;&gt;&lt;img alt=&#34;Swapping the two hard drives&#34; src= &#34;/img/posts/replace-zfs-mirror-drive/hdd-swap.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Swapping the hot-swap caddy from the broken hard drive (left) with my new WD Red drive (right)&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Physically&lt;/em&gt; swapping the hard drives was a breeze. I could easily tell which
drive was the defective one&amp;hellip; as it caused the entire server to rumble (ಠ_ಠ) .
So I slid it out, unscrewed the drive from its caddy, and screwed in the new
one. Lastly, I slide the caddy back into the server and booted it up. I love
hot-swap drive bays.&lt;/p&gt;

&lt;h4 id=&#34;figuring-out-which-disk-to-replace&#34;&gt;Figuring Out Which Disk To Replace&lt;/h4&gt;

&lt;p&gt;Determining which disk was being replaced &lt;em&gt;in software&lt;/em&gt; was a bit more
difficult. In order to add the new drive to the &lt;code&gt;Data&lt;/code&gt; pool, I needed to tell
ZFS which one had been &lt;em&gt;replaced&lt;/em&gt;.  This was made more complicated by the fact
that previously, the two drives in the mirror were the same model and both showed up
as &lt;code&gt;/dev/disk/by-id/ata-TOSHIBA_DT01ACA300_365XDR5KS&lt;/code&gt;. So, I needed to find the
&lt;code&gt;guid&lt;/code&gt; for each drive, because it would differ between them. I used the command
&lt;code&gt;zdb&lt;/code&gt; to spit out information about of each of my pools:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;λ ninetales ~ → zdb
... &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;other pool output&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;...
Data:
    version: &lt;span style=&#34;color:#ae81ff&#34;&gt;5000&lt;/span&gt;
    name: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Data&amp;#39;&lt;/span&gt;
    state: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
    txg: &lt;span style=&#34;color:#ae81ff&#34;&gt;15996848&lt;/span&gt;
    pool_guid: &lt;span style=&#34;color:#ae81ff&#34;&gt;2285339125999939520&lt;/span&gt;
    errata: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
    comment: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;iocage&amp;#39;&lt;/span&gt;
    hostname: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ninetales&amp;#39;&lt;/span&gt;
    com.delphix:has_per_vdev_zaps
    vdev_children: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
    vdev_tree:
        type: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;
        id: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
        guid: &lt;span style=&#34;color:#ae81ff&#34;&gt;2285339125999939520&lt;/span&gt;
        children&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;0&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;:
            type: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;mirror&amp;#39;&lt;/span&gt;
            id: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
            guid: &lt;span style=&#34;color:#ae81ff&#34;&gt;15171243251753521949&lt;/span&gt;
            metaslab_array: &lt;span style=&#34;color:#ae81ff&#34;&gt;34&lt;/span&gt;
            metaslab_shift: &lt;span style=&#34;color:#ae81ff&#34;&gt;34&lt;/span&gt;
            ashift: &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt;
            asize: &lt;span style=&#34;color:#ae81ff&#34;&gt;3000588042240&lt;/span&gt;
            is_log: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
            create_txg: &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
            com.delphix:vdev_zap_top: &lt;span style=&#34;color:#ae81ff&#34;&gt;125&lt;/span&gt;
            children&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;0&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;:
                type: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;disk&amp;#39;&lt;/span&gt;
                id: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
                guid: &lt;span style=&#34;color:#ae81ff&#34;&gt;4676737554230074290&lt;/span&gt;
                path: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/dev/disk/by-id/ata-TOSHIBA_DT01ACA300_365XDT3KS&amp;#39;&lt;/span&gt;
                phys_path: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/dev/ada1&amp;#39;&lt;/span&gt;
                whole_disk: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
                not_present: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
                DTL: &lt;span style=&#34;color:#ae81ff&#34;&gt;123&lt;/span&gt;
                create_txg: &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
                com.delphix:vdev_zap_leaf: &lt;span style=&#34;color:#ae81ff&#34;&gt;126&lt;/span&gt;
            children&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;1&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;:
                type: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;disk&amp;#39;&lt;/span&gt;
                id: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
                guid: &lt;span style=&#34;color:#ae81ff&#34;&gt;13442522248687181242&lt;/span&gt;
                path: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/dev/disk/by-id/ata-TOSHIBA_DT01ACA300_365XDR5KS&amp;#39;&lt;/span&gt;
                phys_path: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/dev/ada3&amp;#39;&lt;/span&gt;
                whole_disk: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
                DTL: &lt;span style=&#34;color:#ae81ff&#34;&gt;122&lt;/span&gt;
                create_txg: &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;
                com.delphix:vdev_zap_leaf: &lt;span style=&#34;color:#ae81ff&#34;&gt;159&lt;/span&gt;
    features_for_read:
        com.delphix:hole_birth
        com.delphix:embedded_data
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;At first, I still didn&amp;rsquo;t know which drive was which. However, after looking
deeper, I noticed that &lt;em&gt;one&lt;/em&gt; of the Toshiba drives listed had the line
&lt;code&gt;not_present: 1&lt;/code&gt;, indicating that it was the broken drive I had removed!&lt;/p&gt;

&lt;h4 id=&#34;replacing-the-drive-1&#34;&gt;Replacing the drive&lt;/h4&gt;

&lt;p&gt;With the &lt;code&gt;guid&lt;/code&gt; of the broken drive known, I was able to start the process of
replacing it in the pool with the new one. I issued a &lt;code&gt;zpool replace&lt;/code&gt; command
with the following arguments:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo zpool replace Data &lt;span style=&#34;color:#ae81ff&#34;&gt;4676737554230074290&lt;/span&gt; /dev/sdd&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;Data&lt;/code&gt; - the name of the pool&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;4676737554230074290&lt;/code&gt; - the &lt;code&gt;guid&lt;/code&gt; of the previous drive&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;code&gt;/dev/sdd&lt;/code&gt; - the path to the new drive&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Afterwards, the resilvering process started (rebuilding the mirror by copying
data from one drive to the other). I was able to check the status of
the process using &lt;code&gt;zpool status Data&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;λ ninetales by-uuid → zpool status Data
  pool: Data
 state: DEGRADED
status: One or more devices is currently being resilvered.  The pool will
	&lt;span style=&#34;color:#66d9ef&#34;&gt;continue&lt;/span&gt; to &lt;span style=&#34;color:#66d9ef&#34;&gt;function&lt;/span&gt;, possibly in a degraded state.
action: Wait &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; the resilver to complete.
  scan: resilver in progress since Sat Jan &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt; 11:29:36 &lt;span style=&#34;color:#ae81ff&#34;&gt;2019&lt;/span&gt;
	72.6M scanned out of 1.03T at 2.42M/s, 123h32m to go
	72.2M resilvered, 0.01% &lt;span style=&#34;color:#66d9ef&#34;&gt;done&lt;/span&gt;
config:

	NAME                                  STATE     READ WRITE CKSUM
	Data                                  DEGRADED     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
	  mirror-0                            DEGRADED     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
	    replacing-0                       DEGRADED     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
	      &lt;span style=&#34;color:#ae81ff&#34;&gt;4676737554230074290&lt;/span&gt;             UNAVAIL      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  was /dev/disk/by-id/ata-TOSHIBA_DT01ACA300_365XDT3KS
	      sdd                             ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;resilvering&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
	    ata-TOSHIBA_DT01ACA300_365XDR5KS  ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;

errors: No known data errors&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Resilvering can take a &lt;em&gt;long&lt;/em&gt; time. Luckily, I only had about ~1 TB of data to
rebuild, so I hoped it wouldn&amp;rsquo;t &lt;em&gt;actually&lt;/em&gt; take the 123.5 hours that the first
&lt;code&gt;status&lt;/code&gt; predicted! Regardless, during the resilvering process, the only thing
to do is wait (&lt;em&gt;and hope that the other drive doesn&amp;rsquo;t break in the process!&lt;/em&gt;).
So I did.&lt;/p&gt;

&lt;h4 id=&#34;resilver-complete&#34;&gt;Resilver Complete&lt;/h4&gt;

&lt;p&gt;In just over 4 hours, my pool had rebuilt and was back online.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;λ ninetales ~ → zpool status Data
  pool: Data
 state: ONLINE
  scan: resilvered 1.03T in 4h8m with &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; errors on Sat Jan &lt;span style=&#34;color:#ae81ff&#34;&gt;12&lt;/span&gt; 15:38:26 &lt;span style=&#34;color:#ae81ff&#34;&gt;2019&lt;/span&gt;
config:

	NAME                                  STATE     READ WRITE CKSUM
	Data                                  ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
	  mirror-0                            ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
	    sdd                               ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
	    ata-TOSHIBA_DT01ACA300_365XDR5KS  ONLINE       &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;

errors: No known data errors&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Looking at this output now, I realize I probably should have added the new
drive by &lt;code&gt;uuid&lt;/code&gt; instead of pathname&amp;hellip;hmmm&amp;hellip;&lt;/p&gt;

&lt;p&gt;Oh well. That is a post for another day. At least my broken drive
has &lt;em&gt;finally&lt;/em&gt; been replaced!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Configuring Pass, the Standard Unix Password Manager</title>
      <link>http://ryan.himmelwright.net/post/setting-up-pass/</link>
      <pubDate>Wed, 12 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/setting-up-pass/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been using &lt;code&gt;pass&lt;/code&gt; to manage my passwords for quite some time.
During the early days of use, I occasionally had difficulty configuring it on
new machines, but those days appear to be long gone. It is a simple, generic,
yet flexible system.  Here&amp;rsquo;s how to get started.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;(but first, some background&amp;hellip; feel free to skip ahead)&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;my-password-manager-history&#34;&gt;My Password Manager History&lt;/h2&gt;

&lt;p&gt;For the longest time, I didn&amp;rsquo;t use a password manager (in my defence, not many
people did). Then in college, I started using
&lt;a href=&#34;https://www.lastpass.com/&#34;&gt;LastPass&lt;/a&gt;. It was simple and made it easy to switch
all of my passwords to randomly generated ones. I had a good system that
worked for a few years, and  was even able to integrate my
&lt;a href=&#34;https://www.yubico.com&#34;&gt;yubikey&lt;/a&gt; with it.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/setting-up-pass/LastPass-Logo.png&#34;&gt;&lt;img alt=&#34;LastPass logo&#34; src=&#34;../../img/posts/setting-up-pass/LastPass-Logo.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;Then in 2015, Lastpass was acquired by &lt;a href=&#34;https://www.logmeininc.com&#34;&gt;LogMeIn&lt;/a&gt;,
which had a questionable past of Linux support. Like many others in the open
source community&amp;hellip; I started looking for alternatives.&lt;/p&gt;

&lt;p&gt;I had already been searching for a LastPass replacement even before the
acquisition. My search was mainly fueled by one big issue I had with
LastPass&amp;hellip; it required a web browser to use.  Additionally, to utilize it&amp;rsquo;s full
feature set, it needed to run as a Chrome or Firefox plugin. As someone who
often uses alternative web browsers (like &lt;a href=&#34;https://qutebrowser.org&#34;&gt;qutebrowser&lt;/a&gt;),
or works on headless machines, I try not to use applications that exist solely
as a FireFox/Chome app.  I am also not a fan of pure website-apps in
general.&lt;/p&gt;

&lt;p&gt;So, as the I watched others switch password managers amongst the acquisition
hype, one switch I remember seeing was Chris Fischer of the Linux Action Show.
In episode 387 of LAS, Chris and Noah (his co-host) discussed LastPass alternatives, and
Chris highlighted his switch to
&lt;a href=&#34;https://www.youtube.com/watch?v=OfgZ5Fh-NfE&amp;amp;feature=youtu.be&amp;amp;t=4935&#34;&gt;pass&lt;/a&gt;.
While I don&amp;rsquo;t think he kept with the system long-term&amp;hellip; I have.&lt;/p&gt;

&lt;h2 id=&#34;what-i-like-about-pass-https-www-passwordstore-org&#34;&gt;What I like about &lt;a href=&#34;https://www.passwordstore.org&#34;&gt;pass&lt;/a&gt;&lt;/h2&gt;

&lt;h4 id=&#34;unix-philosophy-simplicity&#34;&gt;Unix Philosophy &amp;ldquo;Simplicity&amp;rdquo;&lt;/h4&gt;

&lt;p&gt;Okay. The average computer user will not think &lt;code&gt;pass&lt;/code&gt; is &amp;ldquo;simple&amp;rdquo;. I agree.
However, being designed to follow the &lt;a href=&#34;https://en.wikipedia.org/wiki/Unix_philosophy&#34;&gt;Unix
philosophy&lt;/a&gt;, pass&amp;rsquo;s &lt;em&gt;architecture
is&lt;/em&gt;. Basically, pass is just a nice wrapper around a bunch of
&lt;a href=&#34;https://en.wikipedia.org/wiki/GNU_Privacy_Guard&#34;&gt;gpg&lt;/a&gt; encrypted text files. It
is a minimal, but tested solution.  This model makes pass easily compatible
with many other great tools, such as bash, git,
&lt;a href=&#34;https://git.zx2c4.com/password-store/tree/contrib/dmenu&#34;&gt;dmenu&lt;/a&gt;,
&lt;a href=&#34;https://hackage.haskell.org/package/xmonad-contrib-0.13/docs/XMonad-Prompt-Pass.html&#34;&gt;xmonad&lt;/a&gt;
and &lt;a href=&#34;https://git.zx2c4.com/password-store/tree/contrib/emacs&#34;&gt;emacs&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&#34;command-line-tool&#34;&gt;Command Line Tool&lt;/h4&gt;

&lt;p&gt;As a command-line tool, I can use pass anywhere. It doesn&amp;rsquo;t matter how conventional or strange the
setup may be. I can have it on my desktop, on a headless server, or even inside a container. It
makes no difference.  Even if I am on a public computer, if I can &lt;code&gt;ssh&lt;/code&gt; into one of my servers, I
can access my passwords.&lt;/p&gt;

&lt;h4 id=&#34;flexible&#34;&gt;Flexible&lt;/h4&gt;

&lt;p&gt;By default, pass assumes the first line of a store file is the password.  However, the
multi-line contents of a pass file can be anything. For example, pass could be used securely store
encrypted notes. This gives the system a ton of flexibility, as the password items don&amp;rsquo;t &lt;em&gt;have&lt;/em&gt; to
conform to any sort of template.&lt;/p&gt;

&lt;h2 id=&#34;installing-pass-help-packages&#34;&gt;Installing Pass &amp;amp; Help Packages&lt;/h2&gt;

&lt;p&gt;On Fedora, pass can be installed using &lt;code&gt;dnf&lt;/code&gt;. For other systems, check out the
&amp;ldquo;Download&amp;rdquo; section of the &lt;a href=&#34;https://www.passwordstore.org/&#34;&gt;pass website&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo dnf install pass&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;configuring-pass&#34;&gt;Configuring Pass&lt;/h2&gt;

&lt;p&gt;After installing pass, there are few steps to configure it. First, we need to create a gpg key if
one doesn&amp;rsquo;t already exist. Then, we need to initialize a password-store using that key.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;em&gt;I went a little heavy with the animation images in the remainder of
the post. Sorry. I hope they are more useful than annoying. Being a visual learner, at the very
least they are helpful for me when I reference this post in the future. &amp;hellip;&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;new-gpg-key&#34;&gt;New GPG Key&lt;/h3&gt;

&lt;p&gt;&lt;img alt=&#34;animation running gpg --gen-key&#34; src=&#34;../../img/posts/setting-up-pass/animation-hover.png&#34; onmouseover=&#34;this.src=&#39;../../img/posts/setting-up-pass/generate-gpg-keys.gif&#39;&#34; onmouseout=&#34;this.src=&#39;../../img/posts/setting-up-pass/animation-hover.png&#39;&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;div class=&#34;caption&#34;&gt;Generate a new gpg key with &lt;code&gt;gpg2 --full-gen-key&lt;/code&gt;.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;To create a gpg key, the &lt;code&gt;gpg2 --gen-key&lt;/code&gt; command is normally used.  However, I opted to use &lt;code&gt;gpg2
--full-gen-key&lt;/code&gt;, which allows for a bit more control during setup.  The command will prompt for
several bits of information, and the default selections are generally fine for most of the options
(Personally, I use a 4096-bit key, because&amp;hellip; why not?). At the end it will ask for a
name, Password, and optional comment.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;It should be noted that &lt;code&gt;gpg2&lt;/code&gt; most likely needs to be used instead of &lt;code&gt;gpg&lt;/code&gt;
for pass. However, it may vary depending on distribution and the package
versions.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;pass-init&#34;&gt;Pass Init&lt;/h3&gt;

&lt;p&gt;&lt;img alt=&#34;Crating new pass store with pass init&#34; src=&#34;../../img/posts/setting-up-pass/animation-hover.png&#34; onmouseover=&#34;this.src=&#39;../../img/posts/setting-up-pass/pass-init.gif&#39;&#34; onmouseout=&#34;this.src=&#39;../../img/posts/setting-up-pass/animation-hover.png&#39;&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;div class=&#34;caption&#34;&gt;Initialize a new pass store with &lt;code&gt;pass init&lt;/code&gt;.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;After a gpg key has been generated, it can be used with pass.  First, find the key&amp;rsquo;s ID by using
&lt;code&gt;gpg2 --list-secret-keys&lt;/code&gt;. Then, configure pass with &lt;code&gt;pass init GPG-KEY-ID&lt;/code&gt;. This will create a
password-store directory, located by default at &lt;code&gt;~/.password-store/&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&#34;add-some-items&#34;&gt;Add some items&lt;/h3&gt;

&lt;p&gt;&lt;img alt=&#34;Adding, editing, and retrieving some passwords with `pass`, `pass insert`, `pass generate`, and `pass edit`&#34; src=&#34;../../img/posts/setting-up-pass/animation-hover.png&#34; onmouseover=&#34;this.src=&#39;../../img/posts/setting-up-pass/pass-add-demo.gif&#39;&#34; onmouseout=&#34;this.src=&#39;../../img/posts/setting-up-pass/animation-hover.png&#39;&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;div class=&#34;caption&#34;&gt;Adding, editing, and retrieving some passwords with &lt;code&gt;pass&lt;/code&gt;, &lt;code&gt;pass insert&lt;/code&gt;, &lt;code&gt;pass generate&lt;/code&gt;, and &lt;code&gt;pass edit&lt;/code&gt;.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;With pass initialized, lets start adding passwords to it! Here are &lt;em&gt;some&lt;/em&gt; of
the most common commands to do so:&lt;/p&gt;

&lt;h4 id=&#34;insert&#34;&gt;insert&lt;/h4&gt;

&lt;p&gt;Simply put, &lt;code&gt;pass insert&lt;/code&gt; &amp;hellip; inserts a password. Call it with the desired folder/file
structure for the password, and pass will then prompt for the password to
save. That&amp;rsquo;s it.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pass insert Shopping/amazon.com/ryan&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;pass-generate&#34;&gt;pass generate&lt;/h4&gt;

&lt;p&gt;In addition to inserting existing passwords, pass can also &lt;em&gt;generate new&lt;/em&gt; ones
using &lt;code&gt;pass generate&lt;/code&gt;. Just provide the password path, and optionally the
length of the password. Pass will then generate a random password, spit it out
on screen, and insert the entry to the password-store.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pass generate Shopping/SomeFakeStore/ryan 35&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;pass-edit&#34;&gt;pass edit&lt;/h4&gt;

&lt;p&gt;Generating passwords is great, but being a forgetful person, I like to keep additional information
in my pass entries (username, email, website url). This is where &lt;code&gt;pass edit&lt;/code&gt; comes in. When called,
&lt;code&gt;pass edit&lt;/code&gt; will open up the contents of the entry in the default editor. From there, make the
changes, and save.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pass edit Shopping/SomeFakeStore/ryan&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then, in vim:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&amp;lt;&amp;amp;DdU1x&amp;lt;&amp;amp;~&amp;amp;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;;w7w&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;kvsWdHAF-\Vi&amp;#34;&lt;/span&gt;I9Q&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;I
---
Username: ryan
Password: &amp;lt;&amp;amp;DdU1x&amp;lt;&amp;amp;~&amp;amp;&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;;w7w&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;kvsWdHAF-\Vi&amp;#34;&lt;/span&gt;I9Q&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;I
URL: https://www.some-bs-store.com
Notes: I love this place!&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;pass&#34;&gt;pass&lt;/h4&gt;

&lt;p&gt;Lastly, to retrieve stored passwords, call &lt;code&gt;pass&lt;/code&gt; with the
password entry. Optionally, use the &lt;code&gt;-c&lt;/code&gt; flag to copy the password
(first line if a multi-line entry) to the clipboard instead of spewing it into
the terminal.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;pass Shopping/SomeFakeStore/ryan
&lt;span style=&#34;color:#75715e&#34;&gt;## or ##&lt;/span&gt;
pass -c Shopping/SomeFakeStore/ryan&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;making-pass-better&#34;&gt;Making Pass Better&lt;/h2&gt;

&lt;p&gt;With pass&amp;rsquo;s flexibility, there are many additional features to help improve it for each user&amp;rsquo;s
needs.  For me, there are two extensions that make my pass experience &lt;em&gt;much&lt;/em&gt; more enjoyable.&lt;/p&gt;

&lt;h3 id=&#34;pass-git&#34;&gt;Pass Git&lt;/h3&gt;

&lt;p&gt;&lt;img alt=&#34;Managing and maintaining the password-store with `pass git`&#34; src=&#34;../../img/posts/setting-up-pass/animation-hover.png&#34; onmouseover=&#34;this.src=&#39;../../img/posts/setting-up-pass/pass-git.gif&#39;&#34; onmouseout=&#34;this.src=&#39;../../img/posts/setting-up-pass/animation-hover.png&#39;&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;div class=&#34;caption&#34;&gt;Use git to automatically maintain your password-store&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Password-Store items are text files, which allows them to be easily version controlled.
Consequently, pass has built in support for git with the &lt;code&gt;pass git&lt;/code&gt; command. If a password-store
is linked up to a git repo, normal git commands (&lt;code&gt;add&lt;/code&gt;, &lt;code&gt;mv&lt;/code&gt;, &lt;code&gt;rm&lt;/code&gt;&amp;hellip;) can be used with the store.&lt;/p&gt;

&lt;p&gt;Additionally, when modifying the store&amp;rsquo;s contents, &lt;code&gt;pass git&lt;/code&gt; will automatically create commits
that reflect the changes. After adding or modifying a password, issue the command &lt;code&gt;pass git push&lt;/code&gt; on the updated
machine, and then &lt;code&gt;pass git pull&lt;/code&gt; on others to sync the changes.&lt;/p&gt;

&lt;h3 id=&#34;passmeu&#34;&gt;Passmeu&lt;/h3&gt;

&lt;p&gt;&lt;center&gt;
&lt;video style=&#34;max-width:100%;&#34; controls&gt;
  &lt;source src=&#34;../../img/posts/setting-up-pass/passmenu_demo.mp4&#34; type=&#34;video/mp4&#34;&gt;
  &lt;source src=&#34;movie.ogg&#34; type=&#34;video/ogg&#34;&gt;
Your browser does not support the video tag.
&lt;/video&gt;
&lt;div id=&#34;caption&#34;&gt;&lt;code&gt;passmenu&lt;/code&gt; lets you easily search and select a pass item.&lt;/div&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;While having a CLI password manager is nice when working with headless systems, it can be a bit
cumbersome for normal day-to-day use. Hence,
&lt;a href=&#34;https://git.zx2c4.com/password-store/tree/contrib/dmenu/passmenu&#34;&gt;passmenu&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Passmenu is a script (now built into the upstream project) that wraps
&lt;a href=&#34;https://tools.suckless.org/dmenu/&#34;&gt;dmenu&lt;/a&gt; around pass. When &lt;code&gt;passmenu&lt;/code&gt; is run, &lt;code&gt;dmenu&lt;/code&gt; opens up
with all the password-store items to search/filter from. When an item is
selected in dmenu, the user is prompted for the gpg password (if it hasn&amp;rsquo;t been unlocked recently),
after which the password is then temporarily added to the user&amp;rsquo;s clipboard.&lt;/p&gt;

&lt;p&gt;On all my computers, I bind the command &lt;code&gt;passmenu&lt;/code&gt; to the keys &lt;code&gt;SUPER&lt;/code&gt; + &lt;code&gt;SHIFT&lt;/code&gt; + &lt;code&gt;P&lt;/code&gt;.  Whenever I
need a password, I just hit those three keys, and dmenu pops up so I can search for the password I
want.  After typing in my master passphrase, I can paste the password wherever I need it.  Passmenu
makes pass much more reasonable to use.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;See Also: &lt;a href=&#34;https://github.com/carnager/rofi-pass&#34;&gt;rofi-pass&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;setting-up-your-pass-setup-on-a-new-system&#34;&gt;Setting up your pass setup on a new system&lt;/h2&gt;

&lt;p&gt;Now that I&amp;rsquo;ve done it over a hundred times, setting up a new system is easy. Here&amp;rsquo;s my usual steps:&lt;/p&gt;

&lt;h4 id=&#34;export-gpg-key&#34;&gt;Export GPG Key&lt;/h4&gt;

&lt;p&gt;&lt;img alt=&#34;Export a gpg key to use with pass on another system&#34; src=&#34;../../img/posts/setting-up-pass/animation-hover.png&#34; onmouseover=&#34;this.src=&#39;../../img/posts/setting-up-pass/export-key.gif&#39;&#34; onmouseout=&#34;this.src=&#39;../../img/posts/setting-up-pass/animation-hover.png&#39;&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;div class=&#34;caption&#34;&gt;Export a gpg key to save or use on another system.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;First, export the password-store&amp;rsquo;s gpg key.  To do that, use &lt;code&gt;gpg2 --list-secret-keys&lt;/code&gt; to confirm the
key&amp;rsquo;s ID, then export that key to a file with the following command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg2 --export-secret-keys KEY-ID &amp;gt;&amp;gt; key-filename.gpg&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, transfer that file to the new machine.&lt;/p&gt;

&lt;h4 id=&#34;import-gpg-key&#34;&gt;Import GPG Key&lt;/h4&gt;

&lt;p&gt;&lt;img alt=&#34;Import a gpg key and trust it to use with pass&#34; src=&#34;../../img/posts/setting-up-pass/animation-hover.png&#34; onmouseover=&#34;this.src=&#39;../../img/posts/setting-up-pass/pass-import-gpg-key.gif&#39;&#34; onmouseout=&#34;this.src=&#39;../../img/posts/setting-up-pass/animation-hover.png&#39;&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;div class=&#34;caption&#34;&gt;Import and trust a gpg key to use it with pass.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;On the new machine, import the gpg key using the following command (note, you
will be required to enter the key&amp;rsquo;s passphrase):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg2 --import key-filename.gpg&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After the key is imported, its &lt;em&gt;trust level&lt;/em&gt; will have to be set to &lt;em&gt;ultimate&lt;/em&gt;. Use the command
&lt;code&gt;gpg2 --edit-key KEY-ID&lt;/code&gt; to enter the edit prompt. From there, type &lt;code&gt;trust&lt;/code&gt; and hit &lt;code&gt;ENTER&lt;/code&gt;. The
various levels will be shown on screen. Enter and confirm &lt;code&gt;5&lt;/code&gt;, to select &amp;lsquo;Ultimate&amp;rsquo;. Lastly, use
&lt;code&gt;quit&lt;/code&gt; to leave the gpg key editor.&lt;/p&gt;

&lt;h4 id=&#34;pull-pass-repo&#34;&gt;Pull Pass Repo&lt;/h4&gt;

&lt;p&gt;With the keys configured, the last step is to pull down the password-store to the new machine. If using git, this can be done with &lt;code&gt;pass git
clone&lt;/code&gt;&amp;hellip; but if I&amp;rsquo;m being honest, I usually just do a normal &lt;code&gt;git clone&lt;/code&gt;, and then move
the folder to &lt;code&gt;~/.password-store/&lt;/code&gt;. If not using git, just copy the store&amp;rsquo;s directory and files to
the new machine. The important thing is that the store can be found at &lt;code&gt;~/.password-store&lt;/code&gt; (by
default, this of course can be changed using &lt;code&gt;pass init&lt;/code&gt;).&lt;/p&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;That&amp;rsquo;s about it. As I previously stated, I&amp;rsquo;ve been loving pass for years, and I
don&amp;rsquo;t plan to be switching off of it any time soon. At this point, if there is
something I want to improve with my password setup&amp;hellip; I&amp;rsquo;m sure the community
has already figured out how to do it with pass!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Designing my new Ryzen Workstation</title>
      <link>http://ryan.himmelwright.net/post/charmeleon-desktop-design/</link>
      <pubDate>Mon, 26 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/charmeleon-desktop-design/</guid>
      <description>&lt;p&gt;Over the past few years (particularly after moving to the &lt;a href=&#34;../../post/my-t470/&#34;&gt;T470&lt;/a&gt;
as my main device), I have been anticipating what my next desktop
workstation build will look like. For a period of time, I was convinced that
I would build a &lt;a href=&#34;https://www.techspot.com/review/1155-affordable-dual-xeon-pc/&#34;&gt;muti-socket, used xeon
build&lt;/a&gt;. Then, in 2017
AMD released their &lt;a href=&#34;https://en.wikipedia.org/wiki/Ryzen&#34;&gt;Ryzen&lt;/a&gt;
series CPUs&amp;hellip;&lt;/p&gt;

&lt;h2 id=&#34;why-a-desktop&#34;&gt;Why a Desktop?&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/kadabra-cpu-usage.png&#34;&gt;&lt;img alt=&#34;Full system monitor on Laptop&#34; src=&#34;../../img/posts/charmeleon-desktop-design/kadabra-cpu-usage.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;My T470 has been a little tight on resources.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../post/sold-my-bonobo/&#34;&gt;My&lt;/a&gt; &lt;a href=&#34;../../post/my-t470/&#34;&gt;laptops&lt;/a&gt; &lt;a href=&#34;../../post/my-new-used-x230&#34;&gt;have&lt;/a&gt;
served the majority of my needs these last few years, but I have been feeling
a bit restricted when trying to do more demanding workloads.
While I still side with a &amp;ldquo;&lt;em&gt;use low-powered, portable computers, and remote
into more powerful ones when needed&lt;/em&gt;&amp;rdquo; mentality, I enjoy having &lt;em&gt;one&lt;/em&gt; of those
power computers being my physical, main workstation desktop.&lt;/p&gt;

&lt;h2 id=&#34;workstation-goals&#34;&gt;Workstation Goals&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/ryzen-logo.png&#34;&gt;&lt;img alt=&#34;Ryzen Logo&#34; src=&#34;../../img/posts/charmeleon-desktop-design/ryzen-logo.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;My T470 has been a little tight on resources.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;While building a new workstation may be fun, I have particular goals I want it
to achieve. Additionally, it seems like 98% of online build guides are for
designing &lt;em&gt;gaming&lt;/em&gt; desktops&amp;hellip; which is not exactly what I want. So, the
features I wanted in &lt;em&gt;my build&lt;/em&gt;, likely deviate from much of the
&lt;em&gt;suggested&lt;/em&gt; guidance found online, which tends to focus entirely on gaming
performance (more FPS). Here is the breakdown of what I was looking for:&lt;/p&gt;

&lt;h4 id=&#34;more-cores&#34;&gt;More Cores&lt;/h4&gt;

&lt;p&gt;I tend to have workloads that benefit from multiple cores (and threads). For
example, I run a bunch of virtual machines, often at the same time. While my
server&amp;rsquo;s 4 core Xeon handles day to day VMs just fine, it is nice to have a
workstation with several cores to spin up a virtualized cluster across. Beyond
VMs, I compile code, compress/decompress file packages, and occasionally encode
audio/video files. These are all tasks that love having many threads at their
disposal.&lt;/p&gt;

&lt;h4 id=&#34;lots-of-fast-ram&#34;&gt;Lots of (&lt;em&gt;fast&lt;/em&gt;) Ram&lt;/h4&gt;

&lt;p&gt;When running VMs, the amount of available RAM is usually more limiting than the
number of cpu cores. For example, when running 6 VM&amp;rsquo;s, my server&amp;rsquo;s 4-core Xeon
will typically be 15-35% utilized, whereas it&amp;rsquo;s 20GB of RAM is nearly full.  If
I want more cores, I should supplement it with lots of RAM. In addition&amp;hellip; I
use electron apps (Slack, Spotify,  etc.) and modern web browsers&amp;hellip; so yea&amp;hellip;. more RAM.&lt;/p&gt;

&lt;p&gt;Being a Ryzen build, the RAM also needs to be &lt;em&gt;fast&lt;/em&gt;.  More than other CPU
architectures, Ryzen CPUs actually &lt;a href=&#34;https://www.youtube.com/watch?v=g0SDr3EHHmY&#34;&gt;&lt;em&gt;run better&lt;/em&gt; with faster
RAM&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&#34;fast-storage&#34;&gt;Fast Storage&lt;/h4&gt;

&lt;p&gt;This main goal of this build is for it to be a multi-tasking beast. If I am
running several VMs and a bunch of applications, utilizing a stack of &lt;em&gt;fast&lt;/em&gt; RAM
to move data around&amp;hellip; I need good &lt;em&gt;fast&lt;/em&gt; storage with &lt;a href=&#34;https://www.youtube.com/watch?v=Bh_f0uof7Jw&amp;amp;feature=youtu.be&amp;amp;t=359&#34;&gt;MOAR
IOPs&lt;/a&gt; to
support of these operations, which will all be competing for disk access. While I
wouldn&amp;rsquo;t mind having space to eventually throw in a pair 3.5&amp;rdquo; rust drives to configure as a
ZFS data pool, the goal for the initial &lt;em&gt;primary&lt;/em&gt; drive of this
machine is the most IOPs I can &lt;em&gt;afford&lt;/em&gt;. So, I ideally &lt;em&gt;want&lt;/em&gt; a m.2 NVMe SSD,
but &lt;em&gt;need&lt;/em&gt; a normal 2.5&amp;rdquo; SATA SSD at the very least.&lt;/p&gt;

&lt;h4 id=&#34;some-gaming-ability&#34;&gt;&lt;em&gt;Some&lt;/em&gt; Gaming Ability&lt;/h4&gt;

&lt;p&gt;While it doesn&amp;rsquo;t have to be a &lt;em&gt;gaming machine&lt;/em&gt;&amp;hellip; I would like to be able to
play the &lt;em&gt;occasional&lt;/em&gt; game. I don&amp;rsquo;t mind playing games with lower graphic
settings on my laptops, but I &lt;em&gt;do mind&lt;/em&gt; that even with the lower settings, the
CPUs nearly max out, which spikes up the temperature.
Increased graphics performance would also better support &lt;a href=&#34;../../post/new-lgud4379b/&#34;&gt;my large
monitor&lt;/a&gt;.  A discrete graphics card would be nice, ideally
an AMD one due to their recent work on improving their open source drivers.&lt;/p&gt;

&lt;h4 id=&#34;ability-to-upgrade&#34;&gt;Ability to Upgrade&lt;/h4&gt;

&lt;p&gt;Most importantly, I want this computer to be a solid &lt;em&gt;base&lt;/em&gt; that I can upgrade
over the next several years. Upgradability is hands-down &lt;em&gt;the main&lt;/em&gt; advantage
of switching to a desktop over a laptop for my main rig. I want this build
designed so that as my needs grow, I can easily max out the RAM, add storage,
or upgrade the CPU and/or GPU.&lt;/p&gt;

&lt;h2 id=&#34;final-build-selections&#34;&gt;Final Build Selections&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/charmeleon.png&#34;&gt;&lt;img alt=&#34;Chameleon Picture&#34; src=&#34;../../img/posts/charmeleon-desktop-design/charmeleon.png&#34; style=&#34;max-width: 40%; float: right;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After spending weeks researching all the parts on the market and building
probably 50 theoretical builds, I eventually settled on &lt;a href=&#34;https://pcpartpicker.com/user/himmelwr/saved/#view=MhbcYJ&#34;&gt;my final part list&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&#34;name-charmeleon&#34;&gt;Name: Charmeleon&lt;/h4&gt;

&lt;p&gt;Since my last desktop build was named &amp;ldquo;Charmander&amp;rdquo;, I figured &amp;ldquo;Charmeleon&amp;rdquo; was
fitting. Also, I&amp;rsquo;m then free to rename it to &amp;ldquo;Charzard&amp;rdquo; in the future if I &lt;em&gt;evolve&lt;/em&gt;
the build to a next-generation Ryzen 7&amp;hellip;&lt;/p&gt;

&lt;h4 id=&#34;cpu-ryzen-5-2600-https-en-wikichip-org-wiki-amd-ryzen-5-2600&#34;&gt;CPU: &lt;a href=&#34;https://en.wikichip.org/wiki/amd/ryzen_5/2600&#34;&gt;Ryzen 5 2600&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/ryzen2600.jpg&#34;&gt;&lt;img alt=&#34;ryzen 2600&#34; src=&#34;../../img/posts/charmeleon-desktop-design/ryzen2600.jpg&#34; style=&#34;max-width: 40%; float: left;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;While I initially wanted a Ryzen 2700, it pushed the build out of budget.
Coming from a 4 core/4 thread system&amp;hellip; it&amp;rsquo;s likely that I don&amp;rsquo;t &lt;em&gt;need&lt;/em&gt; 8
cores/16 threads right off the bat. Honestly, 4 cores/8 threads would be a
noticeable improvement from what I&amp;rsquo;ve been using&amp;hellip; which is why I first
considered the Ryzen 5 2400g. I planned to start with the 2400g and upgrade to
the 2700 and a GPU once I had more cash. However, &lt;a href=&#34;https://forum.level1techs.com/t/finalizing-an-upgradable-ryzen-linux-build/134670/2&#34;&gt;someone on the level1tech
forums&lt;/a&gt;
reminded me that the 2600 was the same price as the 2400g, and I could get that
plus a GPU for not much more cost (considering I don&amp;rsquo;t need an expensive GPU).
After thinking it over, I realized that was my best option, and should
&lt;em&gt;actually&lt;/em&gt; fit my needs for quite awhile.&lt;/p&gt;

&lt;h4 id=&#34;motherboard-msi-b450-tomahawk-https-www-msi-com-motherboard-b450-tomahawk&#34;&gt;Motherboard: &lt;a href=&#34;https://www.msi.com/Motherboard/B450-TOMAHAWK&#34;&gt;MSI B450 Tomahawk&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/tomahawk.jpg&#34;&gt;&lt;img alt=&#34;B450 Tomahawk motherboard&#34; src=&#34;../../img/posts/charmeleon-desktop-design/tomahawk.jpg&#34; style=&#34;max-width: 40%; float: right;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I had selected the MSI B450 Tomahawk after &lt;a href=&#34;https://www.youtube.com/watch?v=lxtrHDJUMt4&#34;&gt;Wendell reviewed
it&lt;/a&gt;. &lt;a href=&#34;https://www.youtube.com/watch?v=MWGzmbbimPw&amp;amp;feature=youtu.be&amp;amp;t=145&#34;&gt;Several
other&lt;/a&gt; &lt;a href=&#34;https://www.youtube.com/watch?v=MMJoLyrWa7E&amp;amp;feature=youtu.be&amp;amp;t=1260&#34;&gt;reviews
confirmed&lt;/a&gt; that it was a solid board, especially for the price. When I was
considering the 2400g, I had to switch to the &lt;a href=&#34;https://www.newegg.com/Product/Product.aspx?Item=N82E16813144188&#34;&gt;MSI B450 Gaming Pro Carbon
AC&lt;/a&gt;, because
the Tomahawk didn&amp;rsquo;t have a display output that the integrated graphics could
properly use with &lt;a href=&#34;../../post/new-lgud4379b/&#34;&gt;my UHD monitor&lt;/a&gt;&amp;rsquo;s resolution (I need a
display port). When I switched to the 2600, I was able to go back to the
TOMAHAWK, and funnel the cost savings towards getting my GPU.&lt;/p&gt;

&lt;h4 id=&#34;gpu-sapphire-1024-4gb-pulse-radeon-rx-560-https-www-techpowerup-com-gpu-specs-sapphire-pulse-rx-560-oc-4-gb-b4627&#34;&gt;GPU: &lt;a href=&#34;https://www.techpowerup.com/gpu-specs/sapphire-pulse-rx-560-oc-4-gb.b4627&#34;&gt;Sapphire 1024 4GB PULSE Radeon RX 560&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/rx560.png&#34;&gt;&lt;img alt=&#34;The KDE Plasma 5 extend display GUI&#34; src=&#34;../../img/posts/charmeleon-desktop-design/rx560.png&#34; style=&#34;max-width: 35%; float: left;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As discussed above, I don&amp;rsquo;t need a killer GPU as I don&amp;rsquo;t play very demanding
games. However, I did want something that could perform at least a &lt;em&gt;little
bit&lt;/em&gt;. So, &lt;a href=&#34;https://www.youtube.com/watch?v=237L9UGQtGk&amp;amp;t=422s&#34;&gt;I picked the rx560 over the
rx550&lt;/a&gt;. At first I planned
to get something like a rx580, which I still might eventually do&amp;hellip; but
I don&amp;rsquo;t think I will &lt;em&gt;need&lt;/em&gt; to for a long time.&lt;/p&gt;

&lt;h4 id=&#34;ram-g-skill-trident-z-32gb-2-x-16gb-ddr4-3200mhz-ram&#34;&gt;RAM: G.Skill - Trident Z 32GB (2 x 16GB) DDR4-3200Mhz RAM&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/ram.png&#34;&gt;&lt;img alt=&#34;The KDE Plasma 5 extend display GUI&#34; src=&#34;../../img/posts/charmeleon-desktop-design/ram.png&#34; style=&#34;max-width: 40%; float: right;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I wanted to start out with 32GB of RAM, with the ability to easily upgrade to
64GB down the road. This meant that I needed a 2x16GB pack. Additionally, I
needed the RAM to be &lt;em&gt;fast&lt;/em&gt;, but still not &lt;em&gt;overpriced&lt;/em&gt;. Some research showed
that at least right now, &lt;a href=&#34;https://youtu.be/lxtrHDJUMt4?t=752&#34;&gt;3200Mhz seems to be the sweet spot, especially for my
particular motherboard&lt;/a&gt;. I originally
picked another kit, but the reviews for it weren&amp;rsquo;t great, so I switched to the
G.Skill kit for only a few dollars more, but with much better reviews. I also
briefly searched for kits with tighter timings, but they were &lt;em&gt;way&lt;/em&gt; more expensive and not worth it.&lt;/p&gt;

&lt;h4 id=&#34;case-fractal-design-meshify-c-dark-tg-atx-mid-tower-https-www-fractal-design-com-home-product-cases-meshify-meshify-c&#34;&gt;Case: &lt;a href=&#34;https://www.fractal-design.com/home/product/cases/meshify/meshify-c&#34;&gt;Fractal Design - Meshify C Dark TG ATX Mid Tower&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/meshifyc.png&#34;&gt;&lt;img alt=&#34;The KDE Plasma 5 extend display GUI&#34; src=&#34;../../img/posts/charmeleon-desktop-design/meshifyc.png&#34; style=&#34;max-width: 30%; float: left; margin-bottom: 10px;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I wanted a case that was sturdy, sleek, but not too flashy or expensive. During my
search, the Fractal Design cases kept catching eye. Eventually, I found the
Meshify C TG Dark, which seemed to be universally loved by reviewers. Additionally,
it appeared to have &lt;a href=&#34;https://www.fractal-design.com/home/product/cases/meshify/meshify-c&#34;&gt;good
thermals&lt;/a&gt;,
which I liked. This was my easiest part to pick.&lt;/p&gt;

&lt;h4 id=&#34;psu-evga-supernova-g4-650w-80-gold-fully-modular-atx-psu-https-web-archive-org-web-20181102223931-https-www-evga-com-products-product-aspx-pn-120-g1-0650-xr&#34;&gt;PSU: EVGA - &lt;a href=&#34;https://web.archive.org/web/20181102223931/https://www.evga.com/Products/Product.aspx?pn=120-G1-0650-XR&#34;&gt;SuperNOVA G4 650W 80+ Gold, fully modular ATX PSU&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/chameleon-desktop-design/psu.png&#34;&gt;&lt;img alt=&#34;The KDE Plasma 5 extend display GUI&#34; src=&#34;../../img/posts/charmeleon-desktop-design/psu.png&#34; style=&#34;max-width: 35%; float: right; margin-bottom: 10px;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For the power supply, I wanted one that was at least gold rated, and fully
modular. So I searched for the highest rated PSUs fitting those requirements&amp;hellip;
and SuperNova popped up all over the place. At first I picked a 550w model, but
upped to the 650w at the last minute because it was about the same price and
gives me a little more room as I upgrade.&lt;/p&gt;

&lt;h4 id=&#34;storage-one-of-my-samsung-850-evo-ssds-temp&#34;&gt;Storage: One of my Samsung 850 Evo SSDs (temp)&lt;/h4&gt;

&lt;p&gt;Lastly, storage. For now I am just going to use a spare 250GB Samsung 850 Evo SSD
I had in my test laptop. I plan to eventually upgrade to a &lt;a href=&#34;https://www.samsung.com/semiconductor/minisite/ssd/product/consumer/970evo/&#34;&gt;500GB Samsung 970 Evo
m.2 NVMe
drive&lt;/a&gt;,
but the 850 will work for now.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;So after months of planing and research, my desktop parts have all been
ordered. Hopefully, it meets the goals I set out to solve, and I will be able
to upgrade it over the next few years&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Monitor Selection: My New LG-UD4329b</title>
      <link>http://ryan.himmelwright.net/post/new-lgud4379b/</link>
      <pubDate>Mon, 12 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/new-lgud4379b/</guid>
      <description>&lt;p&gt;After a decade of using several combinations of &lt;em&gt;dual&lt;/em&gt; monitors, I
have decided to upgrade to using a single, but &lt;em&gt;better&lt;/em&gt;,
monitor. After two years of debating, I have finally made my choice.&lt;/p&gt;

&lt;h2 id=&#34;monitor-history&#34;&gt;Monitor History&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/pre-college-monitors.jpg&#34;&gt;&lt;img alt=&#34;Pre College monitors&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/pre-college-monitors.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;My monitor setup right before moving to college&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Half way through high school, I purchased my first laptop (it also happens to
be the first computer I installed Linux on. I had a special edition model, but it was
very similar to &lt;a href=&#34;https://www.cnet.com/products/hp-pavilion-dv6000/specs/&#34;&gt;this
one&lt;/a&gt;). The laptop was
replacing an old standard E-machines desktop, so I kept the spare monitor to
use with the laptop. From that point on, I &lt;em&gt;usually&lt;/em&gt; had two screens to look
at, even if one was just my laptop&amp;rsquo;s screen at the far end of my desk, with an
&lt;a href=&#34;https://en.wikipedia.org/wiki/AIM_(software)&#34;&gt;AIM&lt;/a&gt; window open in it. Before
moving to college, I built a desktop computer with a new monitor (picture
above), and utilized the old one as a secondary display.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/college-desk.jpg&#34;&gt;&lt;img alt=&#34;College Desk&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/college-desk.jpg&#34; style=&#34;max-width: 100%; padding: 10px;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;My desk during my senior year of collage&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Throughout college, as I started to explore Linux and programming more,
I began to experiment with using monitors in portrait orientations.
Eventually, I purchased a second 23.6&amp;rdquo; 1080p monitor so they would
match when paired. This gave me much more vertical real estate, which was
useful when writing code, essays, or lab reports.&lt;/p&gt;

&lt;h2 id=&#34;why-go-from-two-to-one&#34;&gt;Why go from two, to one?&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/homelab/kadabra1.jpg&#34;&gt;&lt;img alt=&#34;MA Desk&#34; src=&#34;../../img/homelab/kadabra1.jpg&#34; style=&#34;max-width: 100%; padding: 10px;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;When using two monitors, I always had to have a primary and secondary.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;While I like having the &lt;em&gt;screen real estate&lt;/em&gt; of two monitors, I was never able
to optimally use them because of the bezels between the monitors.  While
working, I would naturally shift over and use one monitor as a &lt;em&gt;primary&lt;/em&gt;
display, and the other as a &lt;em&gt;secondary&lt;/em&gt; display. This was okay for some tasks,
but it usually just meant that I just used the primary monitor, and &lt;em&gt;half&lt;/em&gt; of
the secondary one, because it was too hard to see the far end of the screen.&lt;/p&gt;

&lt;p&gt;This issue was &lt;em&gt;slightly&lt;/em&gt; better when using my displays in portrait mode, but
that wasn&amp;rsquo;t always ideal when connecting to remote machines, or viewing wide
content (videos, for example). It also didn&amp;rsquo;t solve the main issue. When
looking at the screens in a natural position (head centered, looking strait
forward)&amp;hellip; I still saw two pieces of black plastic. I wanted to see my
&lt;em&gt;primary&lt;/em&gt; window directly in front of me, with some auxiliary space on either
side for documentation and terminal windows. I wanted a wide screen display.&lt;/p&gt;

&lt;h2 id=&#34;ultra-wide-or-large-16-9-uhd&#34;&gt;Ultra-wide or &lt;em&gt;Large&lt;/em&gt; 16:9 UHD?&lt;/h2&gt;

&lt;p&gt;Luckily, the once &lt;em&gt;extremely&lt;/em&gt; expensive ultra-wide and large UHD monitors have
started to come down in price. After following the market for a few years, I
narrowed my decision to my favorite choice in each category: The &lt;a href=&#34;https://www.dell.com/en-us/shop/dell-ultrasharp-34-curved-ultrawide-monitor-u3415w/apd/210-adtr/monitors-monitor-accessories&#34;&gt;Dell
u3415w&lt;/a&gt;
and the &lt;a href=&#34;https://www.lg.com/us/monitors/lg-43UD79-B-4k-uhd-led-monitor&#34;&gt;LG
ud4379b&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/dellu3415w.jpg&#34;&gt;&lt;img alt=&#34;Dell u3415w&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/dellu3415w.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The Dell u3415w 34&amp;rdquo; 3440x1440p Ultra Wide Monitor &lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The Dell u3415w is the slightly older (compared to the
&lt;a href=&#34;https://www.dell.com/ed/business/p/dell-u3417w-monitor/pd&#34;&gt;u34&lt;strong&gt;17&lt;/strong&gt;w&lt;/a&gt;) 34&amp;rdquo;
ultra-wide monitor offering from Dell. It has a 3440x1440, 60 Hz,
slightly-curved, IPS panel sitting on a solid and adjustable monitor stand. I
preferred it over other ultra-wides because it could be found for a reasonable
price, and had a professional build quality.&lt;/p&gt;

&lt;p&gt;Based on my reasoning explained in the section above, an ultra-wide (1440p
ones&amp;hellip; not 1080p) would fit my mostly programmer use-case very well. Being a
single monitor, I could position it directly in front of me, with my main
code/content centered. The 3440px wide resolution would also allow enough
horizontal space to have a full web page of documentation, and several terminal
windows open on either side of the main display. Lastly, the 1440px vertical
resolution would be an adequate improvement from my &lt;em&gt;&amp;ldquo;starting to feel tight&amp;rdquo;&lt;/em&gt;,
1080p monitors.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/ud4379b.jpg&#34;&gt;&lt;img alt=&#34;Dell u3415w&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/ud4379b.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The LG ud4379b 42.5&amp;rdquo; 3440x2160p Monitor&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The massive LG ud4379b is a 42.5&amp;rdquo; 3840x2160px IPS display. At this size and
resolution, it is roughly the equivalent of having four 21&amp;rdquo; 1920x1080px
monitors aligned in a 2x2 grid&amp;hellip; except with 0 bezel between them. Compared to
other 40&amp;rdquo;+ 4K displays, I preferred this one because once again, it was
reasonably priced, had great input options, and also seemed to have a half
decent panel. Reviewers consistently said it had vibrant colors and minimal
back light bleed.&lt;/p&gt;

&lt;p&gt;Being single monitor, I could easily sit myself in front of it, and have my
main content centered, just like with the ultra-wide. Being so large, I could
still have auxiliary windows opened on either side. One advantage the ud4379
had over the ultra-wide however, was that being a massive 16:9 screen, it could
easily be divided into 4 1080p screens. In fact, this model supports spitting
the screen into four separate displays, each taking a different input (more on
that later..). While the ultra-wides often support splitting and
picture-in-picture, it seems more natural on the 43&amp;rdquo; monitor.&lt;/p&gt;

&lt;h2 id=&#34;deciding-on-the-43-uhd&#34;&gt;Deciding on the 43&amp;rdquo; UHD&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/multi-input.jpg&#34;&gt;&lt;img
alt=&#34;Shipped Box&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/multi-input.jpg&#34;
style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt; &lt;div class=&#34;caption&#34;&gt;The LG ud4379 can support
multiple inputs at a time to the single display&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;I went back and forth on which monitor I wanted several times. Eventually, I
realized the long term versatility of the LG monitor was just something I could
not ignore. Being able to use it as one massive display that I could fit
several full VM windows in, or even as 1,2, or 4 discrete monitors makes it
extremely useful for me. I tend to be playing with more than one computer or VM
at a time, and it is VERY nice to have them all fit on a single display. I
&lt;em&gt;was&lt;/em&gt; worried it would be a bit &lt;em&gt;too&lt;/em&gt; large and look stupid on my desk,
especially compared to how slick the ultra-wide would look. However, in the
end, practicality won out.&lt;/p&gt;

&lt;h2 id=&#34;getting-the-ud4379b&#34;&gt;Getting the UD4379b&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/box.jpg&#34;&gt;&lt;img alt=&#34;Shipped Box&#34;
src=&#34;../../img/posts/new-lgud4379b-monitor/box.jpg&#34; style=&#34;max-width:
100%;&#34;/&gt;&lt;/a&gt; &lt;div class=&#34;caption&#34;&gt;The Monitor arrived a few days later
perfectly safe, despite the beat up box&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;After deciding that we would likely order the monitor as my birthday gift, my
wife and I started watching the price a few weeks before. One day, we noticed
the price had dropped $200&amp;hellip; so we ordered it. The price soon went back up, so
I&amp;rsquo;m glad we snatched it when we did!&lt;/p&gt;

&lt;p&gt;It came a few days latter in a massive box that I happily carted up to our
apartment. The box was a bit beat up, but after opening it, all the components
were fine.&lt;/p&gt;

&lt;h2 id=&#34;what-i-like&#34;&gt;What I like&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/monitor-working.png&#34;&gt;&lt;img alt=&#34;Monitor Working&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/monitor-working.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;I can have my main content front and center, with other windows on the sides&lt;/div&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Screen Resolution&lt;/strong&gt; - The most obvious pro using a monitor at this
size and resolution&amp;hellip; is the screen real estate. As explained above, it&amp;rsquo;s
twice the space of my old, dual 1080p monitor setup. With this space, I can
easily have several source code files, documentation, a few terminals, a
chat window, and even a video opened on my single screen as I work.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;IPS Display&lt;/strong&gt; - Many people might assume that the driving factor
pushing me to &lt;em&gt;finally&lt;/em&gt; update my monitors was my desire for more screen
resolution. While that was &lt;em&gt;part&lt;/em&gt; of my goal&amp;hellip; what truly motivated me was
a desire to switch to an IPS display on my main setup after almost a year
using my T470&amp;rsquo;s IPS display (which by the way, is &lt;em&gt;not a good IPS panel&lt;/em&gt;).
As someone who spends a large percentage of their computing time in dark
terminals and IDEs, an IPS panel really does help text and colors to pop,
because the darks look &lt;em&gt;so&lt;/em&gt; much better. It turns out, this panel is
actually quite good for it&amp;rsquo;s price, and I am very happy with it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/new-monitor.jpg&#34;&gt;&lt;img alt=&#34;Monitor Shading&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/new-monitor.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;When working, I can look straight at a single display and still have enough room.&lt;/div&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Single Monitor, No (center) Bezels&lt;/strong&gt; - As explained earlier in this
post, I like that this is is a &lt;em&gt;single&lt;/em&gt; monitor. This means that I no
longer need to twist my head back and forth, or stare at bezels. I can
looks straight ahead and see my main content, with &amp;ldquo;auxiliary&amp;rdquo; windows
view-able in my periphery.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Flexibility, multiple inputs&lt;/strong&gt; - Lastly, I enjoy the multiple
inputs and excellent PIP system of this monitor. Combined with something
like &lt;a href=&#34;https://symless.com/synergy&#34;&gt;Synergy&lt;/a&gt;, I can easily use this one
display with several devices at a time. This is great when working with
more than one device, or potentially watching content on something like a
chromecast stick, while still working on the computer. It really is the
advantage of having 4 monitors, but in a single package.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Speakers&lt;/strong&gt; - They aren&amp;rsquo;t &lt;em&gt;amazing&lt;/em&gt;, and I don&amp;rsquo;t use them too often
too often, but for &amp;ldquo;monitor&amp;rdquo; speakers, they really aren&amp;rsquo;t half bad. They&amp;rsquo;re
what you&amp;rsquo;d expect from a TV. However, this means that if I were to use
something like a media stick, the built-in speaker is acceptable enough for
such a device.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;what-i-don-t-like&#34;&gt;What I don&amp;rsquo;t like&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/monitor-shading.png&#34;&gt;&lt;img alt=&#34;Monitor Shading&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/monitor-shading.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Viewed from the center, the monitor edges have shadowing.&lt;/div&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Edge Shadowing&lt;/strong&gt; - The one issue that myself
&lt;a href=&#34;https://youtu.be/yA6hL3inqRc?t=250&#34;&gt;and&lt;/a&gt;
&lt;a href=&#34;https://youtu.be/3BSaPRHrA_U?t=667&#34;&gt;others&lt;/a&gt; have experienced with
this monitor is a sort of &amp;ldquo;edge shadowing&amp;rdquo;. This is apparently
something that is common on monitors this massive, and it&amp;rsquo;s
really hard to engineer around. If I sit back far enough from the
display, you can&amp;rsquo;t see it anymore. (But I don&amp;rsquo;t normally sit like that)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Input Switching Lag?&lt;/strong&gt; - While this is more of a critique of
&lt;em&gt;monitors&lt;/em&gt; in general, one thing I wish was a bit better was the input
switching. Having so many inputs, it can get confusing remembering which one is
attached to what device, or trying to quickly configure a 2x2 multi-input
layout. Having to &lt;em&gt;wait&lt;/em&gt; for each device to connect when flipping through all
the inputs makes it that much more frustrating (and disappointing when it&amp;rsquo;s the
wrong input&amp;hellip;).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Corners Out of View&lt;/strong&gt; - Being such a large display, one issue I
sometimes have is that the outside corners are out of my field of view.
I mostly notice this when I occasionally miss notification pop-ups
that I &lt;em&gt;want&lt;/em&gt; to see. On the flip-side, notifications don&amp;rsquo;t seem to
distract me as much now when I&amp;rsquo;m trying to focus :P.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/new-lgud4379b-monitor/new-monitor-desk.jpg&#34;&gt;&lt;img alt=&#34;Monitor Shading&#34; src=&#34;../../img/posts/new-lgud4379b-monitor/new-monitor-desk.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;New monitor on my desk.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;In conclusion, I an &lt;em&gt;very&lt;/em&gt; happy with my new monitor. It fits all of the
criteria I had, and works for my use-case perfectly. While I wouldn&amp;rsquo;t
recommend it for a pure gaming machine, it might be one of the best deal
&lt;em&gt;productivity&lt;/em&gt; monitors out there.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Creating a CI/CD &#39;Draft&#39; Website with Jenkins (and Hugo)</title>
      <link>http://ryan.himmelwright.net/post/draft-website-with-jenkins/</link>
      <pubDate>Wed, 15 Aug 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/draft-website-with-jenkins/</guid>
      <description>&lt;p&gt;The last few months I have been working more with the open source
automation server, &lt;a href=&#34;https://jenkins.io/&#34;&gt;Jenkins&lt;/a&gt;. While digging into
it, I have been thinking of ways to improve my home build
environment. One idea, was to utilize Jenkins to automatically build
and deploy a &amp;ldquo;draft&amp;rdquo; website, so I can stage new posts/website change
on my home network, before publishing it to the &amp;ldquo;production&amp;rdquo;
website. Here is how that idea was Instantiated&amp;hellip;&lt;/p&gt;

&lt;h2 id=&#34;my-website&#34;&gt;My Website&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/draft-website-jenkins/jenkins-logo.png&#34;&gt;&lt;img
src=&#34;../../img/posts/draft-website-jenkins/jenkins-logo.png&#34; style=&#34;max-width:
50%; float: left; margin: 0px 12px 0px 0px;&#34; alt=&#34;Jenkins Logo&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have previously &lt;a href=&#34;../../post/website-transition-to-hugo/&#34;&gt;described&lt;/a&gt; how my
website is &lt;a href=&#34;../../post/website-switched-to-hugo/&#34;&gt;currently generated&lt;/a&gt;, using
the &lt;a href=&#34;https://gohugo.io&#34;&gt;Hugo&lt;/a&gt; static website generator. To organize
this system, I have two git repos: One that consists of all the hugo
source files (where I write content), and one that contains the
generated static website (that gets deployed to my web host).&lt;/p&gt;

&lt;p&gt;When writing a post, I use &lt;code&gt;hugo server -D -F&lt;/code&gt; to live view the page
in my browser. However, I occasionally want to view the state of all
the &lt;em&gt;committed code&lt;/em&gt; in the &lt;em&gt;repo&lt;/em&gt;, to see what the site would look
like if I decided to publish a post. So, I created a &amp;ldquo;drafts&amp;rdquo; website,
which shows the current state of my website&amp;rsquo;s &lt;em&gt;source&lt;/em&gt; repo (including
draft and future posts). If I want to check how a post looks on my
phone, or any other device, I can just open up the draft website after
pushing my changes.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/draft-website-jenkins/mr-mime.png&#34;&gt;&lt;img
src=&#34;../../img/posts/draft-website-jenkins/mr-mime.png&#34; style=&#34;max-width:
45%; float: right; margin: 20px 0px 0px 10px;&#34; alt=&#34;Jenkins Logo&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;jenkins&#34;&gt;Jenkins&lt;/h2&gt;

&lt;p&gt;I had previously created a dedicated Jenkins server on my home network
(Mr. Mime), using a CentOS 7 VM hosted on my home server. However, any
Jenkins setup should work for this project (including a &lt;a href=&#34;https://hub.docker.com/_/jenkins/&#34;&gt;docker
container&lt;/a&gt;). To get started, checkout the &lt;a href=&#34;https://jenkins.io/download/&#34;&gt;Jenkins
Website&lt;/a&gt;, and be sure to take advantage
of the &lt;a href=&#34;https://jenkins.io/doc/&#34;&gt;the documentation&lt;/a&gt; for help.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: just make sure hugo is installed on the Jenkins server, as we need
it to generate the website.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;github-integration&#34;&gt;GitHub Integration&lt;/h3&gt;

&lt;h4 id=&#34;jenkins-service&#34;&gt;Jenkins Service&lt;/h4&gt;

&lt;p&gt;My website repo is hosted on GitHub, so we need to configure it to
work with our Jenkins server. To do that, go to the project&amp;rsquo;s GitHub
page, and navigate through &lt;strong&gt;Settings&lt;/strong&gt; -&amp;gt; &lt;strong&gt;Integrations &amp;amp;
services&lt;/strong&gt;. Click the &lt;strong&gt;Add service&lt;/strong&gt; drop-down and select &lt;em&gt;Jenkins
(Git Plugin)&lt;/em&gt;. Next, add the Jenkins server url (assuming the server
is accessible from the internet. If not, hosting the Jenkins server on
something like &lt;a href=&#34;http://digitalocean.com&#34;&gt;Digital Ocean&lt;/a&gt; might be an
easy solution). Lastly, make sure the &lt;strong&gt;Activate&lt;/strong&gt; box is selected,
and click the &lt;strong&gt;Add Service&lt;/strong&gt; button.&lt;/p&gt;

&lt;h4 id=&#34;ssh-keys&#34;&gt;SSH Keys&lt;/h4&gt;

&lt;p&gt;While on the project&amp;rsquo;s GitHub page, make sure that the Jenkins
server&amp;rsquo;s ssh keys are added to the project. To add them, navigate to
the &lt;strong&gt;Deploy Keys&lt;/strong&gt; page (under the project&amp;rsquo;s &lt;strong&gt;Settings&lt;/strong&gt; tab). Then
select &lt;strong&gt;Add deploy key&lt;/strong&gt;, and add the public key.&lt;/p&gt;

&lt;h2 id=&#34;a-nginx-server&#34;&gt;A Nginx Server&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/draft-website-jenkins/nginx.png&#34;&gt;&lt;img
src=&#34;../../img/posts/draft-website-jenkins/nginx.png&#34; style=&#34;max-width:
100%; float: center; margin: 0px 0px 0px 0px;&#34; alt=&#34;Default Nginx Page&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;With Jenkins ready, let&amp;rsquo;s quickly setup the web server before
configuring the Jenkins project. Any web server will do (it just needs
to serve the generated &lt;em&gt;static&lt;/em&gt; website content). I used
&lt;a href=&#34;https://nginx.org/en/&#34;&gt;nginx&lt;/a&gt; in for setup. After installing, make
sure it is running. To install and check the status of nginx on an
Ubuntu System:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;## Install&lt;/span&gt;
sudo apt install -y nginx

&lt;span style=&#34;color:#75715e&#34;&gt;## Check it is running&lt;/span&gt;
sudo systemctl status nginx

&lt;span style=&#34;color:#75715e&#34;&gt;## Optional: Ensure it is enabled to start up after reboots&lt;/span&gt;
sudo systemctl enable nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With the web server running, we need to know &lt;em&gt;where&lt;/em&gt; the website files
need to go. Nginx will by default serve content at
&lt;code&gt;/user/share/nginx/html/&lt;/code&gt;, so remember that location for later&amp;hellip;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: Don&amp;rsquo;t forget to add the &lt;code&gt;jenkins&lt;/code&gt; user&amp;rsquo;s ssh key from the
jenkins server to the &lt;code&gt;authorized_keys&lt;/code&gt; file of the nginx server. This
will make file transfers easier when setting up the jenkins project.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;configuring-a-project&#34;&gt;Configuring a Project&lt;/h2&gt;

&lt;p&gt;Let&amp;rsquo;s configure our Jenkins project! Log in to the Jenkins
server and click the &lt;strong&gt;New Item&lt;/strong&gt; option on the left side bar. Enter a
name for the project, select the &lt;strong&gt;Freestyle Project&lt;/strong&gt; option, and hit
&lt;strong&gt;OK&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/draft-website-jenkins/general-config.png&#34;&gt;&lt;img
src=&#34;../../img/posts/draft-website-jenkins/general-config.png&#34; style=&#34;max-width:
100%; float: center; margin: 0px 0px 0px 0px;&#34; alt=&#34;The Project&#39;s General Configuration Section&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The Project&amp;rsquo;s General Configuration Section&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;In the &lt;strong&gt;General&lt;/strong&gt; section of the configuration screen, optionally
write a description about the project. Next, select the &amp;ldquo;&lt;em&gt;GitHub
Project&lt;/em&gt;&amp;rdquo; check-box, and add the GitHub repo&amp;rsquo;s url into the &lt;em&gt;Project
url&lt;/em&gt; text box.&lt;/p&gt;

&lt;h4 id=&#34;source-control&#34;&gt;Source Control&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/draft-website-jenkins/credentials.png&#34;&gt;&lt;img
src=&#34;../../img/posts/draft-website-jenkins/credentials.png&#34;
style=&#34;max-width: 100%; float: center; margin: 0px 0px 0px 0px;&#34;
alt=&#34;Setting Credentials&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Setting Credentials&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;In the &lt;strong&gt;Source Code Management&lt;/strong&gt; section of the configuration, select
the &lt;em&gt;Git&lt;/em&gt; option. Then, enter the repo&amp;rsquo;s url for the &lt;em&gt;Repository URL&lt;/em&gt;
box (I did the ssh url). For &lt;em&gt;Credentials&lt;/em&gt;, select &lt;em&gt;Add&lt;/em&gt; to configure a
new credential. Select &lt;em&gt;SSH Username with private key&lt;/em&gt; for &lt;em&gt;Kind&lt;/em&gt;,
use &lt;code&gt;jenkins&lt;/code&gt; for the &lt;em&gt;Username&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;More source control options can be configured, but this should be the
minimum setup required. &lt;em&gt;Again, for this to work public keys for the
&lt;code&gt;jenkins&lt;/code&gt; user on the jenkins server must be generated, and added as a
deployment key on GitHub.&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&#34;build-trigger&#34;&gt;Build Trigger&lt;/h4&gt;

&lt;p&gt;Under the &lt;strong&gt;Build Triggers&lt;/strong&gt; section, select &lt;em&gt;Poll SCM&lt;/em&gt;. Without
adding any schedule parameters, it will trigger each time a new commit
is detected. This is what we want.&lt;/p&gt;

&lt;h4 id=&#34;build-step&#34;&gt;Build Step&lt;/h4&gt;

&lt;p&gt;In the &lt;strong&gt;Build&lt;/strong&gt; section, click &lt;strong&gt;Add build step&lt;/strong&gt;, and select
&lt;strong&gt;Execute shell&lt;/strong&gt;. This is where we can add the shell commands to
build the website with hugo. Add the following command to the box
(don&amp;rsquo;t forget to change the url):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;hugo -D -F -b &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://10.1.1.77&amp;#34;&lt;/span&gt; -d public&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;-D&lt;/code&gt; flag tells hugo to include all draft posts, while the &lt;code&gt;-F&lt;/code&gt; flag
has it include all posts with a future date. The &lt;code&gt;-b&lt;/code&gt; flag sets the
url for the generated website. This should the be url or IP address of
the nginx server setup previously. Lastly, the &lt;code&gt;-d&lt;/code&gt; flag tells hugo to
output the generated static website to the &lt;code&gt;public&lt;/code&gt; directory. This
will be useful to know when deploying the build.&lt;/p&gt;

&lt;h4 id=&#34;deploy-to-webserver&#34;&gt;Deploy to Webserver&lt;/h4&gt;

&lt;p&gt;For deployment, I used rsync to copy the build files to the nginx
web server. This step will be another shell command, so I&amp;rsquo;ve actually
added it as another &amp;ldquo;build&amp;rdquo; step. Add another &lt;strong&gt;Execute shell&lt;/strong&gt; and
paste the following command inside the text box (again, changing the url):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;rsync -r &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;$WORKSPACE&lt;span style=&#34;color:#e6db74&#34;&gt;/public/&amp;#34;&lt;/span&gt; ryan@10.1.1.77:/usr/share/nginx/html/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I used the Jenkins &lt;code&gt;$WORKSPACE&lt;/code&gt; variable to get the location of the
build, and was able to append the &lt;code&gt;public&lt;/code&gt; directory to that, since we
defined it with the &lt;code&gt;-d&lt;/code&gt; flag in the hugo build step above. This will
copy the generated website, to the web server.&lt;/p&gt;

&lt;p&gt;Hit &lt;strong&gt;Save&lt;/strong&gt;, and test it out by clicking the &lt;strong&gt;Build Now&lt;/strong&gt; link on the
left. If the build is successful, check the nginx website to see if
the website was deployed!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: If it doesn&amp;rsquo;t work, double check all permissions and
credentials between accounts and servers.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;better-yet-pipelines&#34;&gt;Better Yet&amp;hellip; Pipelines&lt;/h2&gt;

&lt;p&gt;What&amp;rsquo;s better than using Jenkins for automated &amp;ldquo;draft website&amp;rdquo;
deployments?  Using a &lt;a href=&#34;https://jenkins.io/doc/book/pipeline/&#34;&gt;Jenkins
Pipeline&lt;/a&gt;. A Pipeline allows
the jenkins project steps to be defined in a &lt;em&gt;Jenkinsfile&lt;/em&gt; that, among
other benefits, can be source controlled. In fact, by default a
Jenkins pipeline searches for the &lt;code&gt;Jenkinsfile&lt;/code&gt; right in the root
directory of a project&amp;rsquo;s git repo.&lt;/p&gt;

&lt;p&gt;While a pipeline and
&lt;a href=&#34;https://jenkins.io/doc/book/pipeline/jenkinsfile/&#34;&gt;Jenkinsfile&lt;/a&gt; might
be a bit more confusing to &lt;em&gt;learn&lt;/em&gt; how to setup, it is well worth it. For
example, the following Jenkinsfile can be used to do essentially what
we setup in the previous steps:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-groovy&#34; data-lang=&#34;groovy&#34;&gt;pipeline &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
    agent &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	label &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;mr-mime&amp;#39;&lt;/span&gt;
    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
    stages &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	stage &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;build&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	    steps&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
		sh &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;hugo -D -F -b &amp;#34;http://10.1.1.77&amp;#34;&amp;#39;&lt;/span&gt;
	    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
	stage &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;deploy&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
	    steps&lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
		sh &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;rsync -r &amp;#34;$WORKSPACE/public/&amp;#34; ryan@ponyta:/usr/share/nginx/html/&amp;#39;&lt;/span&gt;
	    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
	&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

    &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I&amp;rsquo;m not going to cover pipelines in &lt;em&gt;this&lt;/em&gt; post. However, I do
encourage readers to check them out.&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;That&amp;rsquo;s it. While I currently host my website using &lt;a href=&#34;https://pages.github.com/&#34;&gt;GitHub
pages&lt;/a&gt;, if I ever self-host it again, I
will definitely automate publishing it using Jenkins as well. This has
been a &lt;em&gt;very&lt;/em&gt; basic example of what Jenkins can be used for, but I
have found it rather useful when working on the content of this
website. There is so much more it can do. Have fun!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Nginx as a Reverse Proxy to Forward Sub-Domains</title>
      <link>http://ryan.himmelwright.net/post/nginx-subdomain-reverse-proxy/</link>
      <pubDate>Tue, 03 Jul 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/nginx-subdomain-reverse-proxy/</guid>
      <description>&lt;p&gt;Last month, Rebecca and I moved to Durham, North Carolina. As a
result, I&amp;rsquo;ve had to re-setup our home network. In years past, I setup
a virtual machine running &lt;a href=&#34;https://www.nginx.com/&#34;&gt;Nginx&lt;/a&gt; as a
reverse-proxy (Tangela), and I decided to do that again on the new
network. While it is a simple process, it is one that other people often
ask me about. So, this time&amp;hellip; I&amp;rsquo;m taking notes!&lt;/p&gt;

&lt;h2 id=&#34;why&#34;&gt;Why?&lt;/h2&gt;

&lt;p&gt;The purpose of this reverse proxy is to direct outside traffic to the
appropriate host internally, by looking at the sub-domain of the URL
request. For example, I may have servers for both
&lt;code&gt;website.himmelwright.net&lt;/code&gt; and &lt;code&gt;dashboard.himmelwright.net&lt;/code&gt; running
internally on my network, but they will have the same public IP. Using
nginx, I can point all of my web traffic to &lt;em&gt;tangela&lt;/em&gt;, my
reverse-proxy. If tangela sees that the incoming request is for
&lt;code&gt;website.himmelwright.net&lt;/code&gt;, it will forward that traffic to the
website server. On the other hand, if the request is for
&lt;code&gt;dashboard.himmelwright.net&lt;/code&gt;, it will direct it to the dashboard
server. A reverse-proxy expands what can be accomplished on a single network,
and is a cleaner (and possibly safer) method than doing everything through
port-forwarding.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/nginx-reverse-proxy/tangela.png&#34;&gt;&lt;img
src=&#34;../../img/posts/nginx-reverse-proxy/tangela.png&#34; style=&#34;max-width:
50%; float: right; margin: 0px 0px 0px 0px;&#34; alt=&#34;Example snippet of
my org-babel config.org file&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;setup-server&#34;&gt;Setup Server&lt;/h2&gt;

&lt;p&gt;To get started, configure a server/container/droplet that will host
nginx. I&amp;rsquo;m using a CentOS 7 minimal install VM on
&lt;a href=&#34;../../pages/homelab/#ninetales&#34;&gt;Nintales&lt;/a&gt; (my
home server). I don&amp;rsquo;t have a bunch of traffic (well, I &lt;em&gt;shouldn&amp;rsquo;t&lt;/em&gt;), so I&amp;rsquo;m
just giving it 1 core and 512MB RAM.&lt;/p&gt;

&lt;h3 id=&#34;setup-nginx&#34;&gt;Setup Nginx&lt;/h3&gt;

&lt;p&gt;Next, it&amp;rsquo;s time to setup and install Nginx.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: the rest of the post will be focused on using a CentOS 7 base,
since that is what I am using. Adjust for your distro accordingly.&lt;/p&gt;

&lt;p&gt;Add the nginx repo, and install it:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm
sudo yum -y install nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tell the firewall to allow http traffic:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo firewall-cmd --permanent --add-service&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;http
sudo systemctl reload firewalld&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Start and enable nginx:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo systemctl start nginx
sudo systemctl enable nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;configure-nginx&#34;&gt;Configure Nginx&lt;/h2&gt;

&lt;p&gt;Examine the config file, just to check that everything looks alright.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;vim /etc/nginx/nginx.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Specifically, we want to ensure that the following line exists before
proceeding:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;include /etc/nginx/conf.d/*.conf;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That line basically states that any *.conf file inside the &lt;code&gt;/etc/nginx/conf.d/&lt;/code&gt;
directory will also be loaded and used by nginx. This allows us to add our own configuration file in the next step.&lt;/p&gt;

&lt;h2 id=&#34;configure-proxy&#34;&gt;Configure Proxy&lt;/h2&gt;

&lt;p&gt;I created a &lt;code&gt;reverse-proxies.config&lt;/code&gt; (it can be named anything with a
&lt;code&gt;.config&lt;/code&gt; extension) file in &lt;code&gt;/etc/nginx/conf.d/&lt;/code&gt; to contain all of
the reverse proxy definitions. These are just server block
entries. For example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;server &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        listen 80;
        server_name website.himmelwright.net;
        location / &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
                proxy_pass      http://192.168.1.198:80;
        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;

server &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        listen 80;
        server_name dashboard.himmelwright.net;
        location / &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
                proxy_pass      http://192.168.1.200:8080;
        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Restart nginx for the changes to take effect:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo systemctl restart nginx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&#34;side-note&#34;&gt;Side Note:&lt;/h4&gt;

&lt;p&gt;For some applications, you may need to add the URL to the &lt;code&gt;/etc/hosts&lt;/code&gt;
file, and use that for nginx. I have experienced this in the past with
&lt;a href=&#34;https://about.gitlab.com/&#34;&gt;Gitlab&lt;/a&gt;. For example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;/etc/hosts
---
192.168.1.201  git.himmelwright.net&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and then in the config file:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;/etc/nginx/config.d/reverse-proxies.config
---
server &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
        listen 80;
        server_name git.himmelwright.net;
        location / &lt;span style=&#34;color:#f92672&#34;&gt;{&lt;/span&gt;
                proxy_pass      http://git.himmelwright.net:80;
        &lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;selinux-fixes&#34;&gt;SELinux Fixes&lt;/h2&gt;

&lt;p&gt;At this point, you may be done. However, I was having issues getting
nginx to forward some of my ports&amp;hellip; until I remembered that I was on
CentOS and it may be an issue with SELinux. It was.&lt;/p&gt;

&lt;p&gt;One &amp;ldquo;&lt;em&gt;fix&lt;/em&gt;&amp;rdquo; is to just disable SELinux. A &lt;em&gt;better&lt;/em&gt; solution is to use
setools to allow the http connections:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo yum install -y setools
setsebool -P httpd_can_network_connect true&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Besides having to configure your router to forward http traffic to the
server, that is really it. This is a real basic configuration, but it
has worked well for me over the years. If I start doing something more
complex, I may provide an update. Until then, enjoy!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Trying Out Seafile</title>
      <link>http://ryan.himmelwright.net/post/trying-out-seafile/</link>
      <pubDate>Sun, 01 Apr 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/trying-out-seafile/</guid>
      <description>&lt;p&gt;In college, I mostly used Dropbox to handle all of my file syncing needs. As I
approached graduation, I setup an Owncloud droplet (which is now a Nextcloud
instance) to supplant my Dropbox usage. While it has worked fairly well, I&amp;rsquo;ve
been watching &lt;a href=&#34;https://www.seafile.com/en/home/&#34;&gt;seafile&lt;/a&gt; from a distance the
last few years, but haven&amp;rsquo;t taken the time to try it out. I have now.&lt;/p&gt;

&lt;h2 id=&#34;seafile&#34;&gt;Seafile&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/trying-out-seafile/seafilelogo.png&#34;&gt;&lt;img src=&#34;../../img/posts/trying-out-seafile/seafilelogo.png&#34; style=&#34;max-width: 95%; float: left; margin: 0px 15px 0px 0px;&#34; alt=&#34;Docker ps&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The Seafile Logo&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;As stated on their website:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Seafile is an enterprise file hosting platform with high reliability and
performance. Put files on your own server. Sync and share files across
different devices, or access all the files as a virtual disk.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;While self-defined as an &amp;ldquo;&lt;em&gt;enterprise&lt;/em&gt; file hosting platform&amp;rdquo;, there is a
Community Edition that is &lt;em&gt;Free &amp;amp; Open Source&lt;/em&gt;.. which is exactly how I like my
software. So lets get started.&lt;/p&gt;

&lt;h2 id=&#34;setup&#34;&gt;Setup&lt;/h2&gt;

&lt;p&gt;Similar to a Nextcloud configuration, to get seafile up and running, a server
 component is first installed. Afterwards, clients connect to it.&lt;/p&gt;

&lt;h3 id=&#34;server&#34;&gt;Server&lt;/h3&gt;

&lt;p&gt;The countless number of configurations seafile supports may make setting up the
server component for the first time a bit intimidating. There are several
database back-ends (SQLite, MySQL&amp;hellip;), web servers (Nginx, Apache), and
advanced options (Memcached, LDAP, etc) which can be selected. However, the
seafile developers &lt;em&gt;do&lt;/em&gt; provide an &lt;a href=&#34;https://github.com/haiwen/seafile-server-installer&#34;&gt;installation
script&lt;/a&gt; to easily install
both the Pro and Community editions under Linux. Which is what I used.&lt;/p&gt;

&lt;h4 id=&#34;download&#34;&gt;Download&lt;/h4&gt;

&lt;p&gt;The first step is to download the server application. A link for the
install package can found &lt;a href=&#34;https://www.seafile.com/en/download/#server&#34;&gt;partway down the download
page&lt;/a&gt;. After Downloading, extract
the contents of the package.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;wget https://download.seadrive.org/seafile-server_6.2.5_x86-64.tar.gz
tar xf seafile-server*.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Inside the extracted directory, there are several &lt;code&gt;setup-seafile-*.sh*&lt;/code&gt; scripts.
I just used the basic &lt;code&gt;setup-seafile.sh&lt;/code&gt; one.&lt;/p&gt;

&lt;h4 id=&#34;dependencies&#34;&gt;Dependencies&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/trying-out-seafile/ubuntu-logo.jpg&#34;&gt;&lt;img
src=&#34;../../img/posts/trying-out-seafile/ubuntu-logo.jpg&#34; style=&#34;max-width:
100%; float: right; margin: 5px 10px 10px 10px;&#34; alt=&#34;Ubuntu Logo&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Depending on which setup script it used, and the state of the host machine,
there may be some missing dependencies. While I am sure there is a nice list of
the required dependencies posted &lt;em&gt;somewhere&lt;/em&gt;&amp;hellip; I didn&amp;rsquo;t look for it. If I am
being completely honest&amp;hellip; I just kept repeatedly running the script, and
installed whichever package it yelled at me for each time. Eventually, the install
worked. On my fresh install of Ubuntu 16.04 server, this meant
installing the following dependency packages:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;python-setuptools&lt;/li&gt;
&lt;li&gt;python-imaging&lt;/li&gt;
&lt;li&gt;sqlite3&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This means that on an Ubuntu 16.04 server, a simple &lt;code&gt;sudo apt install python-setuptools
python-imaging sqlite3&lt;/code&gt; should do the trick&amp;hellip;&lt;/p&gt;

&lt;h4 id=&#34;install-script&#34;&gt;Install Script&lt;/h4&gt;

&lt;p&gt;With the dependencies installed, the script should run through without screaming
for missing packages. However, it &lt;em&gt;will&lt;/em&gt; ask for a few pieces of information
including &lt;em&gt;server-name&lt;/em&gt;, &lt;em&gt;server-ip/domain&lt;/em&gt;, &lt;em&gt;data-dir&lt;/em&gt;, and &lt;em&gt;fileserver port&lt;/em&gt;
to install the fileserver component. Answer accordingly.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/trying-out-seafile/seahub-web.png&#34;&gt;&lt;img src=&#34;../../img/posts/trying-out-seafile/seahub-web.png&#34; style=&#34;max-width: 100%; float: left; margin: 0px 15px 0px 0px;&#34; alt=&#34;Docker ps&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The Seafile Web Client, Seahub&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;After configuring the fileserver, the script will flow right into configuring
&lt;a href=&#34;https://github.com/haiwen/seahub&#34;&gt;Seahub&lt;/a&gt;, the web interface that sits on top
of the fileserver. This part is less needy, and will only require an &lt;em&gt;[Enter]&lt;/em&gt;
press to continue.&lt;/p&gt;

&lt;p&gt;At the end, the script should display useful information about how to
start/stop/reset the servers, as well as what ports each part is running on.&lt;/p&gt;

&lt;h4 id=&#34;run-start&#34;&gt;Run &amp;amp; Start&lt;/h4&gt;

&lt;p&gt;Starting the servers is done by doing what the script says&amp;hellip; run the
following commands:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;./seafile.sh start
./seahub.sh start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With the servers running, it may be necessary to configure the firewall to allow
their ports. On Ubuntu 16.04:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo ufw allow 8000/tcp
sudo ufw allow 8082/tcp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That&amp;rsquo;s it. With any luck, clients should be able to connect to the server
(assuming the server is reachable from the client computer&amp;hellip; but that&amp;rsquo;s a
lesson for another day).&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: The first time seahub is run, it will need to setup an admin account. So
while it was nice and considerate in the last step&amp;hellip; it will insist on being
supplied a username (email) and password for the new admin account. Again, just
comply.&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;client&#34;&gt;Client&lt;/h3&gt;

&lt;p&gt;The seafile desktop client was trivial to install. It was in the Solus repos, so
I just needed to run &lt;code&gt;sudo eopkg it seafile-client&lt;/code&gt;, and I was done. I also
installed it on my work computers (which unfortunately runs Windows 10), and
even that was simple. I just downloaded and installed the Windows &amp;ldquo;Desktop
Syncing Client&amp;rdquo; at the top of the &lt;a href=&#34;https://www.seafile.com/en/download/&#34;&gt;download
page&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;my-thoughts&#34;&gt;My Thoughts&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/trying-out-seafile/seafile-client.png&#34;&gt;&lt;img
src=&#34;../../img/posts/trying-out-seafile/seafile-client.png&#34; style=&#34;max-width:
100%; float: right; margin: 0px 0px 0px 0px;&#34; alt=&#34;Seafile Desktop Client&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have been using seafile as a syncing solution for the past few weeks. After
the initial setup, it has been rather uneventful&amp;hellip; which is a good thing. It
just runs in the background, and I don&amp;rsquo;t really think about it. Exactly what you
want with a syncing solution.&lt;/p&gt;

&lt;p&gt;That being said, I haven&amp;rsquo;t fully dug into all of the details of the application
yet. So, if I incorrectly critique something due to my own ignorance that
simply isn&amp;rsquo;t true, I apologize in advance.&lt;/p&gt;

&lt;h3 id=&#34;what-i-like&#34;&gt;What I Like&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Desktop Client&lt;/strong&gt; - The desktop client is simple. It responds quickly, and is
a nice little command center where I can view how seafile is configured on each
individual system.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Select &lt;em&gt;which&lt;/em&gt; Libraries to sync&lt;/strong&gt; - Seafile libraries allow me to sync only
what I need. Nextcloud had this feature, but it was implemented a little differently. I
had to go to the &lt;code&gt;Nextcloud&lt;/code&gt; folder in the client UI, and then check/uncheck all
of the sub-folders I wanted to sync on my machine.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Pick &lt;em&gt;where each&lt;/em&gt; libraries sync&lt;/strong&gt; - Even better than being able to pick
&lt;em&gt;which&lt;/em&gt; libraries to sync, is having the power to choose &lt;em&gt;where&lt;/em&gt; each one will
reside. In seafile, the location of each library is completely independent.
For example, I can sync my &lt;code&gt;work&lt;/code&gt; library to &lt;code&gt;~/Documents/Work/&lt;/code&gt;, my &lt;code&gt;Music&lt;/code&gt;
to &lt;code&gt;~/Music&lt;/code&gt;, and &lt;code&gt;emacs&lt;/code&gt; to
&lt;code&gt;~/Documents/Programming/Editors/why/so/many/diectories/emacs/&lt;/code&gt;. On another
computer, I may choose to only sync my &lt;code&gt;work&lt;/code&gt; library to &lt;code&gt;~/Desktop/work&lt;/code&gt; (It
doesn&amp;rsquo;t have to be the same across computers). I love this. It lets seafile &lt;em&gt;integrate&lt;/em&gt; with my
workflow, rather than forcing me to make &lt;em&gt;it be&lt;/em&gt; my workflow.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Encrypted Libraries&lt;/strong&gt; - When creating a new library, it is possible to
make an encrypted one. These libraries use client-side, end-to-end encryption
and require a password. The file &lt;em&gt;contents&lt;/em&gt; (Note: not directory or file
&lt;em&gt;names&lt;/em&gt;) are encrypted on the client side, and not on the server. This means
that even the server admin cannot access the file contents on the server.
This is a feature I&amp;rsquo;d like to see in more applications.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/trying-out-seafile/encrypt-library.png&#34;&gt;&lt;img
src=&#34;../../img/posts/trying-out-seafile/encrypt-library.png&#34; style=&#34;max-width:
100%; align: center; float: center; margin: 0px 0px 0px 0px;&#34; alt=&#34;Docker ps&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;When syncing an encrypted library, a password must be entered.&lt;/div&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Fast Sync&lt;/strong&gt; - I only have anecdotal evidence, but the syncing in seafile
&lt;em&gt;feels fast&lt;/em&gt;. Files seem to pull down very quickly, and setting up my
libraries on a new device doesn&amp;rsquo;t take a very long time. I might have to
actually &lt;em&gt;measure&lt;/em&gt; if it&amp;rsquo;s any better than something like nextcloud, but if I&amp;rsquo;m
happy&amp;hellip; does it really &lt;em&gt;matter&lt;/em&gt;?&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;what-i-don-t-like&#34;&gt;What I Don&amp;rsquo;t Like&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;No Folders/Nested libraries&lt;/strong&gt; - As far as I can tell, I don&amp;rsquo;t think it is
possible to organize seafile libraries with folders, or a nested library
structure. Admittedly, this is one of those areas that I haven&amp;rsquo;t had to look
too much into yet. However, as I start to increase my seafile usage and the
number of my libraries increases, I could see this being a feature I&amp;rsquo;d really
enjoy.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Phone Sync Tricky&lt;/strong&gt; - The phone sync (specifically auto photo upload) was
tricky to get working at first. After setting it up, it didn&amp;rsquo;t seem to work,
or at least not as promptly as nextcloud does. I took a few photos to test it
out today, it seemed to work &lt;em&gt;okay&lt;/em&gt;, but I don&amp;rsquo;t think it started syncing
right away. Right now, I don&amp;rsquo;t 100% trust it to work without me thinking
about it. Hopefully this improves with time.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;future-plans&#34;&gt;Future Plans&lt;/h3&gt;

&lt;p&gt;To summarize, I have been loving seafile, and I think I have only scratched the
surface. I haven&amp;rsquo;t even tried playing with features like History and Snapshots,
Full Text File Search, or yet. My plan is to continue experimenting a bit more,
and then switch to it as my main syncing system when I redo my main server
setup in a couple of weeks. If you haven&amp;rsquo;t given seafile a try recently, I
recommend it.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Docker Quick Start</title>
      <link>http://ryan.himmelwright.net/post/docker-quickstart/</link>
      <pubDate>Sun, 25 Feb 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/docker-quickstart/</guid>
      <description>&lt;p&gt;Over the past few months (particularly over the holiday season), I started to
explore and learn several technologies I&amp;rsquo;ve had my eye on the last few years.
First on the list: &lt;a href=&#34;https://docker.io&#34;&gt;Docker&lt;/a&gt;. These days, Docker has a massive
ecosystem surrounding it, and can take years to truly master. This post on the
other hand, will &lt;em&gt;hopefully&lt;/em&gt; help you get up and playing with docker containers in
just a few minutes. Lets get started.&lt;/p&gt;

&lt;h2 id=&#34;installing-docker&#34;&gt;Installing Docker&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-logo.png&#34; style=&#34;max-width: 100%; width: 400px; float: right; margin: 0px 15px 5px 5px;&#34; alt=&#34;Docker Logo&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Installing docker on &lt;a href=&#34;https://getsol.us&#34;&gt;Solus&lt;/a&gt; was easy enough. I just
had to install the package, and then enable the service:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo eopkg it docker
sudo systemctl enable docker
sudo systemctl start docker&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On other distributions, it may not be in the package manager, or it might be
under a different name. To be sure, check out the community edition
&lt;a href=&#34;https://docs.docker.com/install/linux/docker-ce/fedora/#set-up-the-repository&#34;&gt;installation
documentation&lt;/a&gt;
for your specific distro.&lt;/p&gt;

&lt;h2 id=&#34;adding-user-to-docker-group&#34;&gt;Adding User to Docker Group&lt;/h2&gt;

&lt;p&gt;By default, user accounts will not have permission to run docker commands
without root access. So, after first installing docker, it might be tempting to
just run everything using &lt;code&gt;sudo&lt;/code&gt;, but that isn&amp;rsquo;t the best idea. To get around
this, simply add the user account to the &lt;code&gt;docker&lt;/code&gt; group:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo usermod -a -G docker ryan&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If the docker group is not created for some reason, it can be added:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo groupadd docker&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afterwards, that user should be able to run docker commands without requiring
&lt;code&gt;sudo&lt;/code&gt;. They &lt;em&gt;might&lt;/em&gt; have to log out and back in first.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: These commands may differ based on distro.&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;some-useful-commands&#34;&gt;Some Useful Commands&lt;/h2&gt;

&lt;p&gt;Before getting too caught up in creating and using containers, lets first go
over a few useful commands that make navigating docker a bit easier.&lt;/p&gt;

&lt;h4 id=&#34;docker-ps&#34;&gt;docker ps&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-ps.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-ps.png&#34; style=&#34;max-width: 100%; float: left; margin: 0px 15px 0px 0px;&#34; alt=&#34;Docker ps&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Example of the docker ps and docker ps -a commands&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Similar to how Unix-based systems have the &lt;code&gt;ps&lt;/code&gt; command to see running
processes, docker has &lt;code&gt;docker ps&lt;/code&gt; to see created and running containers. To
view the currently running containers, use the basic &lt;code&gt;docker ps&lt;/code&gt; command:&lt;/p&gt;

&lt;p&gt;The base command however, doesn&amp;rsquo;t always tell the whole story. A system might
have containers that &lt;em&gt;exist&lt;/em&gt; but are not running. A container may have been
stopped, &lt;em&gt;or&lt;/em&gt; exited if it encountered an error. Containers that are stopped or
exited &lt;em&gt;will not&lt;/em&gt; show up in the default &lt;code&gt;docker ps&lt;/code&gt; command. To see &lt;em&gt;all&lt;/em&gt; of the
current containers on the system, run &lt;code&gt;ps&lt;/code&gt; with the &lt;code&gt;-a&lt;/code&gt; flag.&lt;/p&gt;

&lt;h4 id=&#34;docker-inspect&#34;&gt;docker inspect&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-inspect.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-inspect.png&#34; style=&#34;max-width: 100%; float: left; margin: 0px 15px 0px 0px;&#34; alt=&#34;Docker inspect examples: docker inspect web-test | grep Status and docker inspect web-test | grep IPAddress&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Using the docker inspect command to get the container&amp;rsquo;s status and IP address&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Another useful command when working with docker containers is &lt;code&gt;docker inspect&lt;/code&gt;.
The &lt;code&gt;inspect&lt;/code&gt; command will dump the xml for all the low level information of the
container/docker object. The output contains basically &lt;em&gt;everything&lt;/em&gt; about the
container: Full ID, time created, state, volumes, network information&amp;hellip;
everything. It can be useful to pipe the output of &lt;code&gt;inspect&lt;/code&gt; to grep, in order
to get specific information about the container quickly.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker inspect container_name | grep IPAddress&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For example, the above command will grab and return only the lines which contain
&amp;ldquo;IPAddress&amp;rdquo;.&lt;/p&gt;

&lt;h4 id=&#34;help&#34;&gt;help&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-help.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-help.png&#34; style=&#34;max-width: 100%; float: left; margin: 0px 15px 0px 0px;&#34; alt=&#34;Using the docker help command flags. For Example: docker inspect --help&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Using the docker help command flags.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Last but not least, don&amp;rsquo;t forget about the &lt;code&gt;help&lt;/code&gt; command. To see all the
available docker commands, run &lt;code&gt;docker help&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Additionally, when using each of those specific commands, (&lt;code&gt;inspect&lt;/code&gt; for
example), a description and possible options can be shown using the &lt;code&gt;--help&lt;/code&gt;
flag (as in &lt;code&gt;docker inspect --help&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Just as man pages can be extremely valuable when working on a Linux system,
&lt;code&gt;help&lt;/code&gt; is just as essential when using docker.&lt;/p&gt;

&lt;h2 id=&#34;images&#34;&gt;Images&lt;/h2&gt;

&lt;p&gt;A docker container is created from a base &lt;em&gt;image&lt;/em&gt;. Images can be pulled down
from &lt;a href=&#34;https://hub.docker.com/&#34;&gt;Dockerhub&lt;/a&gt;. To search docker hub from command
line, use the &lt;code&gt;docker search&lt;/code&gt; command. For example, &lt;code&gt;docker search nginx&lt;/code&gt; will
search for images related to nginx.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-search.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-search.png&#34; style=&#34;max-width: 100%; float: left; margin: 0px 15px 0px 0px;&#34; alt=&#34;Docker Search output. Ex: docker search nginx&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The search output for nginx images&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The search will list all of the public images in order, from most to least
stars. When a desired image is found, pull it down using the &lt;code&gt;docker pull&lt;/code&gt;
command. For example, &lt;code&gt;docker pull nginx&lt;/code&gt; will pull down the &lt;a href=&#34;https://hub.docker.com/_/nginx/&#34;&gt;nginx
image&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-pull.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-pull.png&#34; style=&#34;max-width: 100%; width:100%; float: left; margin: 0px 15px 0px 0px;&#34; alt=&#34;Docker Pull output. Ex: docker pull nginx&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Pulling the latest nginx image&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Docker will then download all the layers for the image. When the download
completes, the image will be locally available to create docker containers
from. To see all of the local images, use the &lt;code&gt;docker images&lt;/code&gt; command:&lt;/p&gt;

&lt;p&gt;To delete an image, use the &lt;code&gt;docker images rm&lt;/code&gt; command, or my preferred, lazier
command, &lt;code&gt;docker rmi&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-images.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-images.png&#34; style=&#34;max-width: 100%; float: left; margin: 0px 15px 0px 0px;&#34; alt=&#34;docker images and docker rmi. Ex: docker images, then docker rmi test-ubuntu&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Viewing downloaded images with the docker images command, then deleting the &amp;ldquo;test-ubuntu&amp;rdquo; image using the docker rmi command&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Lastly, it should be noted that custom images can be created/tailored using a
&lt;a href=&#34;https://docs.docker.com/engine/reference/builder/#usage&#34;&gt;Dockerfile&lt;/a&gt;. With a
Dockerfile is defined, an image can be created from it using the &lt;code&gt;docker build&lt;/code&gt;
command. For example, the following Dockerfile would use an
&lt;a href=&#34;https://hub.docker.com/_/ubuntu/&#34;&gt;ubuntu&lt;/a&gt; image for the base, but also update &amp;amp;
install several packages in the image:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# This is a custom ubuntu image with SSH already installed&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;FROM ubuntu:latest&lt;/span&gt;
&lt;span style=&#34;color:#ae81ff&#34;&gt;MAINTAINER himmallright &amp;lt;ryan.himmelwright@gmail.com&amp;gt;&lt;/span&gt;

&lt;span style=&#34;color:#ae81ff&#34;&gt;RUN apt-get update&lt;/span&gt;

&lt;span style=&#34;color:#ae81ff&#34;&gt;RUN apt-get install -y vim stow git tmux fish htop emacs&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To build the image, run the following command in the same directory as the
Dockerfile (if defining a specific file, the &lt;code&gt;-f&lt;/code&gt; flag can be used):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker build -t ubuntu-base:v1 .&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I like to use the &lt;code&gt;-t&lt;/code&gt; flag, so that I can specify a &lt;code&gt;name:tag&lt;/code&gt; for the image.
This helps to make it easier to find it in the &lt;code&gt;docker images&lt;/code&gt; list.&lt;/p&gt;

&lt;h2 id=&#34;creating-containers&#34;&gt;Creating Containers&lt;/h2&gt;

&lt;p&gt;Docker containers can be &lt;em&gt;created&lt;/em&gt; (but not run) with the &lt;code&gt;docker create&lt;/code&gt;
command. When creating containers, it is useful to use flags to tailor the
details of the container. For example, the &lt;code&gt;-m&lt;/code&gt; flag can be used to create a
memory limit, &lt;code&gt;--name&lt;/code&gt; to name the container, and so on. To create a simple nginx
container from the image we previously pulled:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker create --name web-test nginx:latest&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;starting-running-containers&#34;&gt;Starting &amp;amp; Running Containers&lt;/h2&gt;

&lt;p&gt;To &lt;em&gt;start&lt;/em&gt; a container created with &lt;code&gt;docker create&lt;/code&gt;, or one that has been previously
stopped, use the &lt;code&gt;docker start&lt;/code&gt; command. For example, to start
the container created in the previous step:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker start web-test&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Similarly, a container can be stopped with &lt;code&gt;docker stop&lt;/code&gt;, or restarted with
&lt;code&gt;docker restart&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Instead of using a &lt;code&gt;docker create&lt;/code&gt; and &lt;code&gt;docker start&lt;/code&gt; combination, &lt;code&gt;docker run&lt;/code&gt;
can be used to both instantiate &lt;em&gt;and&lt;/em&gt; start a container. To create and start the
&amp;ldquo;web-test&amp;rdquo; container from the previous examples:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run --name web-test -d nginx:latest&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;cleaning-containers&#34;&gt;Cleaning containers&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-rm.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-rm.png&#34; style=&#34;max-width: 100%; float: left; width: 95%;&#34; alt=&#34;Docker rm all images. Ex: docker rm `docker ps -aq`&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Removing all the older container images&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Over time, old containers may build up on the system. To remove an old (but not
running) container, use &lt;code&gt;docker rm&lt;/code&gt; with either the container name, &lt;em&gt;or&lt;/em&gt; the id.
Note, to easily delete &lt;em&gt;all&lt;/em&gt; of the containers on the system, &lt;code&gt;docker rm&lt;/code&gt; can be
fed the output of &lt;code&gt;docker ps -aq&lt;/code&gt;, where the &lt;code&gt;-aq&lt;/code&gt; flag returns a list of all
the container ids.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker rm &lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;docker ps -aq&lt;span style=&#34;color:#e6db74&#34;&gt;`&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;(Note: this doesn&amp;rsquo;t work in my Fish shell, but does in bash)&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;attaching-to-containers&#34;&gt;Attaching to Containers&lt;/h2&gt;

&lt;p&gt;After a container is running, it might occasionally be necessary to attach to
it and poke around with a shell. There is the obvious way to do this,
&lt;code&gt;docker attach&lt;/code&gt;, and a somewhat work-around way, which I prefer to use: &lt;code&gt;docker
exec&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-attach.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-attach.png&#34; style=&#34;max-width: 100%; float: left;&#34; alt=&#34;Docker attach example&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;An example using the docker attach command&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The attach command works as one would expect. It allows a user to &amp;ldquo;Attach local
standard input, output, and error streams to a running container&amp;rdquo;. This is all
well an good, except for one issue: when exiting the attached container, the
&lt;em&gt;container also&lt;/em&gt; exits.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-exec-bash.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-exec-bash.png&#34; style=&#34;max-width: 100%; float: left;&#34; alt=&#34;Docker exec bash example&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;An example using docker exec with a bash shell, as an alternative to docker attach&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;A way around this annoyance is to utilize the &lt;code&gt;docker exec&lt;/code&gt; command, which
allows a command to be executed inside a container. Executing a shell program
inside the container, such as &lt;code&gt;bash&lt;/code&gt;, mimics the &lt;code&gt;attach&lt;/code&gt; command, but with the
added benefit that when exiting, only the shell exits, and &lt;em&gt;not&lt;/em&gt; the entire
container.&lt;/p&gt;

&lt;h2 id=&#34;ports-volumes&#34;&gt;Ports &amp;amp; Volumes&lt;/h2&gt;

&lt;p&gt;As mentioned earlier, docker containers can be built and run using many specific
commands to tailor the container and how it interfaces with the host system.
There are two concepts in particular that I want to briefly touch on in this
&lt;em&gt;quick start&lt;/em&gt; post. Those two items, are &lt;code&gt;ports&lt;/code&gt; and &lt;code&gt;volumes&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&#34;ports&#34;&gt;Ports&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/nginx-firefox-port.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/nginx-firefox-port.png&#34; style=&#34;max-width: 100%; float: center;&#34; alt=&#34;Containerized nginx server connected to through localhost&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Container ports can be forwarded to the host&amp;rsquo;s ports.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;While it is nice to spin up a web server inside a docker container, it isn&amp;rsquo;t
always very useful to only have it available to the host machine. By using the
&lt;code&gt;-p&lt;/code&gt; flag when running a container, the container&amp;rsquo;s ports can be forwarded to
ports on the host system.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-port.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-port.png&#34; style=&#34;max-width: 100%; float: center;&#34; alt=&#34;Creating an nginx container, forwarding port 80 to he host&#39;s 8081&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Creating an nginx container, forwarding it&amp;rsquo;s port 80 to the host&amp;rsquo;s port 8081&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Using &lt;code&gt;-p&lt;/code&gt; with just a single number, as in &lt;code&gt;-p 8080&lt;/code&gt;, will declare that port of
the container to be exposed. To forward exposed ports to the host, use &lt;em&gt;two&lt;/em&gt;
port numbers, separated with a &lt;code&gt;:&lt;/code&gt;. The first number is the host port to bind
to, and the second is the container port to expose and forward.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -itd --name webtest -p 8081:80 nginx:latest&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The above example, a nginx container is started with port 80 forwarded to port
8081 on the host. As a result, any computer connecting to port 8081 of the host
machine will be directed to the nginx web server inside the container.&lt;/p&gt;

&lt;h4 id=&#34;volumes&#34;&gt;Volumes&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/nginx-firefox-volume.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/nginx-firefox-volume.png&#34; style=&#34;max-width: 100%; float: center;&#34; alt=&#34;Nginx container with website pages in a volume from the host.&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Containers can attach volumes from the host system for persistent data.&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Lastly, by design docker containers are mean to be expendable. They are run, and then
disposed. It should not be assumed that &lt;em&gt;any&lt;/em&gt; data inside the container will
be preserved by default. That is, unless
&lt;a href=&#34;https://docs.docker.com/storage/volumes/&#34;&gt;volumes&lt;/a&gt; are used.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/docker-quickstart/docker-volume.png&#34;&gt;&lt;img src=&#34;../../img/posts/docker-quickstart/docker-volume.png&#34; style=&#34;max-width: 100%; float: center;&#34; alt=&#34;Creating an nginx container, forwarding port 80 to he host&#39;s 8081&#34; /&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Creating an nginx container, forwarding it&amp;rsquo;s port 80 to the host&amp;rsquo;s port 8081&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Docker volumes are the preferred mechanism for preserving data across container
runs, and are specified using the &lt;code&gt;-v&lt;/code&gt; flag. Similar to setting ports, volumes
can be created by providing either a single path, or two separated by a &lt;code&gt;:&lt;/code&gt;.
When a single path is provided, as in &lt;code&gt;-v /Data&lt;/code&gt;, docker will create a volume
and bind it to that location within the container. Two locations can be provided
to bind a directory on the host system, to the volume inside to container.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -d --name testsite -v /home/ryan/testsite/:/usr/share/nginx/html nginx:latest&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the above command, for example, &lt;code&gt;-v
/home/ryan/testsite/:/usr/share/nginx/html&lt;/code&gt; will use the &lt;code&gt;/home/ryan/testsite/&lt;/code&gt;
directory of the host system, as a volume located at &lt;code&gt;/usr/share/nginx/html&lt;/code&gt;
inside the container. This means that the container will server the website
files, which are located (and can be easily edited), on the host system.&lt;/p&gt;

&lt;h2 id=&#34;in-conclusion&#34;&gt;In Conclusion&lt;/h2&gt;

&lt;p&gt;So, this has been&amp;hellip; a rather long post. However, when it comes to Docker, this
&lt;em&gt;really is just the tip of the iceberg&lt;/em&gt;. With any luck though, you should now
know the basic to at &lt;em&gt;least&lt;/em&gt; get &lt;em&gt;started&lt;/em&gt;. So&amp;hellip; go ahead and have some fun!.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Living the Dock Life: My Thinkpad T470</title>
      <link>http://ryan.himmelwright.net/post/my-t470/</link>
      <pubDate>Thu, 01 Feb 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/my-t470/</guid>
      <description>&lt;p&gt;In my previous post, I discussed how I sold off my System76 Bonobo laptop, and
 planned to replace it with a new computer. Well, I did&amp;hellip; awhile ago. For the
 last few months, I have been using a Lenovo T470 Thinkpad (with dock) as my new
 daily driver. Here are my thoughts.&lt;/p&gt;

&lt;h2 id=&#34;the-choice&#34;&gt;The Choice&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/my-t470/coffee-picture.jpg&#34;&gt;&lt;img alt=&#34;T470 Coffee&#34; src=&#34;../../img/posts/my-t470/coffee-picture.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;My T470 on a Sunday morning&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The
&lt;a href=&#34;https://www.notebookcheck.net/Lenovo-ThinkPad-T470-Core-i5-Full-HD-Notebook-Review.198130.0.html&#34;&gt;T470&lt;/a&gt;
is the 14&amp;rdquo; model of Lenovo&amp;rsquo;s &amp;ldquo;business&amp;rdquo; laptop lineup. The T470 series actually
has several variants itself, including the &amp;ldquo;high end&amp;rdquo;
&lt;a href=&#34;https://www.notebookcheck.net/Lenovo-ThinkPad-T470s-Core-i7-WQHD-Laptop-Review.200880.0.html&#34;&gt;T470s&lt;/a&gt;,
that has a slimmer chassis, made from &amp;ldquo;higher quality materials&amp;rdquo;, and a better
screen compared to the T470. There is also the &amp;ldquo;high
performance&amp;rdquo;&lt;a href=&#34;https://www.notebookcheck.net/Lenovo-ThinkPad-T470p-Core-i7-GeForce-940MX-Laptop-Review.226802.0.html&#34;&gt;T470p&lt;/a&gt;,
which features a faster, quad-core CPU, but a slightly larger chassis. While
these variants caught my attention, I ultimately decided on the normal T470.
This was partially because I could max the T470 out at 32GBs of RAM (The T470s
can only hit 24GB due to one of the sticks being soldered in), but mostly
because I assumed that the combination of having a lower powered CPU (compared
to the T70p), but a slightly larger case (compared to the T480s) would make it
the optimal choice concerning my heat/noise concerns outlined in the previous
post.&lt;/p&gt;

&lt;h2 id=&#34;the-specs&#34;&gt;The Specs&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/my-t470/inside.jpg&#34;&gt;&lt;img alt=&#34;Inside T470&#34; src=&#34;../../img/posts/my-t470/inside.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The Guts of the T470&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;So, the T470 then&amp;hellip;&lt;/p&gt;

&lt;p&gt;I got my T470 from a vendor on Ebay. It came configured with a 2.5GHz (3.1 GHz
Turbo) i5-7200u cpu, 8 GBs of DDR4 RAM, a 14&amp;rdquo; 1920x1080 screen, and a 500GB Hard
Drive with Windows 10 on it. After checking that it booted up fine, I
immediately swapped the slow HD with the 250GB SSD that was in my x230, and
installed &lt;a href=&#34;https://getsol.us&#34;&gt;Solus&lt;/a&gt; on it. In Solus, everything worked
&amp;ldquo;out of the box&amp;rdquo;, and I would guess other Linux distributions would as well. For
Christmas, I got a new 500GB Samsung EVO SSD to upgrade the 250GB one. In total,
the T470 has less total storage than the Bonobo had, but &lt;em&gt;all&lt;/em&gt; of it is fast SSD
storage. I am getting better at using my server for network storage anyway, so
it all works out &lt;i class=&#34;fa fa-smile-o&#34; aria-hidden=&#34;true&#34;&gt;&lt;/i&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/my-t470/solus-install.jpg&#34;&gt;&lt;img alt=&#34;Solus Install&#34; src=&#34;../../img/posts/my-t470/solus-install.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Installing Solus the first night&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;While I still plan to upgrade the T470 in the future, here are it&amp;rsquo;s specs at the
time of writing this post:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;T470 Thinkpad
Intel i5-7200u [2.5 Ghz (3.1 Ghz Turbo), 2 Cores, 4 Threads]
8 GB RAM
500 GB Samsung EVO SSD
14&amp;#34; 1920x1080 IPS Display
Solus&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The hardware on the T470 is nice, and the technical specs are &lt;em&gt;okay&lt;/em&gt;, but the
real killer feature of switching to a Thinkpad for my main computer is that I
also purchased the ThinkPad Ultra Dock (40A2). This means that I am able to
&lt;em&gt;easily&lt;/em&gt; take advantage of my periphery devices whenever I am working at my
desk.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Thinkpad Ultra Dock 40A2
2 x 23.6&amp;#34; ASUS 1920x1080 Monitors
Happy Hacking Keyboard Pro2
Audioengine A2+ Speakers &amp;amp; Stands
Bose AE2 Headphones
Logitech HD Pro Webcam c920 Widescreen
Blue Yeti Microphone - Backout Edition
Inateck USB 3.0 to SATA Dual-Bay Hard Drive Docking Station&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;what-i-like&#34;&gt;What I like&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/my-t470/hotel.jpg&#34;&gt;&lt;img alt=&#34;T470 in Hotel&#34; src=&#34;../../img/posts/my-t470/hotel.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;I&amp;rsquo;ve enjoyed the portability and great keyboard of the T470&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Now that I&amp;rsquo;ve provided some background information and a summary, I&amp;rsquo;ll quickly
list what I &lt;em&gt;like&lt;/em&gt; and &lt;em&gt;do not like&lt;/em&gt; about my new T470.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Cool &amp;amp; Quiet&lt;/strong&gt; - After realizing that I am picky about heat and noise in
computers, one of my biggest goals when replacing my old computer was to find
one that ran cooler and quieter. I think I did well here. &lt;em&gt;This thing is
silent.&lt;/em&gt; Using one of my new favorite command line applications,
&lt;a href=&#34;https://amanusk.github.io/s-tui/&#34;&gt;s-tui&lt;/a&gt;, I have observed that most of the
time when I&amp;rsquo;m writing code, browsing the web, or listening to music, the fans
in the T470 don&amp;rsquo;t even kick on. When I do push the machine a little by
running VMs, or being on a video conference, the do kick up, but even then I
have to put my ear right against the computer to hear anything. At it&amp;rsquo;s
loudest, the T470 is still a very quiet device.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Size &amp;amp; Portability&lt;/strong&gt; - I love the size and portability of this laptop. The
14&amp;rdquo; form factor is large enough that I don&amp;rsquo;t feel cramped when using it as a
stand-alone device, but still small enough that I can easily throw it in my
bag and bring it with me. While I wouldn&amp;rsquo;t mind the T470 shedding a &lt;em&gt;little&lt;/em&gt;
weight (which is mostly from the battery), I find it&amp;rsquo;s thickness perfectly
acceptable for my uses (hear that Apple?). As far as build quality, it is a
solid machine. When I rest my hands on it to type, they feel fully supported
and there is &lt;em&gt;zero&lt;/em&gt; flex. When holding the closed laptop, it feels as though
it could take quite a beating and still be fine. I love that.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Keyboard &amp;amp; Track-point/pad&lt;/strong&gt; - It&amp;rsquo;s a Thinkpad keyboard, what else do I have
to say? The keys are adequately spaced, have travel (though not as much as my
x230), and feel &lt;em&gt;crisp&lt;/em&gt; when pressed, not mushy. It has a track&lt;em&gt;point&lt;/em&gt; with
physical buttons, which at this point I don&amp;rsquo;t think I could do without (Crap.
Unintentional pun. Oh well, I&amp;rsquo;m leaving it.). While I don&amp;rsquo;t use it often, the
track&lt;em&gt;pad&lt;/em&gt; is also quite nice. I find it to be an ideal size, and has
rubberized texture which prevents my fingers from feeling raw after long use.
I find it hard these days for others laptops to compete with the Thinkpad&amp;rsquo;s
keyboard/track-point setup.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Dock-able&lt;/strong&gt; - I&amp;rsquo;ve already mentioned this above, but I love that the T470 is
dock-able. This is becoming more common with the pervasiveness of USB-C, but
Thinkpads have been in the dock game for years. It works well, and fits my
current computing use-case perfectly.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Thunderbolt/USB C&lt;/strong&gt; - The big difference between the T470 and the T460
essentially comes down to the Thunderbolt 3/USB-C port on the T470. I don&amp;rsquo;t
use it much &lt;em&gt;so far&lt;/em&gt;, but I hope the industry continues the move down the this
route, and I will be glad to already have the port as they do.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Battery(s)&lt;/strong&gt; - The battery configuration and life on this laptop is great.
The T470 can get a 3-cell battery that doesn&amp;rsquo;t stick out, or an extended
battery that comes in 6 and 9 cell variations (Note: the 6 and 9 cell are the
same size). The T470 also supports an internal 3 cell battery, that can be
used to keep the laptop powered on while the external battery is swapped. I
currently have the least optimal configuration: A bulky 6-cell external, with
no internal battery. Even so, it easily lasts me throughout the day, and I can
always upgrade it down the road. I love the flexibility.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;what-i-don-t-like&#34;&gt;What I don&amp;rsquo;t like&lt;/h2&gt;

&lt;p&gt;While I overall love the T470, there are a few things I&amp;rsquo;m not thrilled about.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;The Screen&lt;/strong&gt; - When I first got my laptop&amp;hellip; I thought the screen was
defective. I had read in reviews that it wasn&amp;rsquo;t very &lt;em&gt;bright&lt;/em&gt;, but the colors
were terrible. My screen always looked as if I was using something like
&lt;a href=&#34;https://justgetflux.com/&#34;&gt;f.lux&lt;/a&gt;. After doing some reading, it turns out that
IPS panels (which I had never owned before) can appear warmer in color. That
combined with the low brightness and &lt;em&gt;not great&lt;/em&gt; color accuracy of the T470
panel, made it appear particularly awful to me. I found and configured a &lt;a href=&#34;https://www.notebookcheck.net/uploads/tx_nbc2/N140HCA_EAB_01.icm&#34;&gt;ICC
file&lt;/a&gt; which
helped, but the biggest fix was time. As terrible as it was at first, I really
don&amp;rsquo;t mind the screen. Yea, it could be brighter with better colors, but now I
think it looks nice, and colors on top of black really pop.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Track-point&lt;/strong&gt; - I stated in the section above that the track-point was one of
the features I loved about this laptop. That is true&amp;hellip; but, if I &lt;em&gt;had&lt;/em&gt; to get
picky, the track-point itself is not that great. It&amp;rsquo;s hard to move around with
and it&amp;rsquo;s sensitivity differs depending on which direction it is traveling. At
times it can be a real pain. By contrast, my x230 is very stable and precise.
I wish the T470&amp;rsquo;s track-point was like the one on my x230&amp;rsquo;s.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Graphics&lt;/strong&gt; - I can&amp;rsquo;t complain too much here because I knew what I was
getting myself into, but&amp;hellip; the graphics performance isn&amp;rsquo;t the best. I know
&lt;em&gt;not&lt;/em&gt; having dedicated graphics is what allows the T470 to run cool and sip
power, but I wouldn&amp;rsquo;t mind a &lt;em&gt;little&lt;/em&gt; more umph. I don&amp;rsquo;t expect to do heavy
gaming on the T470. If I want to game, I am going to build a gaming computer.
However, I do wish I could play basic games a &lt;em&gt;little&lt;/em&gt; better in the meantime.
(&lt;em&gt;On the bright side&amp;hellip;with the thunderbolt 3 port&amp;hellip; an eGPU is a
possibility&amp;hellip;hmmm&amp;hellip;&lt;/em&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;future-plans&#34;&gt;Future Plans&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/my-t470/ram-upgrade.jpg&#34;&gt;&lt;img alt=&#34;T470 Ram Slot&#34; src=&#34;../../img/posts/my-t470/ram-upgrade.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;The empty RAM slot I hope to add a 16GB stick to&amp;hellip; if prices ever drop again&amp;hellip;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Overall, I have been very happy with the T470 as my main computer. I&amp;rsquo;d still
like to upgrade the RAM at some point, and I &lt;em&gt;have&lt;/em&gt; entertained the idea of
trying an eGPU setup&amp;hellip; I might &lt;em&gt;eventually&lt;/em&gt; build a new desktop, but even then,
I would likely have it headless, running VMs and connect to it remotely from the
T470 (except for occasional gaming). That being said, right now, the T470 is
working great as is!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Sold My Bonobo</title>
      <link>http://ryan.himmelwright.net/post/sold-my-bonobo/</link>
      <pubDate>Sun, 14 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/sold-my-bonobo/</guid>
      <description>&lt;p&gt;Last fall, I did something I didn&amp;rsquo;t think I would do anytime soon&amp;hellip;. I sold my
main workstation computer. Specifically, my System76 Bonobo Extreme laptop.
Several events over the last year have led me to the realization that my
&lt;em&gt;actual&lt;/em&gt; computing &lt;em&gt;needs&lt;/em&gt; are drastically different than what they were when I
purchased the Bonobo in early 2015. This post will highlight some of those
realizations, and why I ultimately decided to sell my Bonobo laptop.&lt;/p&gt;

&lt;h2 id=&#34;why-i-got-the-bonobo&#34;&gt;Why I got the Bonobo&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sold-bonobo/alakazam.jpg&#34;&gt;&lt;img alt=&#34;Bonobo Setup&#34; src=&#34;../../img/posts/sold-bonobo/alakazam.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Bonobo Workstation Setup&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;I bought my Bonobo laptop from &lt;a href=&#34;https://www.system76.com&#34;&gt;System76&lt;/a&gt; during my
first post-college year. I needed to replace my old workstation: an aging
desktop that I built before my High School graduation. While its i7-930 CPU,
6GB of RAM, NVIDIA GTX 260, and hodgepodge of hard drives (SSD and HHD) serverd
my needs throughout college, I was starting to feel restricted. After some
research, I came to the conclusion that it would be better to get a new system,
instead of trying to upgrade my old desktop. I wanted a new, powerful computer
that could easily run multiple VMs, play some video games, and compile
software/run models &lt;em&gt;fast&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;After a few months at my new job, I noticed I didn&amp;rsquo;t use a portable computer
as much. I went to work, used my work computer, and then came home to my
desktop. So portability wasn&amp;rsquo;t the &lt;em&gt;biggest&lt;/em&gt; concern when searching. That being
said, I still lived out of state from my family, and would leave for a week or
more at a time during hollidays or vacation. I wanted to still &lt;em&gt;be able&lt;/em&gt; to lug
my computer with me during family vists. I also liked to game &lt;em&gt;a little bit&lt;/em&gt;
when visiting with my brothers, or after work, so I added a dedicated GPU to the search criteria.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sold-bonobo/portable-setup.jpg&#34;&gt;&lt;img alt=&#34;Portable Bonobo Setup&#34; src=&#34;../../img/posts/sold-bonobo/portable-setup.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Portable Bonobo Setup&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;All of this pointed me towards desktop-replacement laptops. I wanted to support
a Linux-only vendoor, so I looked at System76. The Bonobo seemed comparable to
other laptops on the market, but being a System76 device, I felt more confident
all the hardware would play nicely with Linux. It was a big laptop, but my plan
was to use it mostly as a desktop computer, with the option to still travel with
it when I needed to go somewhere for more than just a day or two. Besides, I
liked that the case was larger, as I hoped it would help increase airflow
to help with heat management.&lt;/p&gt;

&lt;p&gt;I purchased the Bonobo, and it worked out very well for several years. It was a
very powerful computer (more than my old &lt;em&gt;desktop&lt;/em&gt;), but still portable &lt;em&gt;enough&lt;/em&gt;
for when I wanted to take it somewhere.&lt;/p&gt;

&lt;h2 id=&#34;the-modern-reality&#34;&gt;The Modern Reality&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sold-bonobo/side-view.jpg&#34;&gt;&lt;img alt=&#34;Bonobo Thickness&#34; src=&#34;../../img/posts/sold-bonobo/side-view.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div class=&#34;caption&#34;&gt;Bonobo Side View&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;As the years passed, my computing needs changed. On top of that, some of the
initial assumptions about my computer use turned out to not be entirely true.&lt;/p&gt;

&lt;h4 id=&#34;i-m-not-a-big-pc-gamer&#34;&gt;I&amp;rsquo;m Not a Big &lt;del&gt;PC&lt;/del&gt; Gamer.&lt;/h4&gt;

&lt;p&gt;For example, when my brothers and I would pull out our laptops to play games
together, the games we played were never highly demanding. Our top played games
were Minecraft, Serious Sam 3, Dungeon Defenders, and &lt;em&gt;maybe&lt;/em&gt; CS GO. Needless to
say, the Bonobo was a little overkill. Unfortunately, with my brothers and I all
living in different states now, we really don&amp;rsquo;t see each other in person enough
to play computer games in the same room anymore. These days, when we want to
remotely play video games together&amp;hellip; we play on the Xbox ONE (which I bought
mostly to keep in touch with my friends and family. I didn&amp;rsquo;t own one when I
purchased the Bonobo).&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sold-bonobo/xboxone.png&#34;&gt;&lt;img alt=&#34;xbox one&#34; src=&#34;../../img/posts/sold-bonobo/xboxone.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have enjoyed owning a computer that can handle most of games I throw at
it, but if I&amp;rsquo;m being honest&amp;hellip; I don&amp;rsquo;t play games too often. Even on the Xbox,
I go in bursts of playing once or twice a week, and then don&amp;rsquo;t touch a game for
months. While I wouldn&amp;rsquo;t mind having the ability to play more demanding games on
my computer, it isn&amp;rsquo;t a &lt;em&gt;requirement&lt;/em&gt; for me&amp;hellip; expecially on a laptop.&lt;/p&gt;

&lt;h4 id=&#34;i-travel-more-sometimes-on-airplanes&#34;&gt;I Travel More. Sometimes On Airplanes.&lt;/h4&gt;

&lt;p&gt;One change compared to when I originally bought my bonobo is that I travel more.
When I first moved to Massachusetts, I figured most of my traveling would be
from here back to Pennsylvania, or to vacation once a year. However, my
wife and I have managed to keep in touch with some of our old friends&amp;hellip; who
live all over the country. Plus, now that my brothers have moved out of
the house, they have started to spread out too (as already mentioned in the
section above). So, I travel more often. In particular, I fly more
frequently.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sold-bonobo/tsa.png&#34;&gt;&lt;img alt=&#34;TSA logo&#34; src=&#34;../../img/posts/sold-bonobo/tsa.png&#34; style=&#34;max-width: 80%;&#34;/&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To say it bluntly, the Bonobo sucks to travel with. It takes up the majority of
my bag, and most bags don&amp;rsquo;t even fit it. Besides the laptop size, TSA is often
freaked out by the MASSIVE power supply, and has had to re-scan my bag several
times, thinking I had a &amp;ldquo;bluetooth speaker&amp;rdquo; or something else I neglected to
tell them about (despite my polite warnings that &amp;ldquo;my laptop&amp;rsquo;s power charger is
massive&amp;rdquo;). Beyond security, It isn&amp;rsquo;t a computer I can pull out of my bag
and easily use in an airport terminal. In fact, the last time I flew with it, I
tried to work on it at table, but couldn&amp;rsquo; because the power
outlet didn&amp;rsquo;t supply enough juice to charge the laptop. So, I was
forced to switch to my phone for entertainment while waiting several hours
for my flight, despite having a massive gaming laptop in my bag.&lt;/p&gt;

&lt;h4 id=&#34;it-turns-out-i-m-noise-picky&#34;&gt;It turns out I&amp;rsquo;m noise picky.&lt;/h4&gt;

&lt;p&gt;When building or purchasing a computer, something to consider is noise. With my
previous machines, I didn&amp;rsquo;t worry about it. I&amp;rsquo;d joke to myself, &amp;ldquo;Noise? Why
should I be concerned about that? I&amp;rsquo;m not building a recording studio&amp;rdquo;! After
several years of focusing on how I &lt;em&gt;actually&lt;/em&gt; use my computing devices, I&amp;rsquo;ve
noticed that I am very picky with noise, and on a related note, heat. Every time
I hear the fans kick up, I start to worry that I am over-taxing the system and
start to monitor the biggest culprits. When running taxing processes, I watch
the cpu temps and hate seeing them high.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;a href=&#34;../../img/posts/sold-bonobo/temps.jpg&#34;&gt;&lt;img alt=&#34;Temp Sensors&#34; src=&#34;../../img/posts/sold-bonobo/temps.jpg&#34; style=&#34;max-width: 80%;&#34;/&gt;&lt;/a&gt;
&lt;/center&gt;
&lt;div class=&#34;caption&#34;&gt;Parallel Compression on the Bonobo Spiked the Temps&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;I hoped the extra &lt;em&gt;thickness&lt;/em&gt; of the Bonobo would help with any heating issues.
While it might have a little bit, when you shove a decent GPU into a laptop&amp;hellip;
it&amp;rsquo;s going to give off heat. Additionally, when using a powerful CPU to it&amp;rsquo;s
full potential, it is very difficult for a laptop to compete with a
desktop-level cooling system. The Bonobo is a very powerful laptop, but the loud
fans prevented me from actually &lt;em&gt;using&lt;/em&gt; it to its full potential, because I
would immediately start shutting down processes when the noise kicked up. I know
the fans spin up to &lt;em&gt;help&lt;/em&gt; with thermals, the Bonobo was just a tad to hot and
loud for my taste.&lt;/p&gt;

&lt;h4 id=&#34;a-desktop-replacement&#34;&gt;A Desktop Replacement?&lt;/h4&gt;

&lt;p&gt;My issues with the Bonobo boiled down to the fact that based on &lt;em&gt;my current
computing use-case&lt;/em&gt;, the Bonobo functioned less as a
&lt;em&gt;desktop-replacement-laptop&lt;/em&gt;, and more of just a &lt;em&gt;shitty, somewhat portable,
desktop&lt;/em&gt;. Most of the time, I am just browsing or writing code on the machine in
front of me. If I need more power, I connect remotely to a bigger, better,
computer. I also never game &amp;ldquo;on the go&amp;rdquo;, so if I want to have a computer for
gaming, it makes much more sense to eventually have a half-decent desktop (or
invest in an eGPU), which will fit my needs much better that even high-end
gaming laptops.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/sold-bonobo/power-cord.jpg&#34;&gt;&lt;img alt=&#34;Bonobo Power Cord&#34; src=&#34;../../img/posts/sold-bonobo/power-cord.jpg&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;div&gt;The power cord alone made it difficult to pick up the Bonobo and move it elsewhere&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;The Bonobo is great if you sit it on a desk and use it as your full computer. I
did not. I have a ton of periphery devices, and started to even use it in
clam-shell mode, making the nice 17&amp;rdquo; screen a waste. Additionally, I hated
having to unplug and re-plug all the devices when I wanted to move the computer.
&lt;em&gt;In theory&lt;/em&gt;, I could move the Bonobo from my desk into the other room and work
with my wife at the kitchen table whenever we wanted, but I &lt;em&gt;rarely&lt;/em&gt; did.
Unplugging all my devices and fishing the massive power cable out from behind my
desk (because the battery life is &amp;hellip; yea, I don&amp;rsquo;t think I need to explain
this), was usually enough to prompt me to treat the Bonobo as a desktop, rather
than a laptop.&lt;/p&gt;

&lt;h2 id=&#34;recent-discoveries-my-new-plan&#34;&gt;Recent Discoveries &amp;amp; My New Plan&lt;/h2&gt;

&lt;p&gt;A while back, I bought a &lt;a href=&#34;../../post/my-new-used-x230/&#34;&gt;used x230 Thinkpad&lt;/a&gt;. Last
summer, I finally purchased a &lt;a href=&#34;https://www.ebay.com/itm/Lenovo-Thinkpad-Mini-Docking-Station-Series-3-USB-3-0-T410-L420-L520-X230-T530/272238176342?epid=562055390&amp;amp;hash=item3f62a8e856:g:PbIAAOSw2x1XMPHU:sc:USPSPriority!02703!US!-1&#34;&gt;used docking
station&lt;/a&gt;
for it, so I could try out a docked setup. I loved it. It matched my needs
exceptionally. I was able to have &lt;em&gt;all&lt;/em&gt; of my periphery devices attached to the
dock and thus, the x230, but with the push of a button I could detach the laptop be
on my way. The setup worked so well in fact, that I started to use my x230 as my
desk computer, and would remote to my Bonobo on the other side of the room when
I needed it. At that point, I realized I might want to switch things up.&lt;/p&gt;

&lt;p&gt;I want to conclude by again stating that my System76 Bonobo Extreme was &lt;em&gt;not&lt;/em&gt; a
bad machine. It is great when used as a standalone, semi-portable computer. I
didn&amp;rsquo;t use it that way, and as a result, it just wasn&amp;rsquo;t for me anymore. I
learned that a quite, cool, portable, but dockable, laptop is ideal for my main
device &lt;em&gt;right now&lt;/em&gt;, even if it isn&amp;rsquo;t as powerful. Unfortunately, System76
doesn&amp;rsquo;t offer such a machine at this time. So, my plan is to replace the Bonobo
with newer thinkpad + dock combination. Hopefully that combination will give me
a nice dock setup that I have grown to appreciate and love.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Simple Reverse SSH Tunnels</title>
      <link>http://ryan.himmelwright.net/post/simple-reverse-ssh-tunnel/</link>
      <pubDate>Sat, 26 Aug 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/simple-reverse-ssh-tunnel/</guid>
      <description>

&lt;p&gt;Reverse SSH tunnels are &lt;em&gt;very&lt;/em&gt; useful and simple to setup, but can be a bit
 tricky to figure out at first. So, here&amp;rsquo;s a brief and simple guide on how to
 easily create reverse tunnels.&lt;/p&gt;

&lt;hr /&gt;

&lt;!--more --&gt;

&lt;h3 id=&#34;ssh-tunnels&#34;&gt;SSH Tunnels&lt;/h3&gt;

&lt;p&gt;A secured shell (SSH) tunnel is an encrypted tunnel, created with a connection using the ssh protocol. It can be thought of as a pipe between two computers that data travels through. Being encrypted, people outside the pipe can only see that data packages are traveling through it, but cannot read the actual contents of the package. SSH tunnels are used to securely connect between devices, as well as forward ports between devices. For example, if I am working on a website hosted on port 3000 of my internally networked laptop, I can use a ssh tunnel to forward that port to one on a public server so that friends can view the website.&lt;/p&gt;

&lt;h3 id=&#34;reverse-tunnels&#34;&gt;Reverse Tunnels&lt;/h3&gt;

&lt;p&gt;Reverse tunnels are just like normal ssh tunnels except&amp;hellip; well&amp;hellip; in reverse. This means that I can connect to a remote computer, and have &lt;em&gt;its&lt;/em&gt; port tunneled to &lt;em&gt;me&lt;/em&gt;, which can be very handy. This is largely used for one particular usecase: providing easy, temporarily, ssh access to computers behind a network and/or firewall.&lt;/p&gt;

&lt;p&gt;To make all of this (hopefully) easier to understand, I have drafted up a few diagrams. For the example, lets say I am away and my wife wants me to fix something on her laptop. Unless I have her &lt;em&gt;properly&lt;/em&gt; configure the router to forward ssh traffic to her laptop, I normally cannot do this. Additionally, she might be at a friends house, office, or other public place where there is no access to the router controls (well, she &lt;em&gt;shouldn&amp;rsquo;t&lt;/em&gt;). So, her laptop doesn&amp;rsquo;t have a direct public IP address, but our server &lt;em&gt;does&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/simple-reverse-ssh-tunnel/network-diagram.png&#34;&gt;&lt;img alt=&#34;Computer behind firewall&#34; src=&#34;../../img/posts/simple-reverse-ssh-tunnel/network-diagram.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;a&gt;
&lt;em&gt;Two computers (at least one without a direct public IP), both with access to a cloud server with a public IP&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Because my wife can connect to the public cloud server, she can initiate a reverse tunnel from her laptop, with the server. The tunnel directly connects the server to her laptop.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/simple-reverse-ssh-tunnel/ssh-tunnel.png&#34;&gt;&lt;img alt=&#34;Computer behind firewall&#34; src=&#34;../../img/posts/simple-reverse-ssh-tunnel/ssh-tunnel.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;em&gt;The laptop computer creates a reverse ssh tunnel to the cloud server.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;On my end, I first ssh to the server from my computer. Once the tunnel is started, I can then ssh again to a specified local port on the server, and it will tunnel me directly to her laptop. This will give me a command prompt as if I was sitting with an open terminal at her computer.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;../../img/posts/simple-reverse-ssh-tunnel/connect-through-tunnel.png&#34;&gt;&lt;img alt=&#34;Computer behind firewall&#34; src=&#34;../../img/posts/simple-reverse-ssh-tunnel/connect-through-tunnel.png&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/a&gt;
&lt;em&gt;With the reverse tunnel setup, the first computer can ssh to the second via the cloud server and tunnel connection.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;When I am done working, my wife can close the tunnel, and I will no longer be able to access her computer.&lt;/p&gt;

&lt;h3 id=&#34;creating-the-reverse-tunnel&#34;&gt;Creating The Reverse Tunnel&lt;/h3&gt;

&lt;p&gt;SSH tunnels can be initiated on linux easily from the command line (assuming ssh is setup and properly configured). To create a reverse tunnel, use the &lt;code&gt;-R&lt;/code&gt; flag. After the flag, provide what I call the &amp;ldquo;path&amp;rdquo; of the tunnel. So, the server&amp;rsquo;s port where the tunnel will be found, the host of that port (I almost always use &lt;code&gt;localhost&lt;/code&gt;), and the port to be tunneled. Lastly, make sure to specify the &lt;em&gt;IP&lt;/em&gt; or &lt;em&gt;hostname&lt;/em&gt; of the remote computer just like in a typical plain &lt;code&gt;ssh hostname&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh -R remote-port:localhost:local-port host&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh -R 19999:localhost:22 meowth&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;connecting&#34;&gt;Connecting&lt;/h3&gt;

&lt;p&gt;After setting up the tunnel, the initializing computer can be accessed &lt;em&gt;from the server&lt;/em&gt; by ssh&amp;rsquo;ing to the &lt;em&gt;remote-port&lt;/em&gt; of &lt;em&gt;localhost&lt;/em&gt; (defined above):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh -p 19999 localhost&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This should start an ssh session to the initializing computer. In my example, this is the laptop.&lt;/p&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;SSH tunnels are a fascinating and useful piece of technology. The ssh protocol makes modern computing much more secure, and easier to manage multiple computers. That&amp;rsquo;s &lt;em&gt;reverse&lt;/em&gt; tunnels in a nutshell. Have fun tunneling!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Encountered Issues Setting Up Ubiquiti Network</title>
      <link>http://ryan.himmelwright.net/post/issues-setting-up-ubiquiti-network/</link>
      <pubDate>Thu, 29 Jun 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/issues-setting-up-ubiquiti-network/</guid>
      <description>&lt;p&gt;This past weekend, I setup my new ubiquiti network. It actually took up a good
portion of Sunday, because I ran into a few minor issues.
Fortunately/Unfortunately, these issues were mostly because it my first time
configuring this type of setup, and there was a lot of trial and error. The basic
network is now all configured and has been running great. It was a good day and I
learned a lot :). In fact, I am confident that if I had to start over from
scratch, the process would take me about 10-15 minutes. Just to be sure, I&amp;rsquo;m
 going to quickly jot down the major pain points I experienced my first time around.&lt;/p&gt;

&lt;h2 id=&#34;trouble-connecting-to-the-edgerouter-x-for-initial-setup&#34;&gt;Trouble Connecting to the EdgeRouter-x for Initial Setup&lt;/h2&gt;

&lt;p&gt;&lt;center&gt;
&lt;img alt=&#34;During initial setup, I was connecting the router wrong&#34; src=&#34;../../img/posts/ubiquiti-setup-issues/wrong-router-connection.png&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;/center&gt;
&lt;em&gt;During initial setup, I was connecting the router wrong&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The edgerouter needed to be directly connected to a computer during its initial
setup, to make the EdgeOS configuration wizard accessible. The
instructions clearly stated to connect an ethernet cable from my laptop to the
&lt;code&gt;eth0/POE&lt;/code&gt; port on the edgerouter, but I guess I didn&amp;rsquo;t believe them.&lt;/p&gt;

&lt;p&gt;Instead, I plugged the ethernet cable from my modem into &lt;code&gt;eth0&lt;/code&gt;, and my computer
to &lt;code&gt;eth1&lt;/code&gt;. That didn&amp;rsquo;t work. However, once I &lt;em&gt;properly&lt;/em&gt; connected the devices (and
manually set a static IP on my laptop, &lt;code&gt;192.168.1.2&lt;/code&gt; for example), I was able to access
the configuration page in my browser via &lt;code&gt;https://192.168.1.1&lt;/code&gt; (don&amp;rsquo;t forget
the &lt;em&gt;s&lt;/em&gt; in &lt;em&gt;https&lt;/em&gt;). Lesson Learned: manuals are (&lt;em&gt;usually&lt;/em&gt;) not out to get you.&lt;/p&gt;

&lt;h2 id=&#34;setting-up-poe-and-connecting-the-ap&#34;&gt;Setting up POE and Connecting the AP&lt;/h2&gt;

&lt;p&gt;This was not actually an issue I encountered, but rather a confusion. I was unsure what the best setup for
the &lt;a href=&#34;https://en.wikipedia.org/wiki/Power_over_Ethernet&#34;&gt;POE&lt;/a&gt; hardware was. At
first, I had the POE adaptor connected between the edgerouter and the AP,
because I wasn&amp;rsquo;t sure if it could optimally power both devices. I found
an
&lt;a href=&#34;https://www.youtube.com/watch?v=f7FeYsJqotc&amp;amp;list=PLDBkup9c8YMgZaE50hAjP7rbbVriTlyQf&amp;amp;index=1&#34;&gt;informative guide&lt;/a&gt; that
indicated that the POE adaptor could indeed power both.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-scheme&#34; data-lang=&#34;scheme&#34;&gt;Modem  --
        |
         --&amp;gt; POE Adaptor --&amp;gt; (&lt;span style=&#34;color:#a6e22e&#34;&gt;*eth0*&lt;/span&gt;)  edgerouter-x  (&lt;span style=&#34;color:#a6e22e&#34;&gt;*eth4*&lt;/span&gt;) --&amp;gt; AP Lite
        |
Power  --&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Digram describing the correct link up&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Once I swapped the cables all around, I had to go into the router
configuration and enable the POE for &lt;code&gt;eth4&lt;/code&gt;. Afterwards, the AP lit up,
indicating that it was connected and powered.&lt;/p&gt;

&lt;h2 id=&#34;issues-linking-configuring-the-ap&#34;&gt;Issues linking/configuring the AP&lt;/h2&gt;

&lt;p&gt;This was the problem I spent the most time on. I had to install the
configuration software for the Ubiquiti access point, but the &amp;ldquo;Linux binary&amp;rdquo; was
a .deb, and I didn&amp;rsquo;t feel like extracting the contents of the package so that I
could install it on Solus (yet). So instead, I spun up a few Ubuntu VMs to try
it out, but I over-looked the fact that VMs on my laptop use a
different subnet (192.168.&lt;strong&gt;122&lt;/strong&gt;. *) for the virtual network. I had hoped that
because the VM&amp;rsquo;s network was routed through my laptop, which was connected
directly to the edgerouter, it would still be able to see the access point.
Regardless&amp;hellip; the AP couldn&amp;rsquo;t see the VM and vice versa. Finally, I admitted
that the issues were most likely caused by the 192.168.122.* IP address that the VM was
assigned.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img alt=&#34;During initial setup, I was connecting the router wrong&#34; src=&#34;../../img/posts/ubiquiti-setup-issues/ubuntu.png&#34; width=&#34;45%&#34;&gt;
&lt;img alt=&#34;During initial setup, I was connecting the router wrong&#34; src=&#34;../../img/posts/ubiquiti-setup-issues/venomoth.png&#34; width=&#34;35%&#34;&gt;
&lt;/center&gt;
&lt;em&gt;I spun up a new Ubuntu VM (Venomoth) to host the Ubifi controller&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;By this point, I had also learned that the Linux software is more of a server
service, and not a GUI desktop application. So, I concluded that spinning up a
dedicated VM on my server to host the wifi controller was worth it. Virtual
machines hosted on my server automatically get configured on the main
subnet, so it also resolved my issue. I was able to detect and configure the
access point immediately. This setup made more sense anyway, as I can always
connect to the AP controller by going to the VM&amp;rsquo;s IP on my browser,  just like I
can with my router.&lt;/p&gt;

&lt;p&gt;Well, that was all of my setup &amp;ldquo;&lt;em&gt;issues&lt;/em&gt;&amp;rdquo;. There was nothing I would consider to
be an actual &lt;em&gt;issue&lt;/em&gt;, just some confusions of an Ubiquiti/POE first-timer. Like
I stated earlier, I am sure I could redo the setup in about 15 minutes without any
issues&amp;hellip; 10 now that I recorded everything in the post!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Home Network Ubiquiti Upgrade</title>
      <link>http://ryan.himmelwright.net/post/upgrading-network-to-ubiquiti/</link>
      <pubDate>Mon, 26 Jun 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/upgrading-network-to-ubiquiti/</guid>
      <description>&lt;p&gt;A few weeks ago, I went back to Pennsylvania for a week to attend my college swim
team reunion, and my brother&amp;rsquo;s high school graduation. While I was away, the
wifi-router Rebecca and I were using decided to die (of course). When I returned, I
setup our old router as a &lt;em&gt;temporary&lt;/em&gt; fix. It was terrible. So, I began
researching how I should upgrade our network. This time around, I am doing this
&lt;em&gt;correctly&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;../../img/posts/upgrading-to-ubiquiti-edgerouter/linksys-WRT1900.png&#34;
width= 45%&gt;
&lt;img src=&#34;../../img/posts/upgrading-to-ubiquiti-edgerouter/linksys-E1200.png&#34;
width= 45%&gt;
&lt;/center&gt;
&lt;em&gt;The Linksys WRT-1900 that died (left), and the terrible backup Linksys E1200 (right)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The router that died was a Linksys WRT 1900. When I got home, I setup our old
router as a temporary fix. It&amp;rsquo;s a very basic Linksys E1200. After using it for
just a few hours, I remembered why I hated it so much. It is slower than a
snail, and seems to stop working each day or so, requiring me to unplug and
re-plug it daily (I think it is something with DHCP. It keeps trying to reassign
IPs to devices, and then doesn&amp;rsquo;t seem to understand how to accept their requests
afterwards). Thus, the more &lt;em&gt;temporary&lt;/em&gt; this solution was, the better.&lt;/p&gt;

&lt;p&gt;If I am redoing our network setup, I want to do it &lt;em&gt;properly&lt;/em&gt; this time,
splitting out the router from the wireless access point using &lt;em&gt;good&lt;/em&gt; hardware and
software. My plan is to get an ubiquity edge-router-x, and pair it with an Ubiquiti
wireless access point.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;../../img/posts/upgrading-to-ubiquiti-edgerouter/edgerouter-x.png&#34;
alt=&#34;Ubiquity Edgerouter-x&#34; width=&#34;45%&#34;&gt;
&lt;img src=&#34;../../img/posts/upgrading-to-ubiquiti-edgerouter/ap-ac-lite.png&#34; alt=&#34;Ubiquity Access Point Lite&#34; width=&#34;45%&#34;&gt;
&lt;/center&gt;
&lt;em&gt;The EdgeRouter-x (right) and an Ubiquity access point lite (right)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Originally I wanted to build a small pfsense box to use as a router, but after
digging a little deeper and doing some research, I saw that the EdgeRouter would
more than meet my needs and is a great start to a network upgrade. Additionally,
at $50 (USD), it truly is a great deal. As for the wireless access point, I was
always considering an UniFi device, and I thought the EdgeRouter should
pair rather seamlessly, considering both products are made by Ubiquiti.&lt;/p&gt;

&lt;p&gt;From what I read, the EdgeRouter is a great router with an okay firewall, while
pfsense is an amazing firewall that can do routing. So, if I want to dig more
into pfsense in the future, I can still set up a firewall box, and connect it in front of
the router.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Modem --&amp;gt; pfsense --&amp;gt; EdgeRouter-x -&amp;gt; devices&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So&amp;hellip; I think I&amp;rsquo;ve finalized my decision and will purchase the items soon. I
will update when I get them.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Update (06/24/2017): I have followed through with this
purchase, and the items arrived from Amazon. Expect a post or two about my
experience setting them up (and yes, I added this update before actually
publishing this post)&lt;/em&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Updating the Pi Cluster with Ansible</title>
      <link>http://ryan.himmelwright.net/post/updating-pi-cluster-with-ansible/</link>
      <pubDate>Thu, 25 May 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/updating-pi-cluster-with-ansible/</guid>
      <description>

&lt;p&gt;With Ansible configured on the Pi cluster, it is time to have it do something useful. When working with a clustered system, even the simplest tasks become tedious and time consuming. For example, updating the system. While I could manually update each of the 3 pi nodes, it is not scalable to 10 or 30 nodes, let alone hundreds or thousands. Tools like Ansible, make doing tasks such a supdating clustered systems, trivial again. In this post, I will walk through setting up an Ansible playbook to update my Pi cluster.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h3 id=&#34;hosts-file&#34;&gt;Hosts File&lt;/h3&gt;

&lt;p&gt;The first task when using Ansible is to setup the &lt;code&gt;hosts&lt;/code&gt; file. No, not the normal &lt;code&gt;/etc/hosts&lt;/code&gt; file, but the &lt;em&gt;other&lt;/em&gt; one &lt;em&gt;just&lt;/em&gt; for Ansible, which can be found at &lt;code&gt;/etc/ansible/hosts&lt;/code&gt;. Configuring the Ansible hosts file is fairly straightforward. Groups of computers are defined using &lt;code&gt;[brackets]&lt;/code&gt;, with computer ip/hostnames of the group are listed below. For example:&lt;/p&gt;

&lt;p&gt;A nice feature of group definitions is that hierical structures can be constructed using the &lt;code&gt;:child&lt;/code&gt; suffix in order to create groups of groups. For example, for my &lt;a href=&#34;../../pages/homelab&#34;&gt;homelab&lt;/a&gt;, I like to make an ansible hosts file that splits out my servers based on their distribution, and then group those by their packaging type. This makes it easier for me to do generic updates, which is what I mostly use ansible for (at this point). So, for example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[ubuntu]
mrmime
geodude

[debian]
ninetales

[fedora]
fedora-test

[centos]
tangels

[arch]
meowth
staryu
diglet

[deb:children]
ubuntu
debian

[rpm:children]
fedora
centos&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For use with the cluster, I kept it simple, although I did opt to create rpi/bpi subgroups:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[cluster:children]
rpis
bpis

[rpis]
pi0
pi1

[bpis]
bpi&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ping-hosts&#34;&gt;Ping Hosts&lt;/h3&gt;

&lt;p&gt;Once the hosts file is setup, it can be tested using the &lt;code&gt;ping&lt;/code&gt; module. I tested my &lt;code&gt;cluser&lt;/code&gt; group, as well as the &lt;code&gt;rpis&lt;/code&gt; and &lt;code&gt;bpis&lt;/code&gt; subgroups.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ansible rpis -m ping
ansible bpis -m ping
ansible cluster -m ping&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Assuming the steps of &lt;a href=&#34;../../post/Ansible-On-Pi-Cluster&#34;&gt;the last post&lt;/a&gt; were done correctly, this should work. If not, double check that post and make sure everything looks correct.&lt;/p&gt;

&lt;h3 id=&#34;playbooks&#34;&gt;Playbooks&lt;/h3&gt;

&lt;p&gt;After confirming that the hosts file is properly configured, I started to dig into playbooks. Playbooks are Ansible&amp;rsquo;s scripting system used to configure, deploy, and orcistrate systems. They can describe ways in which systems should be configured (ex: enable ssh), or outline a set of steps for an IT task (ex: running updates, restarting a server). As stated in the &lt;a href=&#34;https://docs.ansible.com/ansible/playbooks.html&#34;&gt;playbook documentation&lt;/a&gt;:&lt;/p&gt;

&lt;div id=&#34;post-quote&#34;&gt;
*&#34;If Ansible modules are the tools in your workshop, playbooks are your instruction manuals, and your inventory of hosts are your raw material.&#34;*
&lt;/div&gt;

&lt;p&gt;Playbook files are expressed using &lt;a href=&#34;https://docs.ansible.com/ansible/YAMLSyntax.html&#34;&gt;YAML syntax&lt;/a&gt;, which is easy to read, but still powerful. The first step when creating a new playbook, being a YAML file, is to set the header and footer. The header consists of three &lt;code&gt;-&lt;/code&gt;&amp;rsquo;s at the top of the file, and the footer ends the file with three periods (&lt;code&gt;.&lt;/code&gt;). This indicates the start and end of the document.&lt;/p&gt;

&lt;p&gt;When writing a playbook to update the pi cluster, I first needed to declare what systems the playbook is used with. To do that, I used the &lt;code&gt;hosts&lt;/code&gt; key, and provided it with the &lt;code&gt;cluster&lt;/code&gt; group name, which is defined in my &lt;code&gt;/etc/ansible/hosts&lt;/code&gt; file, as the value.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
- hosts: cluster

...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After the hosts are defined, modules can be added to update the nodes. To list the tasks, I used the &lt;code&gt;taks:&lt;/code&gt; key, with the same indentation as the &lt;code&gt;hosts:&lt;/code&gt; keyword. Instead of using a single value, I provided the &lt;code&gt;tasks:&lt;/code&gt; keyword with a list of things to do. The first task I want to do when updating the nodes is to check that they running and connected. This can be accomplised with the &lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/ping_module.html&#34;&gt;ping module&lt;/a&gt; that I used earlier in the post. The ping module will try to connect to each node, verify that a usable python is installed, and return &lt;code&gt;pong&lt;/code&gt; upon success. To add the module, I added &lt;code&gt;- ping: ~&lt;/code&gt;, indented, to the line below &lt;code&gt;tasks:&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
- hosts: cluster

  tasks:
    - ping: ~&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;apt-module&#34;&gt;Apt Module&lt;/h3&gt;

&lt;p&gt;After defining the ping module, I started to get a bit fancier. Well&amp;hellip; a little bit fancier. Each node in my pi cluster is running some verison of Ubuntu, which uses apt as it&amp;rsquo;s package manager. If I wanted to ssh into each node and update them manually, the steps I would follow would be to 1) run the command &lt;code&gt;sudo apt-get update&lt;/code&gt; to update the repository cache, and 2) run &lt;code&gt;sudo apt-get upgrade&lt;/code&gt; to actually install the updates. To recreate these commands in the playbook, I used the &lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/apt_module.html&#34;&gt;apt module&lt;/a&gt;. To start with updating the repository cache, I added the following lines to my playbook:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- name: Update APT package manager repositories cache
  become: true
  apt:
    update_cache: yes&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;name:&lt;/code&gt; defines the name of the task, and is the text printed out to the console when executing this step of the playbook. Setting the &lt;a href=&#34;https://docs.ansible.com/ansible/become.html&#34;&gt;&lt;code&gt;become&lt;/code&gt;&lt;/a&gt; key to &lt;code&gt;true&lt;/code&gt; tells Ansible to run the command with privilege escalation (sudo). Lastly, the remaining two lines run the &lt;code&gt;update_cache:&lt;/code&gt; functionality of the apt module.&lt;/p&gt;

&lt;p&gt;With the repositories updated on each node, I can have ansible run the updates by adding the following lines to the playbook (after the cache update ones):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- name: Upgrade installed packages
  become: true
  apt:
    upgrade: dist&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This set of commands is very similar to the last group. The &lt;code&gt;name:&lt;/code&gt; again provides a description of what the task is doing, and privilege escalation is used again via &lt;code&gt;become: true&lt;/code&gt;. The only difference is that the apt module is using the &lt;code&gt;upgrade: dist&lt;/code&gt; command instead. This will run the updates for any installed packages on the system.&lt;/p&gt;

&lt;h3 id=&#34;update-cluster-playbook&#34;&gt;Update Cluster Playbook&lt;/h3&gt;

&lt;p&gt;I then had a completed playbook to update the pi cluster:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
- hosts: cluster

  tasks:
    - ping: ~

    - name: Update APT package manager repositories cache
      become: true
      apt:
        update_cache: yes

    - name: Upgrade installed packages
      become: true
      apt:
        upgrade: dist
...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The last step is to test it out! Playbooks can be executed using the &lt;code&gt;ansible-playbook&lt;/code&gt; command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ansible-playbook update-cluster.yml&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When running the playbook, ansible will first attempt to gather facts about each node, and then begin to run each of the tasks defined in the playbook. At each step, it will print out the &lt;code&gt;name&lt;/code&gt; of each task, followed by the status/result for each node. When it completes, all the nodes in the cluster should be updated. Now you can update three+ computers with a single command! Enjoy!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Configuring Ansible on the Pi Cluster</title>
      <link>http://ryan.himmelwright.net/post/ansible-on-pi-cluster/</link>
      <pubDate>Sun, 21 May 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/ansible-on-pi-cluster/</guid>
      <description>&lt;p&gt;In my &lt;a href=&#34;../../post/Setting-up-the-pi-cluster/&#34;&gt;previous post&lt;/a&gt;, I pieced together my &lt;a href=&#34;../../pages/homelab/#cluster&#34;&gt;pi cluster&lt;/a&gt;, and installed variations of Ubuntu 16.04 Server on each of its nodes. With the cluster built, I quickly needed an easy way to maintain and interact with the system as a whole. This, is where &lt;a href=&#34;https://www.ansible.com/&#34;&gt;Ansible&lt;/a&gt; comes in. In this post, I will walk through the steps I took to setup Ansible on my Cluster.&lt;/p&gt;

&lt;h2 id=&#34;ansible&#34;&gt;Ansible&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;../../img/posts/setting-up-ansible-pi-cluster/ansible-logo.png&#34; style=&#34;max-width: 50%; width: 150px; float: left; margin: 0px 15px 5px 5px;&#34;/&gt;&lt;/p&gt;

&lt;p&gt;Ansible is an open source, configuration management and automation system. It is written in Python, and financially backed by &lt;a href=&#34;http://www.redhat.com&#34;&gt;Red Hat&lt;/a&gt;. It simplifies the management of groups of computers, through the use of modules (standalone units of work. for example, apt, ping, rpm, etc). Ansible is script-able using simple YAML files, known as playbooks, that define a set of orchestration tasks for one or many computers. These scripts can be edited and version controlled, creating a simple &lt;a href=&#34;https://en.wikipedia.org/wiki/Infrastructure_as_Code&#34;&gt;infrastructure as code&lt;/a&gt; setup.&lt;/p&gt;

&lt;h2 id=&#34;setting-up-the-user-account&#34;&gt;Setting up the User Account&lt;/h2&gt;

&lt;p&gt;When Ansible executes commands on the PIs, it will do so from the user-account (ryan) that I setup in the last post. However, many of these commands will require Root privledges. While I previously setup sudo and added the &lt;code&gt;ryan&lt;/code&gt; account to the &lt;code&gt;sudo&lt;/code&gt; group &amp;hellip; it required that I manually enter my password. Ansible did not like this, so I had to update the sudo configuration to allow the &lt;code&gt;ryan&lt;/code&gt; account to run &lt;code&gt;sudo&lt;/code&gt; commands with out a password. To do this, I opened the &lt;code&gt;sudoers&lt;/code&gt; file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo visudo&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and added the following line to the end of the file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ryan  ALL=(ALL:ALL) NOPASSWD: ALL&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I repeated this on each of the nodes, and afterwards was no longer promted for a password when running &lt;code&gt;sudo&lt;/code&gt; commands. This made Ansible happy.&lt;/p&gt;

&lt;p&gt;&lt;a name=&#34;ssh&#34;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;setup-ssh-keys&#34;&gt;Setup SSH Keys&lt;/h2&gt;

&lt;p&gt;Well&amp;hellip; &lt;em&gt;almost&lt;/em&gt; happy.&lt;/p&gt;

&lt;p&gt;Ansible&amp;rsquo;s main method of communication is via ssh, which by default, prompts me for a password when connecting. Ansible &lt;em&gt;really&lt;/em&gt; hates passwords. So, I had to configure ssh to use keys instead. Honestly, this is proabaly a good step to do regardless, now that the &lt;code&gt;ryan&lt;/code&gt; account no longer uses a password when running &lt;code&gt;sudo&lt;/code&gt;. To setup key-based logins, I appended the contents of my &lt;a href=&#34;../../pages/homelab/#alakazam&#34;&gt;main computer&lt;/a&gt;&amp;rsquo;s ssh public key*, to each pi&amp;rsquo;s &lt;code&gt;authorized_keys&lt;/code&gt; file. This can all be done using a magic one-line pipe command (x3, one for each pi):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat ~/.ssh/id_rsa.pub | ssh pi0 &amp;#34;cat &amp;gt;&amp;gt; ~/.ssh/authorized_keys&amp;#34;
cat ~/.ssh/id_rsa.pub | ssh pi1 &amp;#34;cat &amp;gt;&amp;gt; ~/.ssh/authorized_keys&amp;#34;
cat ~/.ssh/id_rsa.pub | ssh bpi &amp;#34;cat &amp;gt;&amp;gt; ~/.ssh/authorized_keys&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;*Note: If keys are not already generated, they can be created using the command:&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ssh-keygen&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;key-only-login&#34;&gt;Key Only Login&lt;/h4&gt;

&lt;p&gt;To help secure access to the PIs (and to get on Ansible&amp;rsquo;s good side), I configured sshd to disable password logins, and only allow connections from clients with approved keys. To disable password authentication, I opened the &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt; file, found the line containing &lt;code&gt;# PasswordAuthentication yes&lt;/code&gt;, changed the &lt;code&gt;yes&lt;/code&gt; to a &lt;code&gt;no&lt;/code&gt;, and unncommented it by removing the &lt;code&gt;#&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;While I was in the &lt;code&gt;sshd_config&lt;/code&gt; file, I also set &lt;code&gt;PermitRootLogin&lt;/code&gt; to &lt;code&gt;no&lt;/code&gt;, for good measure.&lt;/p&gt;

&lt;p&gt;Lastly, I reset the &lt;code&gt;sshd&lt;/code&gt; service and repeated the steps for each pi:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo systemctl restart sshd&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Afterwards, I was unable to login to the PIs from a computer with unauthorized ssh keys.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../../img/posts/setting-up-ansible-pi-cluster/terminal-play.png&#34; name=&#34;pic&#34; onmouseover=&#34;this.src=&#39;../../img/posts/setting-up-ansible-pi-cluster/blocked-ssh-attempt.gif&#39;&#34; onmouseout=&#34;this.src=&#39;../../img/posts/setting-up-ansible-pi-cluster/terminal-play.png&#39;&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/p&gt;

&lt;p&gt;But, I was still able to loging from the authorized computer.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;../../img/posts/setting-up-ansible-pi-cluster/terminal-play.png&#34; name=&#34;pic&#34; onmouseover=&#34;this.src=&#39;../../img/posts/setting-up-ansible-pi-cluster/accepted-ssh-attempt.gif&#39;&#34; onmouseout=&#34;this.src=&#39;../../img/posts/setting-up-ansible-pi-cluster/terminal-play.png&#39;&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/p&gt;

&lt;h2 id=&#34;install-python&#34;&gt;Install Python&lt;/h2&gt;

&lt;p&gt;The last issue Ansible complained about was that it needed python installed on the Pis. Like everything else, the Bananna Pi already had this setup, but I had to install it on the two Raspberry Pis. It was simple enough:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo apt-get install python&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;install-ansible&#34;&gt;Install Ansible&lt;/h2&gt;

&lt;p&gt;I have a confession. So, you know how I have been fun and cheery by anthropomorphisizing Ansible, saying that it was &lt;em&gt;&amp;ldquo;happy&amp;rdquo;&lt;/em&gt; or &lt;em&gt;&amp;ldquo;frusterated&amp;rdquo;&lt;/em&gt; during the previous steps? That wasn&amp;rsquo;t true. I made it up. Ansible wasn&amp;rsquo;t &lt;em&gt;actually&lt;/em&gt; installed yet. &lt;em&gt;So&amp;hellip; to install Ansible&amp;hellip;&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo eopkg it ansible&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I used &lt;code&gt;eopkg&lt;/code&gt; because I am currently running &lt;a href=&#34;https://getsol.us&#34;&gt;Solus&lt;/a&gt;. You might use &lt;code&gt;sudo apt-get install ansible&lt;/code&gt;, &lt;code&gt;sudo dnf install ansible&lt;/code&gt;, or &lt;code&gt;pacaur -S ansible&lt;/code&gt; depending on whatever distro you are using.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s all for &lt;em&gt;setting up&lt;/em&gt; Ansible. I&amp;rsquo;ll cut this post off here, but in the next post, I&amp;rsquo;ll walk through the steps on how to get Ansible to be useful.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Setting Up My Pi Cluster</title>
      <link>http://ryan.himmelwright.net/post/setting-up-the-pi-cluster/</link>
      <pubDate>Fri, 05 May 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/setting-up-the-pi-cluster/</guid>
      <description>&lt;p&gt;I have a Raspberry Pi 2, a Raspberry Pi 3, and a Banana Pi. A while ago, I constructed a small tower to house my pi devices. Since then, I have additionally acquired a power source, and some CAT6 cable to connect them all up to a switch. I hope to use the Pis as a mini clustered environment, where I can learn (and play) with some of the &amp;ldquo;Devops&amp;rdquo; technologies/techniques out there. This post will briefly explain the initial setup of &lt;a href=&#34;../../pages/homelab/#cluster&#34;&gt;my cluster&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&#34;setting-up-the-os-images&#34;&gt;Setting up the OS Images&lt;/h1&gt;

&lt;p&gt;Before doing anything with the hardware, I had to setup the pi &amp;ldquo;hard drives&amp;rdquo; (micro SD cards), so they could boot.&lt;/p&gt;

&lt;h3 id=&#34;ubuntu-for-raspberry-pi&#34;&gt;Ubuntu for Raspberry PI&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;../../img/posts/Setting-Up-Pi-Cluster/ubuntu-logo.jpg&#34; style=&#34;max-width: 50%; height: auto; float: right; margin: 0px 2px 2px 2px;&#34;/&gt;&lt;/p&gt;

&lt;p&gt;After mucking around with Rapsbian and Hypriot one Sunday, I decided to just go with a plain Ubuntu image for the Raspberry Pis. I don&amp;rsquo;t have anything against these specific OSes, but I am mostly setting up this cluster to simulate what I would do on a &amp;ldquo;real&amp;rdquo; system. For me, that often means using a straight OS like Ubuntu.&lt;/p&gt;

&lt;p&gt;Luckily, Canonical makes special &lt;a href=&#34;https://wiki.ubuntu.com/ARM/RaspberryPi&#34;&gt;Ubuntu ARM images&lt;/a&gt;, specifically for the Raspberry Pi. I download the 16.04 server version for both the raspberry pi 2 and &lt;a href=&#34;http://www.finnie.org/software/raspberrypi/ubuntu-rpi3/ubuntu-16.04-preinstalled-server-armhf+raspi3.img.xz&#34;&gt;raspberry pi 3&lt;/a&gt;. The process to write these images to the microSD card differs slightly from ones I&amp;rsquo;ve used in the past. It still uses &lt;code&gt;dd&lt;/code&gt;, but the image is first piped through &lt;code&gt;xzcat&lt;/code&gt;, as such:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;xzcat ubuntu-16.04.2-preinstalled-server-armhf+raspi2.img.xz | sudo dd bs=4M of=/dev/mmcblk0
xzcat ubuntu-16.04-preinstalled-server-armhf+raspi3.img.xz   | sudo dd bs=4M of=/dev/mmcblk0&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;armbian&#34;&gt;Armbian&lt;/h3&gt;

&lt;p&gt;The one issue that I have with the Banana Pi compared to the Raspberry Pi, is that it is commonly not supported. It can be hard to find a bananna pi specific image, and the raspberry pi ones usually do not work. For example, while Canonical linked to Raspberry Pi images, it did not mention the banana pie.  This is where &lt;a href=&#34;https://www.armbian.com/&#34;&gt;Armbian&lt;/a&gt; comes in.&lt;/p&gt;

&lt;p&gt;Armbian is a lightweight Debian and Ubuntu based distribution, that provides builds for various ARM devices. Thus the name, &lt;em&gt;ARM-bian&lt;/em&gt;. One of these many supported devices&amp;hellip; is the &lt;a href=&#34;https://www.armbian.com/banana-pi/&#34;&gt;banana pi&lt;/a&gt;. I downloaded the Ubuntu 16.04 Server flavor of Armbian for the Banana PI, and copied it to my micro SD card with the command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo dd if=Armbian_5.25_Bananapi_Ubuntu_xenial_next_4.9.7.img  of=/dev/mmcblk0 bs=1M&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;hardware-setup&#34;&gt;Hardware Setup&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;../../img/posts/Setting-Up-Pi-Cluster/pi-cluster.png&#34; style=&#34;max-width: 40%; float: right; margin: 10px 10px 5px 10px;&#34;/&gt;&lt;/p&gt;

&lt;p&gt;After the operating system images have been copied the SD cards, the hardware can be setup. I started by inserting the microSD cards into the PIs, being careful to use the correct card with each device. Unlike the Raspberry PIs, the Bananna PI uses a normal SD card instead of a microSD, so I just left it in the converter card I used to connect it to my computer when imaging.&lt;/p&gt;

&lt;p&gt;After adding the &amp;ldquo;hard drives&amp;rdquo;, I connected each PI to my network switch, via Ethernet. In the future, I would like to put the cluster on it&amp;rsquo;s own mini (managed?) switch so that I can have the nodes on their own private network, but connected to my main network. For now, this works.&lt;/p&gt;

&lt;p&gt;Lastly, plug in the power connectors. Pi devices can be very finicky when not properly powered, so it is a good idea to use an capable USB charging device. I have had trouble in the past with my devices not working correctly due to insufficient power (especially the bpi). I knew this problem would be an even more pronounced with the cluster because I planned to connect a HD to the bpi with a SATA connector. So, I picked up an &lt;a href=&#34;https://www.amazon.com/Anker-Charger-PowerPort-Multi-Port-Samsung/dp/B00VH8ZW02/ref=sr_1_1?ie=UTF8&amp;amp;qid=1493860165&amp;amp;sr=8-1&amp;amp;keywords=Anker+power+port+5&#34;&gt;Anker Power Port 5&lt;/a&gt; and it has been working great.&lt;/p&gt;

&lt;p&gt;Lastly, two nice features of the banana pi is that it has a 1 GB ethernet port, &lt;em&gt;and&lt;/em&gt; a SATA connector with power. So, to utilize this functionality, and get the most out of the bpi, I ordered &lt;a href=&#34;https://www.amazon.com/JBtek-Connectors-Banana-Supply-Terminals/dp/B00ZP0L0VS/ref=sr_1_1?ie=UTF8&amp;amp;qid=1493860481&amp;amp;sr=8-1&amp;amp;keywords=banana+pi+sata&#34;&gt;the appropriate SATA connector&lt;/a&gt; from amazon for a few bucks. When it arrived, I connected it to the SATA and SATA power ports on the pi, and then to an old 300GB laptop HD I had laying around (it was the drive that came with &lt;a href=&#34;../../post/my-new-used-x230/&#34;&gt;my x230&lt;/a&gt;). After the drive was connected, running &lt;code&gt;lsblk&lt;/code&gt; on the bpi automatically showed a &lt;code&gt;/dev/sda&lt;/code&gt; device, in addition to the typical &lt;code&gt;mmcblk0&lt;/code&gt; microSD device. I  mounted the drive to a folder using the following command to test it out:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo mount /dev/sda1 Data&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With the hard drive mounted, I was able to browse its contents and see of all the crap still on it. The combination of the GB network and large HD makes the bpi a great little storage node, which is how I intend to use it.&lt;/p&gt;

&lt;h3 id=&#34;bootup-and-connecting-via-ssh&#34;&gt;Bootup and Connecting via SSH&lt;/h3&gt;

&lt;p&gt;When the Pis are plugged in, they should automatically boot up. In order to connect to them, I found their IPs from my main computer using &lt;code&gt;nmap&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo nmap -sP 192.168.1.0/24&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;caption&#34;&gt;This command may differ depending on your network setup&lt;/div&gt;

&lt;p&gt;The Raspberry PIs have &lt;code&gt;(Raspberry Pi Foundation)&lt;/code&gt; in the MAC address lines, and my Banana Pi had &lt;code&gt;bananapi&lt;/code&gt; in the host name. Once I had the IP addresses, I could ssh in using the default usernames and passwords for the images (the user/pass should be listed on the sites). After logging in for the first time, each PI prompted me to change the password (as it should).&lt;/p&gt;

&lt;h3 id=&#34;adding-a-sudo-user&#34;&gt;Adding A Sudo User&lt;/h3&gt;

&lt;p&gt;When connecting to remote devices, I don&amp;rsquo;t like to be logged in as root, so the first thing I did was setup my user account with sudo privileges, on the two Raspberry Pis (Armbian actually prompted me through these steps the first time I logged into the Banana pi. Kudos to them).&lt;/p&gt;

&lt;p&gt;To add the user, set it&amp;rsquo;s password (important), and then add it to the sudo group, I used the following commands:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;useradd -m -s /bin/bash ryan
passwd ryan
usermod -a -G sudo ryan&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;caption&#34;&gt;Yes, I know I can add the user to the sudo group in the `useradd` command, but I prefer to do it with `usermod`. Personal Preference.&lt;/div&gt;

&lt;p&gt;That&amp;rsquo;s it. At this point, all of my the PIs are minimally set up accessible. The next steps include updating packages, setting up ssh keys, and configuring &amp;hellip;. &lt;a href=&#34;https://www.ansible.com&#34;&gt;Ansible&lt;/a&gt;. But that will all be in the &lt;em&gt;next post&lt;/em&gt;. See you then!&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>ZFS Snapshot Backups to an External Drive with LUKS</title>
      <link>http://ryan.himmelwright.net/post/zfs-backups-to-luks-external/</link>
      <pubDate>Thu, 20 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>http://ryan.himmelwright.net/post/zfs-backups-to-luks-external/</guid>
      <description>&lt;p&gt;I have been using &lt;a href=&#34;https://en.wikipedia.org/wiki/ZFS&#34;&gt;ZFS&lt;/a&gt; data pools to store data on &lt;a href=&#34;../../pages/homelab/#ninetales&#34;&gt;my server&lt;/a&gt; for some time now. As great as that is, I am ashamed to admit that I have not had a &lt;em&gt;true&lt;/em&gt; backup system in place (raid/mirrors are not backup). I have a backup solution that I have attempted in the past, but ran into an issue and let it drift to the side. That changes now. It&amp;rsquo;s time to revisit my solution, and complete it to the end.&lt;/p&gt;

&lt;p&gt;Currently, my server is configured with two main zfs mirrored pools. The first one, &lt;code&gt;Data&lt;/code&gt;, is built on 2 x 3TB hard drives, providing 2.72 TB of usable disk space. It contains all of my wife&amp;rsquo;s and my data, organized into sub-category pools (ex: &lt;code&gt;Data/Music&lt;/code&gt;, &lt;code&gt;Data/Pictures&lt;/code&gt;, &lt;code&gt;Data/ryan&lt;/code&gt;, etc). The second, &lt;code&gt;Backups&lt;/code&gt;, is built on the 2 x 1TB hard drives from my old desktop, creating a 928 GB usable pool . It stores the automatic backups of some of the VMs and LXC containers hosted on the server.&lt;/p&gt;

&lt;p&gt;Before I had my 3TB drives, I bought a 2TB external hard drive to backup the 1TB drives to. While it isn&amp;rsquo;t as large as the total usable space on my server, it is enough to store my data backups to, for the time being.&lt;/p&gt;

&lt;p&gt;My goal is to setup a zfs pool on the external drive, so I can use zfs&amp;rsquo;s send &amp;amp; receive functionality to send bi-weekly-ish incremental snapshots to it. When I am not running backups, I want to store the drive at an off-site location. With the drive being stored elsewhere, I want to ensure that the data is protected, so I will be encrypting the it using &lt;a href=&#34;https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup&#34;&gt;LUKS&lt;/a&gt;, the Linux disk encryption software.&lt;/p&gt;

&lt;h3 id=&#34;setting-up-luks&#34;&gt;Setting up LUKS&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://gitlab.com/cryptsetup/cryptsetup/blob/master/README.md&#34;&gt;LUKS&lt;/a&gt; (Linux Unified Key Setup) is the standard for Linux disk encryption. I will use it to encrypt the external drive, and then present the LUKS mapper devices to ZFS as a block device. To do this, we need to first install &lt;code&gt;cryptsetup&lt;/code&gt; with &lt;code&gt;sudo apt-get install cryptsetup&lt;/code&gt; (Assuming you are on a Debian-based operating system). Once that is installed, we can use the &lt;code&gt;cryptsetup&lt;/code&gt; command to configure LUKS on the drive.&lt;/p&gt;

&lt;p&gt;The cryptsetup tool has a plethora of settings and options. After researching around, I decided to use options that the author of &lt;a href=&#34;http://www.makethenmakeinstall.com/2014/10/zfs-on-linux-with-luks-encrypted-disks/&#34;&gt;this post&lt;/a&gt; used, because they were doing something very similar to what I am trying. I configured LUKS on my external drive using the following command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cryptsetup luksFormat --cipher aes-xts-plain64 --key-size 512 --iter-time 10000 --use-random -y /dev/sdf&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;--cipher aex-xts-plain64&lt;/code&gt;and &lt;code&gt;--key-size 512&lt;/code&gt; refer to the algorithm and key size used to encrypt the data. In general, the larger the key, the harder the encryption is to crack.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;--iter-time 10000&lt;/code&gt; and &lt;code&gt;--use-random -y&lt;/code&gt; are additional precautions to make it more difficult to crack the encryption. The &lt;code&gt;--iter-time 10000&lt;/code&gt; means it will spend at least 10 seconds processing the passphrase each time the disk is unlocked. This makes it much harder to brute-force the passphrase.&lt;/p&gt;

&lt;p&gt;Once the device is encrypted, we need to unlock it and map it as a device. This is done using the command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo cryptsetup luksOpen /dev/sdf sdf-enc&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;/dev/sdf&lt;/code&gt; is the external disk, and &lt;code&gt;sdf-enc&lt;/code&gt; is whatever you want to name the unlocked device. This is the name that what will be used when referring to the unlocked device. With the drive is encrypted and unlocked, it&amp;rsquo;s time for some ZFS magic.&lt;/p&gt;

&lt;h3 id=&#34;creating-a-zfs-pool&#34;&gt;Creating a ZFS Pool&lt;/h3&gt;

&lt;p&gt;I am creating a zpool using just my single external drive, so the setup is very basic. No mirrors, no zvols. A simple zpool is created with the simple command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zpool create externalBackup sdf-enc&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That&amp;rsquo;s it.&lt;/p&gt;

&lt;h3 id=&#34;taking-base-snapshots&#34;&gt;Taking Base Snapshots&lt;/h3&gt;

&lt;p&gt;&lt;img alt=&#34;Taking a ZFS snapshot&#34; src=&#34;../../img/posts/ZFS-Backups-To-LUKS-External/snapshot.gif&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;div id=&#34;caption&#34;&gt;Taking a ZFS snapshot&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;With a zpool initialized on the externalDrive, I can now send snapshots to it. To start, I created a base snapshot to send. Starting with the smaller pool, &lt;code&gt;/Backups&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zfs snapshot -r Backups@VM-LXC-BackupBase&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This command creates a recursive snapshot of my &lt;code&gt;Backups&lt;/code&gt; zpool, named &lt;code&gt;VM-LXC-BackupBase&lt;/code&gt;. Making a base snapshot for my &lt;code&gt;/Data&lt;/code&gt; zpool is nearly the same:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zfs snapshot -r Data/DataBackupBase&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;sending-the-base-snapshots&#34;&gt;Sending the Base Snapshots&lt;/h3&gt;

&lt;p&gt;After taking base snapshots of the zpools, I can transfer them to the external drive using the zfs &lt;code&gt;send&lt;/code&gt; and &lt;code&gt;recv&lt;/code&gt; commands. Again, starting with the &lt;code&gt;VM-LXC-BackupBase&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zfs send Backups@VM-LXC-BackupBase | sudo zfs recv externalBackup/VM-LXC-BackupBase&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;caption&#34;&gt;Looking back, I realized I named this poorly... The external zpool should be `/externalBackup/VM-LXC-Backup`, not `BackupBase`, that name is just for the first *snapshot*. Oh well.&lt;/div&gt;

&lt;p&gt;Now for the slightly harder pool, &lt;code&gt;/Data&lt;/code&gt;, with all of the sub zpools. The first time I attempted this, only the parent &lt;code&gt;Data&lt;/code&gt; snapshot was copied, but none of the children were (&lt;code&gt;Data/Music&lt;/code&gt;, &lt;code&gt;Data/Pictures&lt;/code&gt;, etc). After some digging around the docs and online I realized I was missing the &lt;code&gt;-R&lt;/code&gt; to my &lt;code&gt;zfs send&lt;/code&gt; command.  Also note, that when using the &lt;code&gt;-R&lt;/code&gt; flag, the snapshot name for the destination pool are not specified (because it is copying multiple). It will use the same snapshot names from the source pool.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zfs send -R Data@DataBackupBase | sudo zfs recv externalBackup/DataBackup&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;incremental-backups&#34;&gt;Incremental Backups&lt;/h3&gt;

&lt;p&gt;Taking a snapshot of my data and sending it to an external drive is nice, but I don&amp;rsquo;t want to send all of the data each time I backup. Transferring can take a very long time, especially as my data pools continue to grow. I don&amp;rsquo;t want to sit around all day, listening to hard drives hum as my data transfers.&lt;/p&gt;

&lt;p&gt;&lt;center&gt;&lt;img alt=&#34;no time&#34; src=&#34;../../img/posts/ZFS-Backups-To-LUKS-External/aint-nobody-got-time-for-that.gif&#34; style=&#34;max-width: 100%;&#34;/&gt;&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;A useful feature of the zfs &lt;code&gt;send&lt;/code&gt; and &lt;code&gt;recv&lt;/code&gt; commands is the ability to send &lt;em&gt;incremental&lt;/em&gt; snapshots. This means when I want to update my backups, I can just send the &lt;em&gt;changes&lt;/em&gt; between the two snapshots. This is similar to &lt;a href=&#34;https://en.wikipedia.org/wiki/Diff_utility&#34;&gt;source code diffs&lt;/a&gt;, but for file systems.&lt;/p&gt;

&lt;p&gt;To send incremental snapshots, the &lt;code&gt;-i&lt;/code&gt; or &lt;code&gt;-I&lt;/code&gt; flag is used. The difference between the two is that the &lt;code&gt;-i&lt;/code&gt; flag will send the difference between the two snapshots listed, whereas &lt;code&gt;-I&lt;/code&gt; will send a series of snapshots between the two listed. For example, if I&amp;rsquo;ve taken several snapshots of my data (&lt;code&gt;A&lt;/code&gt;, &lt;code&gt;B&lt;/code&gt;, &lt;code&gt;C&lt;/code&gt;, and &lt;code&gt;D&lt;/code&gt;), but have neglected to copy them to the external drive since snapshot &lt;code&gt;A&lt;/code&gt;, I can use &lt;code&gt;-I A D&lt;/code&gt; in my &lt;code&gt;zfs send&lt;/code&gt; command, and all four of the snapshots will be sent to the external.&lt;/p&gt;

&lt;p&gt;To send an incremental update to my backup, I first created new snapshot for my pools (this time with a date):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zfs snapshot -r Backups@VM-LXC-Backup20170418
sudo zfs snapshot -r Data@DataBackup20170418&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, I sent the incremental changes between the base snapshots, and new ones I just made:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zfs send -R -i Backups@VM-LXC-BackupBase Backups@VM-LXC-Backup20170418 | sudo zfs recv externalBackup/VM-LXC-BackupBase
sudo zfs send -R -i Data@DataBackupBase Data@DataBackup20170418 | sudo zfs recv externalBackup/DataBackup&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that I specify &lt;em&gt;two&lt;/em&gt; snapshots in the send command, to define the range of differences to send.&lt;/p&gt;

&lt;h4 id=&#34;a-minor-issue&#34;&gt;A Minor Issue&lt;/h4&gt;

&lt;p&gt;The first time I tried sending an incremental backup, I encountered a minor issue. ZFS gave me an error stating that my destination had been changed since last snapshot (meaning the base snapshot on the externalBackup pool). I looked this up online and it seems that sometimes, just looking around the pool can change files. Some people recommended setting the destination pool to read-only, so I did that to my backup pool with:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zfs set readonly=on externalBackup&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I am not sure if this will eliminate this problem in the future, but I guess I will find out.&lt;/p&gt;

&lt;p&gt;I still had the error when sending, so I added the &lt;code&gt;-F&lt;/code&gt; flag to the &lt;code&gt;zfs recv&lt;/code&gt; command. I am not sure if this was the &lt;em&gt;best&lt;/em&gt; solution, but it seemed to be okay. I also thought about rolling back to the snapshot, and then copying which is likely a safer method (if you don&amp;rsquo;t mind losing the &amp;ldquo;changes&amp;rdquo; on the destination pool).&lt;/p&gt;

&lt;h3 id=&#34;safely-closing-and-removing-the-external-drive&#34;&gt;Safely Closing and Removing the External Drive&lt;/h3&gt;

&lt;p&gt;&lt;img alt=&#34;Exporting the zpool&#34; src=&#34;../../img/posts/ZFS-Backups-To-LUKS-External/export-drive.gif&#34; style=&#34;max-width: 100%;&#34;/&gt;
&lt;div id=&#34;caption&#34;&gt;Exporting the zpool and closing the LUKS device&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;When the incremental backups finishes transferring, the external drive can be removed. The sequence of steps to do this safely are 1) export the zpool 2) close the LUKS device, and 3) unplug the drive. To export the zpool and close the LUKS device I used the commands:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zpool export externalBackup
sudo cryptSetup luksClose sdf-enc&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After that, I was able to unplug the external drive, and store it in a safe location, until I need to backup data to it again.&lt;/p&gt;

&lt;h3 id=&#34;opening-and-importing-zpool-for-recurring-backups&#34;&gt;Opening and Importing zpool for Recurring Backups&lt;/h3&gt;

&lt;p&gt;Lastly, there are a few steps to take when reconnecting the drive to run a daily/monthly/weekly (whatever) backup. First, the drive must be decrypted and mounted, using the same command as above:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo cryptSetup luksOpen /dev/sdf sdf-enc&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, the zpool on the drive must be imported so that it can be used from the main system. Like exporting the pool, the command is simple:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo zpool import externalBackup&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That&amp;rsquo;s it. Now the steps detailing taking snapshots and sending incremental backups can be repeated.&lt;/p&gt;

&lt;h3 id=&#34;summary&#34;&gt;Summary&lt;/h3&gt;

&lt;p&gt;I am happy with this solution for now. It allows me to leverage ZFS a bit more, and become more familiar with it. The biggest issue I will likely face is space on the external drive. Luckily, ZFS makes it easy to delete old snapshots. In the future, I might also consider using an online backup solution like &lt;a href=&#34;https://www.tarsnap.com/&#34;&gt;Tarsnap&lt;/a&gt;, but I need to find a cost-effective one first. I&amp;rsquo;ll be sure to update as I continue to expand my backup solution.&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>
