<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Encountered Issues Setting Up Ubiquiti Network -- λ ryan. himmelwright. net</title>

    

    
    <link href="http://ryan.himmelwright.net/css/bootstrap.min.css" rel="stylesheet">

    
    <link href="http://ryan.himmelwright.net/css/clean-blog.min.css" rel="stylesheet">

    
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    
    
    



    
    <script type="text/javascript">
        var _paq = _paq || [];
         
        _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
        _paq.push(["setCookieDomain", "*.ryan.himmelwright.net"]);
        _paq.push(["setDomains", ["*.ryan.himmelwright.net"]]);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u="//cloud.himmelwright.net/piwik/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
        </script>
        <noscript><p><img src="//cloud.himmelwright.net/piwik/piwik.php?idsite=1&rec=1" style="border:0;" alt="" /></p></noscript>
        



</head>

<body>

    
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://ryan.himmelwright.net">λ ryan. himmelwright. net</a>
            </div>

                       
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    
                    <li>
                        <a href="../../">home</a>
                    </li>
                    
                    <li>
                        <a href="../../pages/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="../../pages/homelab/">Homelab</a>
                    </li>
                    
                    <li>
                        <a href="../../tags">tags</a>
                    </li>
                    
                    <li>
                        <a href="../../post/">Archives</a>
                    </li>
                    
                    <li>
                        <a href="../../post/index.xml">RSS</a>
                    </li>
                    
                  </ul>
            </div>
           

        </div>
        
    </nav>




<header class="intro-header" style="background-image: url('http://ryan.himmelwright.net/img/header-images/flooded-slide.jpg')">
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Encountered Issues Setting Up Ubiquiti Network</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        
Posted by <a href="#">Ryan Himmelwright</a> on Thu, Jun 29, 2017







<br />
Tags <a href="../../tags/homelab">homelab</a>, <a href="../../tags/network">network</a>, <a href="../../tags/ubiquiti">ubiquiti</a>, <a href="../../tags/wifi">wifi</a>

                    </span>
                </div>
            </div>
        </div>
    </div>
    
    <span class="header-caption">WWI Memorial Park, North Attleboro, MA USA</span>
    
    </header>

    
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    
                    <p>This past weekend, I setup my new ubiquiti network. It actually took up a good
portion of Sunday, because I ran into a few minor issues.
Fortunately/Unfortunately, these issues were mostly because it my first time
configuring this type of setup, and there was a lot of trial and error. The basic
network is now all configured and has been running great. It was a good day and I
learned a lot :). In fact, I am confident that if I had to start over from
scratch, the process would take me about 10-15 minutes. Just to be sure, I&rsquo;m
 going to quickly jot down the major pain points I experienced my first time around.</p>

<h2 id="trouble-connecting-to-the-edgerouter-x-for-initial-setup">Trouble Connecting to the EdgeRouter-x for Initial Setup</h2>

<p><center>
<img alt="During initial setup, I was connecting the router wrong" src="../../img/posts/ubiquiti-setup-issues/wrong-router-connection.png" style="max-width: 100%;"/>
</center>
<em>During initial setup, I was connecting the router wrong</em></p>

<p>The edgerouter needed to be directly connected to a computer during its initial
setup, to make the EdgeOS configuration wizard accessible. The
instructions clearly stated to connect an ethernet cable from my laptop to the
<code>eth0/POE</code> port on the edgerouter, but I guess I didn&rsquo;t believe them.</p>

<p>Instead, I plugged the ethernet cable from my modem into <code>eth0</code>, and my computer
to <code>eth1</code>. That didn&rsquo;t work. However, once I <em>properly</em> connected the devices (and
manually set a static IP on my laptop, <code>192.168.1.2</code> for example), I was able to access
the configuration page in my browser via <code>https://192.168.1.1</code> (don&rsquo;t forget
the <em>s</em> in <em>https</em>). Lesson Learned: manuals are (<em>usually</em>) not out to get you.</p>

<h2 id="setting-up-poe-and-connecting-the-ap">Setting up POE and Connecting the AP</h2>

<p>This was not actually an issue I encountered, but rather a confusion. I was unsure what the best setup for
the <a href="https://en.wikipedia.org/wiki/Power_over_Ethernet">POE</a> hardware was. At
first, I had the POE adaptor connected between the edgerouter and the AP,
because I wasn&rsquo;t sure if it could optimally power both devices. I found
an
<a href="https://www.youtube.com/watch?v=f7FeYsJqotc&amp;list=PLDBkup9c8YMgZaE50hAjP7rbbVriTlyQf&amp;index=1">informative guide</a> that
indicated that the POE adaptor could indeed power both.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">Modem  --
        |
         --&gt; POE Adaptor --&gt; (*eth0*)  edgerouter-x  (*eth4*) --&gt; AP Lite
        |
Power  --</code></pre></div>
<p><em>Digram describing the correct link up</em></p>

<p>Once I swapped the cables all around, I had to go into the router
configuration and enable the POE for <code>eth4</code>. Afterwards, the AP lit up,
indicating that it was connected and powered.</p>

<h2 id="issues-linking-configuring-the-ap">Issues linking/configuring the AP</h2>

<p>This was the problem I spent the most time on. I had to install the
configuration software for the Ubiquiti access point, but the &ldquo;Linux binary&rdquo; was
a .deb, and I didn&rsquo;t feel like extracting the contents of the package so that I
could install it on Solus (yet). So instead, I spun up a few Ubuntu VMs to try
it out, but I over-looked the fact that VMs on my laptop use a
different subnet (192.168.<strong>122</strong>. *) for the virtual network. I had hoped that
because the VM&rsquo;s network was routed through my laptop, which was connected
directly to the edgerouter, it would still be able to see the access point.
Regardless&hellip; the AP couldn&rsquo;t see the VM and vice versa. Finally, I admitted
that the issues were most likely caused by the 192.168.122.* IP address that the VM was
assigned.</p>

<p><center>
<img alt="During initial setup, I was connecting the router wrong" src="../../img/posts/ubiquiti-setup-issues/ubuntu.png" width="45%">
<img alt="During initial setup, I was connecting the router wrong" src="../../img/posts/ubiquiti-setup-issues/venomoth.png" width="35%">
</center>
<em>I spun up a new Ubuntu VM (Venomoth) to host the Ubifi controller</em></p>

<p>By this point, I had also learned that the Linux software is more of a server
service, and not a GUI desktop application. So, I concluded that spinning up a
dedicated VM on my server to host the wifi controller was worth it. Virtual
machines hosted on my server automatically get configured on the main
subnet, so it also resolved my issue. I was able to detect and configure the
access point immediately. This setup made more sense anyway, as I can always
connect to the AP controller by going to the VM&rsquo;s IP on my browser,  just like I
can with my router.</p>

<p>Well, that was all of my setup &ldquo;<em>issues</em>&rdquo;. There was nothing I would consider to
be an actual <em>issue</em>, just some confusions of an Ubiquiti/POE first-timer. Like
I stated earlier, I am sure I could redo the setup in about 15 minutes without any
issues&hellip; 10 now that I recorded everything in the post!</p>

                    
                    
                        <div style="float: left; text-decoration: underline; text-align: right;">Next Post:</div>
                    
                    
                         <div style="float: right; text-decoration: underline; text-align: right;">Prev Post:</div>
                    
                    <br>
                    
                        <a href="http://ryan.himmelwright.net/post/creating-a-git-remote/" style="text-align: left; float: left; max-width: 40%;">Creating a git Repo Remote</a>
                    
                    
                        <a href="http://ryan.himmelwright.net/post/upgrading-network-to-ubiquiti/" style="text-align: right; float: right; max-width: 40%">Home Network Ubiquiti Upgrade</a>
                    

			
			<div class="comment-section">
			  

			</div>
                </div>
            </div>
        </div>
    </article>

        <hr>
    
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                  <ul class="list-inline text-center">
                    
                      <li>
                        <a href="mailto:ryan@himmelwright.net">
                          <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                          </span>
                        </a>
                      </li>
                    
                    
                    <li>
                      <a href="https://github.com/himmAllRight">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                    <li>
                      <a href="https://www.linkedin.com/in/ryan-himmelwright-b3891774/">
                        <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                        </span>
                      </a>
                    </li>
                    
                  </ul>
<p class="copyright text-muted">

<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img
  alt="Creative Commons License" style="border-width:0"
  src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />This work
by <a xmlns:cc="http://creativecommons.org/ns#" href="http://ryan.himmelwright.net" property="cc:attributionName" rel="cc:attributionURL">Ryan Himmelwright</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</p>
                </div>
            </div>
        </div>
    </footer>

    
    <script src="http://ryan.himmelwright.net/js/jquery.min.js"></script>

    
    <script src="http://ryan.himmelwright.net/js/bootstrap.min.js"></script>

    
    <script src="http://ryan.himmelwright.net/js/clean-blog.js"></script>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-123-45', 'auto');
	
	ga('send', 'pageview');
}
</script>


</body>

</html>

