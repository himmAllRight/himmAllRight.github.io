<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>λ ryan . himmelwright . net: NixOS Part 1: Introduction to NixOS</title>
    <link rel="canonical" href="http://ryan.himmelwright.net/posts/introduction-to-nixos/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='http://fonts.googleapis.com/css?family=Alegreya:400italic,700italic,400,700' rel='stylesheet'
          type='text/css'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css">
    <link href="/css/screen.css" rel="stylesheet" type="text/css" />

    <!-- Piwik -->
    <script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(["setDomains", ["*.ryan.himmelwright.net"]]);
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
      var u="//himmelwright.net/piwik/";
      _paq.push(['setTrackerUrl', u+'piwik.php']);
      _paq.push(['setSiteId', 2]);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <noscript><p><img src="//himmelwright.net/piwik/piwik.php?idsite=2" style="border:0;" alt="" /></p></noscript>
    <!-- End Piwik Code -->

  </head>
  <body>


    <nav class="navbar navbar-default">
      <div class="container">
	<div class="navbar-header">
	  
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">λ ryan . himmelwright . net</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li ><a href="/">Home</a></li>
            
            <li
               >
              <a href="/pages/about/">About</a>
            </li>
            
            <li
               >
              <a href="/pages/homelab/">Homelab</a>
            </li>
            
	    <li
               ><a href="/archives/">Archives</a></li>
            <li><a href="/feed.xml">RSS</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div><!--/.container-fluid -->
    </nav>


    <div class="container">

      <div id="sidebar">
	<div id="sidebar-info">
	  <h3>Ryan Himmelwright</h3>
	  <img src=http://ryan.himmelwright.net/img/avatar.jpg width= 100%>


	  Software Developer, Functional Programming and Linux Enthusiast

	  <div id="sidebar-icons">
	    <!-- Github -->
	    <a href="https://www.github.com/himmAllRight"
	       title="himmAllRight on GitHub"
	       target="_blank"><img src=http://ryan.himmelwright.net/img/icons/Github.png width=30px></a>

	    <!-- HackerRank -->
	    <a href="https://www.hackerrank.com/himmAllRight"
	       title="himmAllRight on HackerRank "
	       target="_blank"><img src=http://ryan.himmelwright.net/img/icons/hackerrank.png width=30px></a>

	    <!-- Linkedin -->
	    <a href="https://www.linkedin.com/in/ryan-himmelwright-b3891774"
	       title="Ryan Himmelwright on Linkedin"
	       target="_blank"><img src=http://ryan.himmelwright.net/img/icons/Linkedin.png
				    width=30px></a>

	    <!-- Twitter -->
	    <a href="https://www.twitter.com/himmAllRight17"
	       title="himmAllRight17 on Twitter "
	       target="_blank"><img src=http://ryan.himmelwright.net/img/icons/Twitter.png
				    width=30px></a>

	    <!-- Email
		 <a href="mailto:ryan.himmelwright@gmail.com"
		    title="Email me at ryan.himmelwright@gmail.com"
		    target="_blank"><img src=http://ryan.himmelwright.net/img/icons/email.png width=30px></a>
		 -->

	    <a href="mailto:ryan.himmelwright@gmail.com"
	       title="Email me at ryan.himmelwright@gmail.com"
	       target="_blank">
	      
	      <img src=http://ryan.himmelwright.net/img/icons/email.png id="email1" width="30" height="30" alt="email" usemap="#socialiconmap">
	      <map name="socialiconmap">
		<area shape="poly" coords="..." alt="mail"
		      onmouseover="document.getElementById('image1').src=http://ryan.himmelwright.net/img/icons/email_orange.png" 
		      onmouseout="document.getElementById('image1').src='image1.png'"/>
	      </map>

	      
	    </a>

	  </div>
	</div>

	<div id="sidebar-links">
	  
	  
          
          <div id="recent">
	    <h3>Recent Posts</h3>
	    <ul>
              
              <li><a href="/posts/LFS-Getting-Started/">Linux from Scratch - Getting Started</a></li>
              
              <li><a href="/posts/installing-nextcloud-snap/">Installing Nextcloud 11 in a Snap</a></li>
              
              <li><a href="/posts/setting-up-nixos/">NixOS Part 2: Setting up NixOS</a></li>
              
              <li><a href="/posts/introduction-to-nixos/">NixOS Part 1: Introduction to NixOS</a></li>
              
              <li><a href="/posts/introducing-kadabra/">Introducing Kadabra - My New, Used x230</a></li>
              
	    </ul>
          </div>
          
          
          <div id="tags">
	    <h3>Tags</h3>
	    <ul>
              
              <a href="/tags-output/Cryogen/">[Cryogen]</a> 
              
              <a href="/tags-output/NixOS/">[NixOS]</a> 
              
              <a href="/tags-output/snapd/">[snapd]</a> 
              
              <a href="/tags-output/Nextcloud/">[Nextcloud]</a> 
              
              <a href="/tags-output/Wedding/">[Wedding]</a> 
              
              <a href="/tags-output/KDE/">[KDE]</a> 
              
              <a href="/tags-output/Arch Linux/">[Arch Linux]</a> 
              
              <a href="/tags-output/Website/">[Website]</a> 
              
              <a href="/tags-output/C/">[C]</a> 
              
              <a href="/tags-output/LFS/">[LFS]</a> 
              
              <a href="/tags-output/Linux/">[Linux]</a> 
              
              <a href="/tags-output/Clojure/">[Clojure]</a> 
              
              <a href="/tags-output/Thinkpad/">[Thinkpad]</a> 
              
              <a href="/tags-output/Programming/">[Programming]</a> 
              
              <a href="/tags-output/Snap/">[Snap]</a> 
              
              <a href="/tags-output/Korora/">[Korora]</a> 
              
              <a href="/tags-output/Functional/">[Functional]</a> 
              
	    </ul>
          </div>
          
	</div>
      </div>
      




      <div id="content">
        
<div id="post">
    <div class="post-header">
    <div id="post-meta" class="row">
        <div class="col-lg-6">December 16, 2016</div>
        
        <span class="col-lg-6 right">By: Ryan Himmelwright</span>
        
    </div>
    <h2>NixOS Part 1: Introduction to NixOS</h2>
</div>
<div id="post-body">
    
    <p>If someone were to ask my what my top three interests in computing right now I think I would say (in no particular order): 1) Functional Programming and Languages 2) Linux Operating Systems and related technology, and lastly, 3) Large distributed computing systems (with an specific interest in build systems)</p><p>So, is there a project out there that contains bits of all three of my computing interests? Yes there is. And it is called <a href='https://nixos.org'>NixOS</a>.</p><p><!&ndash; more &ndash;></p><p>I have followed NixOS for a few years now, playing with it off and on. I even had it installed as the main OS on my netbook for awhile. Recently, I have gotten the urge to once again scratch that itch... This time by seeing if I can install it on my main laptop, Alakazam.</p><h3><a name="the&#95;nix&#95;package&#95;manager"></a>The Nix package manager</h3>Before diving into NixOS, it is probably a good idea to first take some time and explain the <a href='https://nixos.org/nix'>nix package manager</a>. Nix is a purely functional package manager for Linux and Unix operating systems that aims to provide reliable and reproducable builds for users. It is considered a "purely functional" package manager because it treaks packages like values in a purely functional programming language (think <a href='https://www.haskell.org'>Haskell</a>). That is to say, packages are built by functions that don't have side-effects, and are immutable, meaning they don't ever change after being built. <h4><a name="functional&#95;package&#95;building"></a>Functional Package Building</h4><p><img src="../../img/posts/introduction-to-nixos/firefox-hash.png" alt="Nix packages are hashed and stored in the Nix Store" /></p><p>Nix packages are built using the Nix expressions, which is a simple pure, lazy, functional language (You can evel install a repl of it. Just use the nix command <code>nix-env -i nix-repl</code> to install it). A Nix expression describe everything that goes into building a package, and is a key part of allowing Nix packages to be deterministic. Nix stores built packages in something called the <code>nix-store</code>, which is maintained seperately from the system's package manager (unless the os is NixOS of course). This directory is commonly found at <code>/nix/store/</code>, but it can be installed elsewhere if desired. Each package in the nix store has it's own sub-directory with an obnoxiously long name. For example, you might see something similar to <code>/nix/store/9qhnlzh6q4s9bsq75vqi93misaym2nys-firefox-41.0/</code>. The random string of giberish in front of the package's name is actually a unique cryptographic hash of the build. Remember how I said nix is a functional package manager? When a package is built, all of its dependencies and versions are pumped through a hashing algorithm to create this unique identifier. In purley functional programming languages, a function takes and input and returns an output. Functions are not allowed to have side effects, so if the function is given the same input, it should always return the same output. Nix works the same why. If two packages are built with the exact same settings and dependencies, the resulting builds should be identical and have the same hash. However, if even a single dependency is a different version for one of the builds, the outputs are not considered identical (even if the functionality is the exact same), and the two builds will have different hashes as a result. The executable commands are then symlinked to the builds in the nix store so that the full hashed name isn't required. For example, instead of needing to launch the long name listed above,<code>firefox</code> is be linked to the package to make it easier.</p><h3><a name="benefits&#95;of&#95;a&#95;functional&#95;package&#95;manager"></a>Benefits of a Functional Package Manager</h3><h4><a name="complete&#95;dependencies&#95;and&#95;multiple&#95;user&#95;support"></a>Complete Dependencies and Multiple User Support</h4><h4><a name="multiple&#95;versions"></a>Multiple Versions</h4>Because <h4><a name="atomic&#95;upgrades&#95;and&#95;rollbacks"></a>Atomic Upgrades and Rollbacks</h4><h3><a name="what&#95;is&#95;nixos?"></a>What is NixOS?</h3><h3><a name="why&#95;use&#95;a&#95;declarative&#95;functional&#95;operating&#95;system?"></a>Why use a Declarative Functional Operating System?</h3><p><img src="../../img/posts/introduction-to-nixos/list-generations.png" alt="Changes are automatically saved and can be rolled back to" /></p>
</div>

<div id="post-tags">
    <b>Tags: </b>
    
    <a href="/tags-output/NixOS/">[NixOS]</a>
    
    <a href="/tags-output/Linux/">[Linux]</a>
    
    <a href="/tags-output/Functional/">[Functional]</a>
    
</div>


    <div id="prev-next">
        
        <a href="/posts/setting-up-nixos/">&laquo; NixOS Part 2: Setting up NixOS</a>
        
        
        <a class="right" href="/posts/introducing-kadabra/">Introducing Kadabra - My New, Used x230 &raquo;</a>
        
    </div>

    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//himmAllRight.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    


</div>

      </div>


    </div>
    <footer>Copyright &copy;  <a href="mailto: ryan.himmelwright@gmail.com">Ryan Himmelwright</a>
      <p style="text-align: center;">Powered by <a href="http://cryogenweb.org">Cryogen</a></p></footer>

    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="/js/highlight.pack.js" type="text/javascript"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
